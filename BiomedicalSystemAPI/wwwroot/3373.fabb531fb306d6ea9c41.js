"use strict";(self.webpackChunkbio_medical=self.webpackChunkbio_medical||[]).push([[3373],{73373:(L,p,t)=>{t.r(p),t.d(p,{createLabelFunction:()=>C,formatField:()=>D});var v=t(49996),g=t(61414),O=t(22345),E=t(14089),M=t(62073),P=t(6663),m=t(49671),h=t(2999);const U=O.Z.getLogger("esri.layers.support.labelFormatUtils"),y={type:"simple",evaluate:()=>null},b={getAttribute:(n,l)=>n.field(l)};function C(n,l,e){return f.apply(this,arguments)}function f(){return(f=(0,v.Z)(function*(n,l,e){if(!n||!n.symbol)return y;const o=n.where,r=(0,m.hV)(n),d=o?yield t.e(6403).then(t.bind(t,36403)):null;let i;if("arcade"===r.type){const a=yield(0,h.WW)(r.expression,e,l);i={type:"arcade",evaluate(u){try{const s=a.evaluate({$feature:"attributes"in u?a.repurposeFeature(u):a.repurposeAdapter(u)});if(null!=s)return s.toString()}catch(s){U.error(new g.Z("bad-arcade-expression","Encountered an error when evaluating label expression for feature",{feature:u,expression:r}))}return null},needsHydrationToEvaluate:()=>null==(0,m.el)(r.expression)}}else i={type:"simple",evaluate:a=>r.expression.replace(/{[^}]*}/g,u=>{const s=u.slice(1,-1),_=l.get(s);if(!_)return u;let c=null;return"attributes"in a?a&&a.attributes&&(c=a.attributes[_.name]):c=a.field(_.name),null==c?"":D(c,_)})};if(o){let a;try{a=d.WhereClause.create(o,l)}catch(s){return y}const u=i.evaluate;i.evaluate=s=>{const _="attributes"in s?void 0:b;return a.testFeature(s,_)?u(s):null}}return i})).apply(this,arguments)}function D(n,l){if(null==n)return"";const e=l.domain;if(e)if("codedValue"===e.type||"coded-value"===e.type){const r=n;for(const d of e.codedValues)if(d.code===r)return d.name}else if("range"===e.type){const r=+n,d="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(d<=r&&r<=i)return e.name}let o=n;return"date"===l.type||"esriFieldTypeDate"===l.type?o=(0,E.p6)(o,(0,E.Ze)("short-date")):(0,P.H7)(l)&&(o=(0,M.uf)(+o)),o||""}}}]);
//# sourceMappingURL=3373.fabb531fb306d6ea9c41.js.map