"use strict";var U=Object.defineProperty,W=Object.defineProperties,B=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,I=(d,a,r)=>a in d?U(d,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):d[a]=r,y=(d,a)=>{for(var r in a||(a={}))G.call(a,r)&&I(d,r,a[r]);if(F)for(var r of F(a))z.call(a,r)&&I(d,r,a[r]);return d},x=(d,a)=>W(d,B(a));(self.webpackChunkbio_medical=self.webpackChunkbio_medical||[]).push([[5418],{76949:(d,a,r)=>{r.r(a),r.d(a,{default:()=>Q});var l=r(49996),i=r(79076),m=(r(61243),r(18502)),N=r(30164),n=r(94911),j=(r(45072),r(30627)),Z=(r(55865),r(38650)),g=r(96410),D=r(33830),J=r(23412),P=r(7808),R=r(25304),w=r(42762),T=r(70157);let p=class extends J.Z{constructor(t){var e;super(t),e=this,this.type="csv",this.refresh=(0,P.Ds)(function(){var o=(0,l.Z)(function*(u){yield e.load();const{extent:f,timeExtent:c}=yield e._connection.invoke("refresh",u);return e.sourceJSON.extent=f,c&&(e.sourceJSON.timeInfo.timeExtent=[c.start,c.end]),{dataChanged:!0,updates:{extent:e.sourceJSON.extent,timeInfo:e.sourceJSON.timeInfo}}});return function(u){return o.apply(this,arguments)}}())}load(t){const e=(0,m.pC)(t)?t.signal:null;return this.addResolvingPromise(this._startWorker(e)),Promise.resolve(this)}destroy(){var t;null==(t=this._connection)||t.close(),this._connection=null}openPorts(){var t=this;return(0,l.Z)(function*(){return yield t.load(),t._connection.openPorts()})()}queryFeatures(t,e={}){var o=this;return(0,l.Z)(function*(){yield o.load(e);const u=yield o._connection.invoke("queryFeatures",t?t.toJSON():null,e);return w.default.fromJSON(u)})()}queryFeaturesJSON(t,e={}){var o=this;return(0,l.Z)(function*(){return yield o.load(e),o._connection.invoke("queryFeatures",t?t.toJSON():null,e)})()}queryFeatureCount(t,e={}){var o=this;return(0,l.Z)(function*(){return yield o.load(e),o._connection.invoke("queryFeatureCount",t?t.toJSON():null,e)})()}queryObjectIds(t,e={}){var o=this;return(0,l.Z)(function*(){return yield o.load(e),o._connection.invoke("queryObjectIds",t?t.toJSON():null,e)})()}queryExtent(t,e={}){var o=this;return(0,l.Z)(function*(){yield o.load(e);const u=yield o._connection.invoke("queryExtent",t?t.toJSON():null,e);return{count:u.count,extent:T.Z.fromJSON(u.extent)}})()}querySnapping(t,e={}){var o=this;return(0,l.Z)(function*(){return yield o.load(e),o._connection.invoke("querySnapping",t,e)})()}_startWorker(t){var e=this;return(0,l.Z)(function*(){e._connection=yield(0,R.bA)("CSVSourceWorker",{strategy:(0,j.Z)("feature-layers-workers")?"dedicated":"local",signal:t});const{url:o,delimiter:u,fields:f,latitudeField:c,longitudeField:M,spatialReference:b,timeInfo:O}=e.loadOptions,v=yield e._connection.invoke("load",{url:o,customParameters:e.customParameters,parsingOptions:{delimiter:u,fields:null==f?void 0:f.map(V=>V.toJSON()),latitudeField:c,longitudeField:M,spatialReference:null==b?void 0:b.toJSON(),timeInfo:null==O?void 0:O.toJSON()}},{signal:t});e.locationInfo=v.locationInfo,e.sourceJSON=v.layerDefinition,e.delimiter=v.delimiter})()}};(0,i._)([(0,n.Cb)()],p.prototype,"type",void 0),(0,i._)([(0,n.Cb)()],p.prototype,"loadOptions",void 0),(0,i._)([(0,n.Cb)()],p.prototype,"customParameters",void 0),(0,i._)([(0,n.Cb)()],p.prototype,"locationInfo",void 0),(0,i._)([(0,n.Cb)()],p.prototype,"sourceJSON",void 0),(0,i._)([(0,n.Cb)()],p.prototype,"delimiter",void 0),p=(0,i._)([(0,g.j)("esri.layers.graphics.sources.CSVSource")],p);const C=p;var E=r(45033),h=r(37995),S=r(26912),L=r(96583);let s=class extends D.default{constructor(...t){super(...t),this.capabilities=(0,E.MS)(!1,!1),this.delimiter=null,this.editingEnabled=!1,this.fields=null,this.latitudeField=null,this.locationType="coordinates",this.longitudeField=null,this.operationalLayerType="CSV",this.outFields=["*"],this.path=null,this.portalItem=null,this.spatialReference=L.Z.WGS84,this.source=null,this.type="csv"}normalizeCtorArgs(t,e){return"string"==typeof t?y({url:t},e):t}get isTable(){return this.loaded&&null==this.geometryType}readWebMapLabelsVisible(t,e){return null!=e.showLabels?e.showLabels:!!(e.layerDefinition&&e.layerDefinition.drawingInfo&&e.layerDefinition.drawingInfo.labelingInfo)}set url(t){if(!t)return void this._set("url",t);const e=(0,N.mN)(t);this._set("url",e.path),e.query&&(this.customParameters=y(y({},this.customParameters),e.query))}createGraphicsSource(t){var e=this;return(0,l.Z)(function*(){const o=new C({loadOptions:{delimiter:e.delimiter,fields:e.fields,latitudeField:e.latitudeField,longitudeField:e.longitudeField,spatialReference:e.spatialReference,timeInfo:e.timeInfo,url:e.url},customParameters:e.customParameters});return e._set("source",o),yield o.load({signal:t}),e.read({locationInfo:o.locationInfo,columnDelimiter:o.delimiter},{origin:"service",url:e.parsedUrl}),o})()}queryFeatures(t,e){return this.load().then(()=>this.source.queryFeatures(h.Z.from(t)||this.createQuery())).then(o=>{if(null!=o&&o.features)for(const u of o.features)u.layer=u.sourceLayer=this;return o})}queryObjectIds(t,e){return this.load().then(()=>this.source.queryObjectIds(h.Z.from(t)||this.createQuery()))}queryFeatureCount(t,e){return this.load().then(()=>this.source.queryFeatureCount(h.Z.from(t)||this.createQuery()))}queryExtent(t,e){return this.load().then(()=>this.source.queryExtent(h.Z.from(t)||this.createQuery()))}write(t,e){return super.write(t,x(y({},e),{writeLayerSchema:!0}))}hasDataChanged(){var t=this;return(0,l.Z)(function*(){try{const{dataChanged:e,updates:o}=yield t.source.refresh(t.customParameters);return(0,m.pC)(o)&&t.read(o,{origin:"service",url:t.parsedUrl,ignoreDefaults:!0}),e}catch(e){}return!1})()}_verifyFields(){}_verifySource(){}_hasMemorySource(){return!1}};(0,i._)([(0,n.Cb)({readOnly:!0,json:{read:!1,write:!1}})],s.prototype,"capabilities",void 0),(0,i._)([(0,n.Cb)({type:[","," ",";","|","\t"],json:{read:{source:"columnDelimiter"},write:{target:"columnDelimiter",ignoreOrigin:!0}}})],s.prototype,"delimiter",void 0),(0,i._)([(0,n.Cb)({readOnly:!0,type:Boolean,json:{origins:{"web-scene":{read:!1,write:!1}}}})],s.prototype,"editingEnabled",void 0),(0,i._)([(0,n.Cb)({json:{read:{source:"layerDefinition.fields"},write:{target:"layerDefinition.fields"}}})],s.prototype,"fields",void 0),(0,i._)([(0,n.Cb)({type:Boolean,readOnly:!0})],s.prototype,"isTable",null),(0,i._)([(0,Z.r)("web-map","labelsVisible",["layerDefinition.drawingInfo.labelingInfo","showLabels"])],s.prototype,"readWebMapLabelsVisible",null),(0,i._)([(0,n.Cb)({type:String,json:{read:{source:"locationInfo.latitudeFieldName"},write:{target:"locationInfo.latitudeFieldName",ignoreOrigin:!0}}})],s.prototype,"latitudeField",void 0),(0,i._)([(0,n.Cb)({type:["show","hide"]})],s.prototype,"listMode",void 0),(0,i._)([(0,n.Cb)({type:["coordinates"],json:{read:{source:"locationInfo.locationType"},write:{target:"locationInfo.locationType",ignoreOrigin:!0,isRequired:!0}}})],s.prototype,"locationType",void 0),(0,i._)([(0,n.Cb)({type:String,json:{read:{source:"locationInfo.longitudeFieldName"},write:{target:"locationInfo.longitudeFieldName",ignoreOrigin:!0}}})],s.prototype,"longitudeField",void 0),(0,i._)([(0,n.Cb)({type:["CSV"]})],s.prototype,"operationalLayerType",void 0),(0,i._)([(0,n.Cb)()],s.prototype,"outFields",void 0),(0,i._)([(0,n.Cb)({type:String,json:{origins:{"web-scene":{read:!1,write:!1}},read:!1,write:!1}})],s.prototype,"path",void 0),(0,i._)([(0,n.Cb)({json:{read:!1,write:!1,origins:{"web-document":{read:!1,write:!1}}}})],s.prototype,"portalItem",void 0),(0,i._)([(0,n.Cb)({json:{read:!1},cast:null,type:C,readOnly:!0})],s.prototype,"source",void 0),(0,i._)([(0,n.Cb)({json:{read:!1},value:"csv",readOnly:!0})],s.prototype,"type",void 0),(0,i._)([(0,n.Cb)({json:{read:S.r,write:{isRequired:!0,ignoreOrigin:!0,writer:S.w}}})],s.prototype,"url",null),s=(0,i._)([(0,g.j)("esri.layers.CSVLayer")],s);const Q=s},91343:(d,a,r)=>{r.d(a,{g:()=>l});const l={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}}}]);
//# sourceMappingURL=5418.251692b67ca0ec72aaa5.js.map