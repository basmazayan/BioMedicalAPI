{"version":3,"file":"9440.55ed0b06114eef8a6c52.js","mappings":"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","sources":["./node_modules/@arcgis/core/layers/graphics/sources/csv/csv.js","./node_modules/@arcgis/core/layers/graphics/sources/support/CSVSourceWorker.js","./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst n=/^\\s*\"([\\S\\s]*)\"\\s*$/,t=/\"\"/g,e=\"\\n\",o=[\",\",\" \",\";\",\"|\",\"\\t\"];function*c(n,t,e){let o=0;for(;o<=n.length;){const c=n.indexOf(t,o),i=n.substring(o,c>-1?c:void 0);o+=i.length+t.length,e&&!i.trim()||(yield i)}}function i(n){const t=n.includes(\"\\r\\n\")?\"\\r\\n\":e;return c(n,t,!0)}function r(n,t){return c(n,t,!1)}function f(n){const t=n.trim();let e=0,c=\"\";for(const i of o){const n=t.split(i).length;n>e&&(e=n,c=i)}return\"\"===c?null:c}function*l(o,c,i,f=(()=>Object.create(null))){let l=\"\",u=\"\",d=0,g=f(),x=0;n:for(const h of o){const o=r(h,i);for(const e of o)if(l+=u+e,u=\"\",d+=s(e),d%2==0){if(d>0){const e=n.exec(l);if(!e){g=f(),x=0,l=\"\",d=0;continue n}g[c[x]]=e[1].replace(t,'\"'),x++}else g[c[x]]=l,x++;l=\"\",d=0}else u=i;0===d?(yield g,g=f(),x=0):u=e}}function s(n){let t=0,e=0;for(e=n.indexOf('\"',e);e>=0;)t++,e=n.indexOf('\"',e+1);return t}export{f as inferDelimiter,l as parseRows,r as readRowParts,i as readRows};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../request.js\";import t from\"../../../../core/Error.js\";import i from\"../../../../core/Logger.js\";import{_parseInfo as n}from\"../../../../core/number.js\";import{createTask as r,isAbortError as s}from\"../../../../core/promiseUtils.js\";import{urlToObject as o,getFilename as a}from\"../../../../core/urlUtils.js\";import{projectMany as l}from\"../../../../geometry/projection.js\";import{jsonAdapter as u}from\"../../../../geometry/geometryAdapters/json.js\";import{equals as d,isWebMercator as c,WGS84 as m}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{lngLatToXY as f}from\"../../../../geometry/support/webMercatorUtils.js\";import p from\"../../OptimizedFeature.js\";import y from\"../../OptimizedGeometry.js\";import h from\"../../data/FeatureStore.js\";import{checkProjectionSupport as g}from\"../../data/projectionSupport.js\";import F from\"../../data/QueryEngine.js\";import{readRows as _,parseRows as I,inferDelimiter as N}from\"../csv/csv.js\";import{createDefaultAttributesFunction as w,createDrawingInfo as b}from\"./clientSideDefaults.js\";import T from\"../../../support/FieldsIndex.js\";import{getFieldDefaultValue as x}from\"../../../support/fieldUtils.js\";import E from\"../../../../geometry/SpatialReference.js\";const j=b(\"esriGeometryPoint\"),S=[\"csv\"],q=[0,0];class v{constructor(e,t){this.x=e,this.y=t}}class C{constructor(){this._queryEngine=null,this._snapshotFeatures=async e=>{const t=await this._fetch(e);return this._createFeatures(t)}}destroy(){var e;null==(e=this._queryEngine)||e.destroy(),this._queryEngine=null}async load(e,t={}){var i;this.loadOptions=e;const[n]=await Promise.all([this._fetch(t.signal),this._checkProjection(null==e||null==(i=e.parsingOptions)?void 0:i.spatialReference)]),r=D(n,e);this.locationInfo=r.locationInfo,this.delimiter=r.delimiter,this._queryEngine=this._createQueryEngine(r);const s=await this._createFeatures(n);if(this._queryEngine.featureStore.addMany(s),r.layerDefinition.extent=this._queryEngine.fullExtent,r.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;r.layerDefinition.timeInfo.timeExtent=[e,t]}return r}async applyEdits(){throw new t(\"csv-layer:editing-not-supported\",\"applyEdits() is not supported on CSVLayer\")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(e){var n;return this.loadOptions.customParameters=e,null==(n=this._snapshotTask)||n.abort(),this._snapshotTask=r(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),e&&this._queryEngine.featureStore.addMany(e)}),(e=>{this._queryEngine.featureStore.clear(),s(e)||i.getLogger(\"esri.layers.CSVLayer\").error(new t(\"csv-layer:refresh\",\"An error occurred during refresh\",{error:e}))})),await this._waitSnapshotComplete(),{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _fetch(i){const{url:n,customParameters:r}=this.loadOptions;if(!n)throw new t(\"csv-layer:invalid-source\",\"url not defined\");const s=o(n);return(await e(s.path,{query:{...s.query,...r},responseType:\"text\",signal:i})).data}_createQueryEngine(e){const{objectIdField:t,fields:i,extent:n,timeInfo:r}=e.layerDefinition,s=new h({geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1});return new F({fields:i,geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1,timeInfo:r,objectIdField:t,spatialReference:n.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:s})}async _createFeatures(e){const{latitudeFieldName:t,longitudeFieldName:i}=this.locationInfo,{objectIdField:n,fieldsIndex:r,spatialReference:s}=this._queryEngine;let o=[];const a=[],m=r.fields.filter((e=>e.name!==n)).map((e=>e.name));let h=0;const g=_(e);g.next();const F={};for(const l of r.fields)if(\"esriFieldTypeOID\"!==l.type&&\"esriFieldTypeGlobalID\"!==l.type){const e=x(l);void 0!==e&&(F[l.name]=e)}const N=I(g,m,this.delimiter,w(F,n));for(const l of N){const e=this._parseCoordinateValue(l[t]),s=this._parseCoordinateValue(l[i]);if(null!=s&&null!=e&&!isNaN(e)&&!isNaN(s)){l[t]=e,l[i]=s;for(const e in l)if(e!==t&&e!==i)if(r.isDateField(e)){const t=new Date(l[e]);l[e]=L(t,l[e])?t.getTime():null}else if(r.isNumericField(e)){const t=M(l[e]);isNaN(t)?l[e]=null:l[e]=t}l[n]=h,h++,o.push(new v(s,e)),a.push(l)}}if(!d({wkid:4326},s))if(c(s))for(const l of o)[l.x,l.y]=f(l.x,l.y,q);else o=l(u,o,E.WGS84,s,null);const b=[];for(let l=0;l<o.length;l++){const{x:e,y:t}=o[l],i=a[l];i[n]=l+1,b.push(new p(new y([],[e,t]),i,null,i[n]))}return b}_parseCoordinateValue(e){if(null==e||\"\"===e)return null;let t=M(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}async _checkProjection(e){try{await g(m,e)}catch{throw new t(\"csv-layer:projection-not-supported\",\"Projection not supported\")}}}function D(e,i){const n=i.parsingOptions||{},r={delimiter:n.delimiter,layerDefinition:null,locationInfo:{latitudeFieldName:n.latitudeField,longitudeFieldName:n.longitudeField}},s=_(e);let o=s.next().value;if(!o)throw new t(\"csv-layer:empty-csv\",\"CSV is empty\",{csv:e});if(o=o.trim(),!n.delimiter){const e=N(o);if(!e)throw new t(\"csv-layer:invalid-delimiter\",\"Unable to detect the delimiter from CSV\");r.delimiter=e}const l=o.split(r.delimiter).filter((e=>!!e)),u=r.layerDefinition={name:a(i.url,S)||\"csv\",drawingInfo:j,geometryType:\"esriGeometryPoint\",objectIdField:null,fields:[],timeInfo:n.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:n.spatialReference||{wkid:102100}}};if(!n.latitudeField||!n.longitudeField){const e=P(l);if(!n.longitudeField&&!e.longitudeFieldName||!n.latitudeField&&!e.latitudeFieldName)throw new t(\"csv-layer:location-fields-not-found\",\"Unable to identify latitude and longitude fields from the CSV file\");r.locationInfo={longitudeFieldName:n.longitudeField||e.longitudeFieldName,latitudeFieldName:n.latitudeField||e.latitudeFieldName}}const d=V(s,r.delimiter,l,r.locationInfo);if(n.fields&&n.fields.length){const e=new Map;for(const t of n.fields)e.set(t.name.toLowerCase(),t);for(const t of d){const i=e.get(t.name.toLowerCase());if(i){const e=t.name;Object.assign(t,i),t.name=e}}}u.fields=d;if(!u.fields.some((e=>\"esriFieldTypeOID\"===e.type&&(u.objectIdField=e.name,!0)))){const e={name:\"__OBJECTID\",alias:\"__OBJECTID\",type:\"esriFieldTypeOID\",editable:!1,nullable:!1};u.objectIdField=e.name,u.fields.unshift(e)}if(u.timeInfo){const e=new T(u.fields),t=u.timeInfo;if(t.startTimeField){const i=e.get(t.startTimeField);i?(t.startTimeField=i.name,i.type=\"esriFieldTypeDate\"):t.startTimeField=null}if(t.endTimeField){const i=e.get(t.endTimeField);i?(t.endTimeField=i.name,i.type=\"esriFieldTypeDate\"):t.endTimeField=null}if(t.trackIdField){const i=e.get(t.trackIdField);t.trackIdField=i?i.name:null}t.startTimeField||t.endTimeField||(u.timeInfo=null)}return r}const O=[\"lat\",\"latitude\",\"latitude83\",\"latdecdeg\",\"lat_dd\",\"y\",\"ycenter\",\"point-y\"],k=[\"lon\",\"lng\",\"long\",\"longitude\",\"longitude83\",\"longdecdeg\",\"long_dd\",\"x\",\"xcenter\",\"point-x\"];function P(e){const t=e.map((e=>e.toLowerCase()));return{longitudeFieldName:e[t.indexOf(k.find((e=>t.includes(e))))],latitudeFieldName:e[t.indexOf(O.find((e=>t.includes(e))))]}}function V(e,t,i,n){const r=[],s=I(e,i,t),o=[];for(const a of s){if(10===o.length)break;o.push(a)}for(const a of i)if(a===n.longitudeFieldName||a===n.latitudeFieldName)r.push({name:a,type:\"esriFieldTypeDouble\",alias:a});else{const e=R(o.map((e=>e[a]))),t={name:a,type:null,alias:a};switch(e){case\"integer\":t.type=\"esriFieldTypeInteger\";break;case\"double\":t.type=\"esriFieldTypeDouble\";break;case\"date\":t.type=\"esriFieldTypeDate\",t.length=36;break;default:t.type=\"esriFieldTypeString\",t.length=255}r.push(t)}return r}function R(e){if(!e.length)return\"string\";const t=/[^+-.,0-9]/;return e.map((e=>{let i=!1;if(\"\"!==e){if(t.test(e))i=!0;else{let t=M(e);if(!isNaN(t))return/[.,]/.test(e)||!Number.isInteger(t)||t>214783647||t<-214783648?\"double\":\"integer\";if(-1===e.indexOf(\"E\"))i=!0;else{if(t=Number(e),!isNaN(t))return\"double\";if(-1===e.indexOf(\",\"))i=!0;else{if(e=e.replace(\",\",\".\"),t=Number(e),!isNaN(t))return\"double\";i=!0}}}if(i){if(!/^[-]?\\d*[.,]?\\d*$/.test(e)){return L(new Date(e),e)?\"date\":\"string\"}return\"string\"}return\"string\"}})).reduce(((e,t)=>void 0===e||e===t?t:\"string\"===e||\"string\"===t?\"string\":\"double\"===e||\"double\"===t?\"double\":void 0))}const G=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,Q=Number.isNaN(new Date(\"technology 10\").getTime());function L(e,t){if(!e||\"[object Date]\"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))return!1;let i=!0;if(!Q&&/\\d+\\W*$/.test(t)){const e=t.match(/[a-zA-Z]{2,}/);if(e){let t=!1,n=0;for(;!t&&n<=e.length;)t=!G.test(e[n]),n++;i=!t}}return i}const M=function(){const e=n(),t=new RegExp(\"^\"+e.regexp+\"$\"),i=new RegExp(\"[\"+e.group+\"\\\\s\\\\xa0]\",\"g\"),r=e.factor;return function(n){const s=t.exec(n);if(e.factor=r,!s)return NaN;let o=s[1];if(!s[1]){if(!s[2])return NaN;o=s[2],e.factor*=-1}return o=o.replace(i,\"\").replace(e.decimal,\".\"),+o*e.factor}}();export{C as default,R as inferFieldType,V as inferFields,P as inferLocationInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{clone as s}from\"../../../../core/lang.js\";import{queryCapabilities as e}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as r,defaultPolylineSymbolJSON as p,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function u(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?r:\"esriGeometryPolyline\"===t?p:o}}}function n(s,e){if(t(\"esri-csp-restrictions\"))return()=>({[e]:null,...s});try{let t=`this.${e} = null;`;for(const e in s){t+=`this${e.includes(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(s[e])};`}const r=new Function(t);return()=>new r}catch(r){return()=>({[e]:null,...s})}}function i(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:s(t)}}]}function a(t,s){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:s,supportsDelete:s,supportsEditing:s,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:s,supportsExceedsLimitStatistics:!0},query:e,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:s,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}export{a as createCapabilities,n as createDefaultAttributesFunction,i as createDefaultTemplate,u as createDrawingInfo};\n"],"names":["e","t","i","_parseInfo","n","createTask","r","isAbortError","s","urlToObject","o","getFilename","a","projectMany","l","jsonAdapter","u","equals","d","isWebMercator","c","WGS84","m","lngLatToXY","f","p","y","h","checkProjectionSupport","g","F","readRows","_","parseRows","I","inferDelimiter","N","createDefaultAttributesFunction","w","createDrawingInfo","b","T","getFieldDefaultValue","x","E","j","S","q","v","constructor","C","_queryEngine","_snapshotFeatures","_fetch","_createFeatures","destroy","load","loadOptions","Promise","all","signal","_checkProjection","parsingOptions","spatialReference","D","locationInfo","delimiter","_createQueryEngine","featureStore","addMany","layerDefinition","extent","fullExtent","timeInfo","start","end","timeExtent","applyEdits","queryFeatures","_waitSnapshotComplete","executeQuery","queryFeatureCount","executeQueryForCount","queryObjectIds","executeQueryForIds","queryExtent","executeQueryForExtent","querySnapping","executeQueryForSnapping","refresh","customParameters","_snapshotTask","abort","promise","then","clear","getLogger","error","finished","url","path","query","responseType","data","objectIdField","fields","geometryType","hasM","hasZ","wkid","cacheSpatialQueries","latitudeFieldName","longitudeFieldName","fieldsIndex","filter","name","map","next","type","_parseCoordinateValue","isNaN","isDateField","Date","L","getTime","isNumericField","M","push","length","Math","abs","parseFloat","latitudeField","longitudeField","value","csv","trim","split","drawingInfo","xmin","Number","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","P","V","Map","set","toLowerCase","get","Object","assign","some","alias","editable","nullable","unshift","startTimeField","endTimeField","trackIdField","O","k","indexOf","find","includes","R","test","isInteger","replace","reduce","G","Q","prototype","toString","call","match","RegExp","regexp","group","factor","exec","NaN","decimal","default","inferFieldType","inferFields","inferLocationInfo"],"sourceRoot":"webpack:///"}