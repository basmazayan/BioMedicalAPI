{"version":3,"file":"3971.24ea1d84462dc092a86c.js","mappings":"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","sources":["./node_modules/@arcgis/core/core/sql/WhereClauseCache.js","./node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js","./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js","./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js","./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../ItemCache.js\";import{WhereClause as e}from\"./WhereClause.js\";class c{constructor(e,c){this._cache=new t(e),this._invalidCache=new t(c)}get(t,c){const i=`${c.uid}:${t}`,r=this._cache.get(i);if(r)return r;if(void 0!==this._invalidCache.get(i))return null;try{const r=e.create(t,c);return this._cache.put(i,r),r}catch{return this._invalidCache.put(i,null),null}}}export{c as WhereClauseCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{getExpressionFromFieldName as e,getWhereClause as s,getAliasFromFieldName as i}from\"./attributeSupport.js\";import{getNormalizedValue as a}from\"../../../statistics/utils.js\";class r{constructor(t,a,r){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=t.returnDistinctValues,this.fieldsIndex=r,this.featureAdapter=a;const l=t.outFields;if(l&&-1===l.indexOf(\"*\")){this.outFields=l;let t=0;for(const a of l){const l=e(a),u=this.fieldsIndex.get(l),n=u?null:s(l,r),c=u?u.name:i(a)||\"FIELD_EXP_\"+t++;this._fieldDataCache.set(a,{alias:c,clause:n})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,e,i){const a=i?i.name:e;let r=null;return this._fieldDataCache.has(a)?r=this._fieldDataCache.get(a).clause:i||(r=s(e,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:r})),i?this.featureAdapter.getAttribute(t,a):r.calculateValue(t,this.featureAdapter)}getNormalizedValue(t,e){const s=e.normalizationType,i=e.normalizationTotal;let r=this.getFieldValue(t,e.field,e.fieldInfo);if(s&&Number.isFinite(r)){const l=this.getFieldValue(t,e.normalizationField,e.normalizationFieldInfo);r=a(r,s,l,i)}return r}getExpressionValue(t,e,s){const i={attributes:this.featureAdapter.getAttributes(t)},a=s.createExecContext(i,e.viewInfo);return s.executeFunction(e.compiledFunc,a)}validateItem(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:s(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testFeature(t,this.featureAdapter)}validateItems(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:s(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testSet(t,this.featureAdapter)}_processAttributesForOutFields(t){const e=this.outFields;if(!e||!e.length)return this.featureAdapter.getAttributes(t);const s={};for(const i of e){const{alias:e,clause:a}=this._fieldDataCache.get(i);s[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return s}_processAttributesForDistinctValues(e){if(t(e)||!this.returnDistinctValues)return e;const s=this.outFields,i=[];if(s)for(const t of s){const{alias:s}=this._fieldDataCache.get(t);i.push(e[s])}else for(const t in e)i.push(e[t]);const a=`${(s||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let r=this._returnDistinctMap.get(a)||0;return this._returnDistinctMap.set(a,++r),r>1?null:e}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{clone as t}from\"../../../core/lang.js\";import{removeMaybe as i,destroyMaybe as s,isNone as r,isSome as a,isUndefined as n}from\"../../../core/maybe.js\";import{MemCacheStorage as u,MemCache as o}from\"../../../core/MemCache.js\";import{getMetersPerUnitForSR as c}from\"../../../core/unitUtils.js\";import{create as h,set as l,NEGATIVE_INFINITY as p,expandWithAABB as d}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as y,create as m}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as f}from\"../../../geometry/support/boundsUtils.js\";import{fromJSON as x,isExtent as _,isPolygon as g}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as w}from\"../../../geometry/support/normalizeUtils.js\";import{equals as S,isValid as Q}from\"../../../geometry/support/spatialReferenceUtils.js\";import{validateFields as R,validateWhere as F,validateHaving as I,hasInvalidFieldType as E}from\"./attributeSupport.js\";import{project as j,checkProjectionSupport as b}from\"./projectionSupport.js\";import{queryCapabilities as k}from\"./QueryEngineCapabilities.js\";import A from\"./QueryEngineResult.js\";import{getSpatialQueryOperator as z,canQueryWithRBush as C,checkSpatialQuerySupport as T}from\"./spatialQuerySupport.js\";import{getTimeExtent as B}from\"./timeSupport.js\";import{cleanFromGeometryEngine as O,normalizeQuery as v,QUERY_ENGINE_EMPTY_RESULT as P}from\"./utils.js\";import q from\"../../support/FieldsIndex.js\";import{loadArcade as G}from\"../../../support/arcadeOnDemand.js\";import{noBudget as M}from\"../../../views/support/Scheduler.js\";function U(e){return e.every((e=>\"exceedslimit\"!==e.statisticType))}const N=\"feature-store:unsupported-query\";class Z{constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const H=new Set,D=new u(2e6);let J=0;class L{constructor(e){this.capabilities={query:k},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new o(J+++\"$$\",D)),this.fieldsIndex=new q(e.fields),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._frameTask=i(this._frameTask),this.clearCache(),s(this._geometryQueryCache),this._changeHandle=i(this._changeHandle),s(this.fieldsIndex)}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return e?{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:O(this.spatialReference)}:null}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=B(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache&&this._geometryQueryCache.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(e={},i){let s,r=t(e);try{r=await this._schedule((()=>v(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i)}catch(a){if(a!==P)throw a;s=new A([],null,this)}return s.createQueryResponse(r)}async executeQueryForCount(e={},i){let s=t(e);s.returnGeometry=!1,s.returnCentroid=!1,s.outSR=null;try{s=await this._schedule((()=>v(s,this.definitionExpression,this.spatialReference)),i),s=await this._reschedule((()=>this._checkQuerySupport(s)),i);let e=await this._reschedule((()=>this._executeGeometryQuery(s,i)),i);return e=await this._reschedule((()=>e.executeAggregateIdsQuery(s)),i),e=await this._reschedule((()=>e.executeObjectIdsQuery(s)),i),e=await this._reschedule((()=>e.executeTimeQuery(s)),i),e=await this._reschedule((()=>e.executeAttributesQuery(s)),i),e.createQueryResponseForCount(s)}catch(r){if(r!==P)throw r;return 0}}async executeQueryForExtent(e={},i){let s,r=t(e);const a=r.outSR;try{r=await this._schedule((()=>v(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),r.returnGeometry=!0,r.returnCentroid=!1,r.outSR=null,s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.size;if(!e)return{count:e,extent:null};l($,p),this.featureStore.forEachBounds(s.items,(e=>d($,e)),V);const t={xmin:$[0],ymin:$[1],xmax:$[3],ymax:$[4],spatialReference:O(this.spatialReference)};this.hasZ&&isFinite($[2])&&isFinite($[5])&&(t.zmin=$[2],t.zmax=$[5]);const n=j(t,s.spatialReference,a);if(n.spatialReference=O(a||this.spatialReference),n.xmax-n.xmin==0){const e=c(n.spatialReference);n.xmin-=e,n.xmax+=e}if(n.ymax-n.ymin==0){const e=c(n.spatialReference);n.ymin-=e,n.ymax+=e}if(this.hasZ&&null!=n.zmin&&null!=n.zmax&&n.zmax-n.zmin==0){const e=c(n.spatialReference);n.zmin-=e,n.zmax+=e}return{count:e,extent:n}}catch(n){if(n===P)return{count:0,extent:null};throw n}}async executeQueryForIds(e={},t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e={},i){let s,r=t(e);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>v(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.items,t=new Set;return await this._reschedule((()=>{for(const i of e)t.add(s.featureAdapter.getObjectId(i))}),i),t}catch(a){if(a===P)return new Set;throw a}}async executeQueryForSnapping(e,t){const{point:i,distance:s,types:a}=e;if(0===a)return{candidates:[]};const n=await this._reschedule((()=>this._checkQuerySupport(e.query)),t),u=!S(i.spatialReference,this.spatialReference);u&&await b(i.spatialReference,this.spatialReference);const o=\"number\"==typeof s?s:s.x,c=\"number\"==typeof s?s:s.y,h={xmin:i.x-o,xmax:i.x+o,ymin:i.y-c,ymax:i.y+c,spatialReference:i.spatialReference},l=u?j(h,this.spatialReference):h;if(!l)return{candidates:[]};const p=(await w(x(i),null,{signal:t}))[0],d=(await w(x(l),null,{signal:t}))[0];if(r(p)||r(d))return{candidates:[]};let y=new A(this._searchFeatures(this._getQueryBBoxes(d.toJSON())),null,this);y=await this._reschedule((()=>y.executeObjectIdsQuery(n)),t),y=await this._reschedule((()=>y.executeTimeQuery(n)),t),y=await this._reschedule((()=>y.executeAttributesQuery(n)),t);const m=p.toJSON(),f=u?j(m,this.spatialReference):m,_=u?Math.max(l.xmax-l.xmin,l.ymax-l.ymin)/2:s;return y.createSnappingResponse({...e,point:f,distance:_},i.spatialReference)}async executeQueryForLatestObservations(i={},s){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new e(N,\"Missing timeInfo or timeInfo.trackIdField\",{query:i,timeInfo:this.timeInfo});let r,a=t(i);try{a=await this._schedule((()=>v(a,this.definitionExpression,this.spatialReference)),s),a=await this._reschedule((()=>this._checkQuerySupport(a)),s),r=await this._reschedule((()=>this._executeGeometryQuery(a,s)),s),r=await this._reschedule((()=>r.executeAggregateIdsQuery(a)),s),r=await this._reschedule((()=>r.executeObjectIdsQuery(a)),s),r=await this._reschedule((()=>r.executeTimeQuery(a)),s),r=await this._reschedule((()=>r.executeAttributesQuery(a)),s),r=await this._reschedule((()=>r.filterLatest()),s)}catch(n){if(n!==P)throw n;r=new A([],null,this)}return r.createQueryResponse(a)}async executeQueryForSummaryStatistics(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createSummaryStatisticsResponse(e,t)}async executeQueryForUniqueValues(e={},t,i){const{field:s,valueExpression:r}=t;return(await this._getQueryEngineResultForStats(e,{field:s,valueExpression:r},i)).createUniqueValuesResponse(e,t)}async executeQueryForClassBreaks(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createClassBreaksResponse(e,t)}async executeQueryForHistogram(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createHistogramResponse(e,t)}async _schedule(e,t){return a(this._frameTask)?this._frameTask.schedule(e,t):e(M)}async _reschedule(e,t){return a(this._frameTask)?this._frameTask.reschedule(e,t):e(M)}_getAll(){if(!this._allItems){const e=[];this.featureStore.forEach((t=>e.push(t))),this._allItems=new A(e,null,this)}return this._allItems}async _executeGeometryQuery(e,t){const{geometry:i,outSR:s,spatialRel:r,returnGeometry:a,returnCentroid:u}=e,o=a||u,c=Q(s)&&!S(this.spatialReference,s),h=this._geometryQueryCache?c&&o?JSON.stringify({geometry:i,spatialRelationship:r,outSpatialReference:s}):JSON.stringify({geometry:i,spatialRelationship:r}):null;if(h){const e=this._geometryQueryCache.get(h);if(!n(e))return e}const l=async e=>{if(c&&o){const t=await e.project(s);return h&&this._geometryQueryCache.put(h,t,t.size||1),t}return h&&this._geometryQueryCache.put(h,e,e.size||1),e};if(!i)return l(this._getAll());const p=this.featureAdapter;if(\"esriSpatialRelDisjoint\"===r){const e=this._searchFeatures(this._getQueryBBoxes(i));if(!e.length)return l(this._getAll());let s,a;const n=new Set;for(const t of e)n.add(p.getObjectId(t));await this._reschedule((()=>{let e=0;s=new Array(n.size),this.featureStore.forEach((t=>s[e++]=t)),a=n}),t);const u=await this._reschedule((async()=>{const e=await z(r,i,this.geometryType,this.hasZ,this.hasM),n=t=>!a.has(p.getObjectId(t))||e(p.getGeometry(t));return new A(await this._runSpatialFilter(s,n,t),i,this)}),t);return l(u)}const d=this._searchFeatures(this._getQueryBBoxes(i));if(!d.length){const e=new A([],i,this);return h&&this._geometryQueryCache.put(h,e,e.size||1),e}if(this._canExecuteSoloPass(i,e))return l(new A(d,i,this));const y=await z(r,i,this.geometryType,this.hasZ,this.hasM),m=await this._runSpatialFilter(d,(e=>y(p.getGeometry(e))),t);return l(new A(m,i,this))}async _runSpatialFilter(e,t,i){if(!t)return e;if(r(this._frameTask))return e.filter((e=>t(e)));let s=0;const a=new Array,n=async r=>{for(;s<e.length;){const u=e[s++];t(u)&&(a.push(u),r.madeProgress()),r.done&&await this._reschedule((e=>n(e)),i)}};return this._reschedule((e=>n(e)),i).then((()=>a))}_canExecuteSoloPass(e,t){const{geometryType:i}=this,{spatialRel:s}=t;return C(e)&&(\"esriSpatialRelEnvelopeIntersects\"===s||\"esriGeometryPoint\"===i&&(\"esriSpatialRelIntersects\"===s||\"esriSpatialRelContains\"===s||\"esriSpatialRelWithin\"===s))}_getQueryBBoxes(e){if(C(e)){if(_(e))return[y(e.xmin,e.ymin,e.xmax,e.ymax)];if(g(e))return e.rings.map((e=>y(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[f(m(),e)]}_searchFeatures(e){for(const s of e)this.featureStore.forEachInBounds(s,(e=>{H.add(e)}));const t=new Array(H.size);let i=0;return H.forEach((e=>t[i++]=e)),H.clear(),t}async _checkStatisticsSupport(t,i){if(t.distance<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new e(N,\"Unsupported query options\",{query:t});return Promise.all([this._checkAttributesQuerySupport(t),this._checkStatisticsParamsSupport(i),T(t,this.geometryType,this.spatialReference),b(this.spatialReference,t.outSR)]).then((()=>t))}async _checkStatisticsParamsSupport(t){let i=[];if(t.valueExpression){const{arcadeUtils:e}=await G();i=e.extractFieldNames(t.valueExpression)}if(t.field&&i.push(t.field),t.normalizationField&&i.push(t.normalizationField),!i.length)throw new e(N,\"params should have at least a field or valueExpression\",{params:t});R(this.fieldsIndex,i,\"params contains missing fields\")}async _checkQuerySupport(t){if(t.distance<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new e(N,\"Unsupported query options\",{query:t});return Promise.all([this._checkAttributesQuerySupport(t),this._checkStatisticsQuerySupport(t),T(t,this.geometryType,this.spatialReference),b(this.spatialReference,t.outSR)]).then((()=>t))}_checkAttributesQuerySupport(t){const{outFields:i,orderByFields:s,returnDistinctValues:r,outStatistics:a}=t,n=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())):[];if(s&&s.length>0){const e=\" asc\",t=\" desc\",i=s.map((i=>{const s=i.toLowerCase();return s.indexOf(e)>-1?s.split(e)[0]:s.indexOf(t)>-1?s.split(t)[0]:i})).filter((e=>-1===n.indexOf(e)));R(this.fieldsIndex,i,\"orderByFields contains missing fields\")}if(i&&i.length>0)R(this.fieldsIndex,i,\"outFields contains missing fields\");else if(r)throw new e(N,\"outFields should be specified for returnDistinctValues\",{query:t});F(this.fieldsIndex,t.where)}async _checkStatisticsQuerySupport(t){const{outStatistics:i,groupByFieldsForStatistics:s,having:r}=t,a=s&&s.length,n=i&&i.length;if(r){if(!a||!n)throw new e(N,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:t});I(this.fieldsIndex,r,i)}if(n){if(!U(i))return;const r=i.map((e=>e.onStatisticField));R(this.fieldsIndex,r,\"onStatisticFields contains missing fields\"),a&&R(this.fieldsIndex,s,\"groupByFieldsForStatistics contains missing fields\");for(const s of i){const{onStatisticField:i,statisticType:r}=s;if((\"percentile_disc\"===r||\"percentile_cont\"===r)&&\"statisticParameters\"in s){const{statisticParameters:i}=s;if(!i)throw new e(N,\"statisticParamters should be set for percentile type\",{definition:s,query:t})}else if(\"count\"!==r&&i&&E(i,this.fieldsIndex))throw new e(N,\"outStatistics contains non-numeric fields\",{definition:s,query:t})}}}async _getQueryEngineResultForStats(e={},i,s){let r;e=t(e);try{e=await this._schedule((()=>v(e,this.definitionExpression,this.spatialReference)),s),e=await this._reschedule((()=>this._checkStatisticsSupport(e,i)),s),r=await this._reschedule((()=>this._executeGeometryQuery(e,s)),s),r=await this._reschedule((()=>r.executeAggregateIdsQuery(e)),s),r=await this._reschedule((()=>r.executeObjectIdsQuery(e)),s),r=await this._reschedule((()=>r.executeTimeQuery(e)),s),r=await this._reschedule((()=>r.executeAttributesQuery(e)),s)}catch(a){if(a!==P)throw a;r=new A([],null,this)}return r}}const V=h(),$=h();export{Z as Feature,L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../core/maybe.js\";import{toQuantizationTransform as i}from\"../../../geometry/support/quantizationUtils.js\";import{isValid as s,equals as a}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as r}from\"../featureConversionUtils.js\";import n from\"./AttributesBuilder.js\";import{getWhereClause as o}from\"./attributeSupport.js\";import{project as l,projectMany as u}from\"./projectionSupport.js\";import{getTimeOperator as c}from\"./timeSupport.js\";import{cleanFromGeometryEngine as d,getGeometry as m,transformCentroid as h}from\"./utils.js\";import{isStringField as f}from\"../../support/fieldUtils.js\";import{isNullCountSupported as p,calculateStringStatistics as y,calculateStatistics as g,processSummaryStatisticsResult as I,calculateUniqueValuesCount as x,createUVResult as T,calculateClassBreaks as V,resolveCBResult as F,calculateHistogram as b,getAttributeComparator as z,calculatePercentile as v}from\"../../../statistics/utils.js\";import{loadArcade as A}from\"../../../support/arcadeOnDemand.js\";class S{constructor(e,t,i){this.items=e,this.queryGeometry=t,this.definitionExpression=i.definitionExpression,this.geometryType=i.geometryType,this.hasM=i.hasM,this.hasZ=i.hasZ,this.objectIdField=i.objectIdField,this.spatialReference=i.spatialReference,this.fieldsIndex=i.fieldsIndex,this.timeInfo=i.timeInfo,this.featureAdapter=i.featureAdapter,this.aggregateAdapter=i.aggregateAdapter}get size(){return this.items.length}createQueryResponseForCount(e){const t=new n(e,this.featureAdapter,this.fieldsIndex);if(!e.outStatistics)return t.countDistinctValues(this.items);const{groupByFieldsForStatistics:i,having:s}=e;if(!!!(null==i?void 0:i.length))return 1;const a=new Map,r=new Map,o=new Set,l=e.outStatistics;for(const n of l){const{statisticType:e}=n,l=\"exceedslimit\"!==e?n.onStatisticField:void 0;if(!r.has(l)){const e=[];for(const s of i){const i=this._getAttributeValues(t,s,a);e.push(i)}r.set(l,this._calculateUniqueValues(e,t.returnDistinctValues))}const u=r.get(l);for(const i in u){const{data:e,items:a}=u[i],r=e.join(\",\");s&&!t.validateItems(a,s)||o.add(r)}}return o.size}createQueryResponse(e){let t;if(e.outStatistics){t=e.outStatistics.some((e=>\"exceedslimit\"===e.statisticType))?this._createExceedsLimitQueryResponse(e):this._createStatisticsQueryResponse(e)}else t=this._createFeatureQueryResponse(e);return e.returnQueryGeometry&&(s(e.outSR)&&!a(this.queryGeometry.spatialReference,e.outSR)?t.queryGeometry=d({spatialReference:e.outSR,...l(this.queryGeometry,this.queryGeometry.spatialReference,e.outSR)}):t.queryGeometry=d({spatialReference:e.outSR,...this.queryGeometry})),t}createSnappingResponse(t,i){const s=this.featureAdapter,a=R(this.hasZ,this.hasM),{x:r,y:n}=t.point,o=\"number\"==typeof t.distance?t.distance:t.distance.x,l=\"number\"==typeof t.distance?t.distance:t.distance.y,u={candidates:[]},c=\"esriGeometryPolygon\"===this.geometryType,d=this.getPointCreator(t.point,this.spatialReference,i);for(const m of this.items){const i=s.getGeometry(m);if(e(i))continue;const{coords:h,lengths:f}=i;if(1&t.types){let e=0;for(let t=0;t<f.length;t++){const i=f[t];for(let t=0;t<i;t++,e+=a){const c=h[e],f=h[e+1];if(t!==i-1){const t=h[e+a],i=h[e+a+1],{x:p,y}=_(r,n,c,f,t,i),g=(r-p)/o,I=(n-y)/l,x=g*g+I*I;x<=1&&u.candidates.push({type:\"edge\",objectId:s.getObjectId(m),distance:Math.sqrt(x),target:d(p,y),start:d(c,f),end:d(t,i)})}}}}if(2&t.types){const e=c?h.length-a:h.length;for(let t=0;t<e;t+=a){const e=h[t],i=h[t+1],a=(r-e)/o,c=(n-i)/l,f=a*a+c*c;f<=1&&u.candidates.push({type:\"vertex\",objectId:s.getObjectId(m),distance:Math.sqrt(f),target:d(e,i)})}}}return u.candidates.sort(((e,t)=>e.distance-t.distance)),u}getPointCreator(e,i,s){const r=t(s)&&!a(i,s)?e=>l(e,i,s):e=>e;return null!=e.z&&null!=e.m?(t,i)=>r({x:t,y:i,z:e.z,m:e.m}):null!=e.z?(t,i)=>r({x:t,y:i,z:e.z}):null!=e.m?(t,i)=>r({x:t,y:i,m:e.m}):(e,t)=>r({x:e,y:t})}executeAttributesQuery(e){const t=o(e.where,this.fieldsIndex);if(!t)return Promise.resolve(this);if(t.isStandardized){let i=0;const s=[];for(const e of this.items)t.testFeature(e,this.featureAdapter)&&(s[i++]=e);const a=new S(s,this.queryGeometry,this);return a.definitionExpression=e.where,Promise.resolve(a)}return Promise.reject(new TypeError(\"Where clause is not standardized\"))}executeAggregateIdsQuery(t){if(!t.aggregateIds||!t.aggregateIds.length||e(this.aggregateAdapter))return Promise.resolve(this);const i=new Set;for(const e of t.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(e).forEach((e=>i.add(e)))}const s=this.featureAdapter.getObjectId;return Promise.resolve(new S(this.items.filter((e=>i.has(s(e)))),this.queryGeometry,this))}executeObjectIdsQuery(e){if(!e.objectIds||!e.objectIds.length)return Promise.resolve(this);const t=new Set(e.objectIds),i=this.featureAdapter.getObjectId;return Promise.resolve(new S(this.items.filter((e=>t.has(i(e)))),this.queryGeometry,this))}executeTimeQuery(e){const i=c(this.timeInfo,e.timeExtent,this.featureAdapter);if(!t(i))return Promise.resolve(this);const s=this.items.filter(i);return Promise.resolve(new S(s,this.queryGeometry,this))}filterLatest(){const{trackIdField:e,startTimeField:t,endTimeField:i}=this.timeInfo,s=i||t,a=new Map,r=this.featureAdapter.getAttribute;for(const o of this.items){const t=r(o,e),i=r(o,s),n=a.get(t);(!n||i>r(n,s))&&a.set(t,o)}const n=Array.from(a.values());return Promise.resolve(new S(n,this.queryGeometry,this))}async project(e){if(!e||a(this.spatialReference,e))return this;const t=this.featureAdapter,i=(await u(this.items.map((e=>m(this.geometryType,this.hasZ,this.hasM,t.getGeometry(e)))),this.spatialReference,e)).map(((e,i)=>t.cloneWithGeometry(this.items[i],r(e,this.hasZ,this.hasM))));return new S(i,this.queryGeometry,{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:e,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})}async createSummaryStatisticsResponse(e,t){const{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,minValue:o,maxValue:l,scale:u}=t,c=this.fieldsIndex.isDateField(i),d=await this._getDataValues(e,{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,scale:u}),m=p({normalizationType:r,normalizationField:a,minValue:o,maxValue:l}),h=this.fieldsIndex.get(i),x={value:.5,fieldType:null==h?void 0:h.type},T=f(h)?y({values:d,supportsNullCount:m,percentileParams:x}):g({values:d,minValue:o,maxValue:l,useSampleStdDev:!r,supportsNullCount:m,percentileParams:x});return I(T,c)}async createUniqueValuesResponse(e,t){const{field:i,valueExpression:s,domain:a,returnAllCodedValues:r,scale:n}=t,o=await this._getDataValues(e,{field:i,valueExpression:s,scale:n}),l=x(o);return T(l,a,r)}async createClassBreaksResponse(e,t){const{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,classificationMethod:o,standardDeviationInterval:l,minValue:u,maxValue:c,numClasses:d,scale:m}=t,h=await this._getDataValues(e,{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,scale:m}),f=V(h,{field:i,normalizationField:a,normalizationType:r,normalizationTotal:n,classificationMethod:o,standardDeviationInterval:l,minValue:u,maxValue:c,numClasses:d});return F(f,o)}async createHistogramResponse(e,t){const{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,classificationMethod:o,standardDeviationInterval:l,minValue:u,maxValue:c,numBins:d,scale:m}=t,h=await this._getDataValues(e,{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,scale:m});return b(h,{field:i,normalizationField:a,normalizationType:r,normalizationTotal:n,classificationMethod:o,standardDeviationInterval:l,minValue:u,maxValue:c,numBins:d})}_sortFeatures(e,t,i){if(e.length>1&&t&&t.length)for(const s of t.reverse()){const t=s.split(\" \"),a=t[0],r=this.fieldsIndex.get(a),n=t[1]&&\"desc\"===t[1].toLowerCase(),o=z(null==r?void 0:r.type,n);e.sort(((e,t)=>{const s=i(e,a,r),n=i(t,a,r);return o(s,n)}))}}_createFeatureQueryResponse(e){const t=this.items,{geometryType:s,hasM:a,hasZ:r,objectIdField:n,spatialReference:o}=this,{outFields:l,outSR:u,quantizationParameters:c,resultRecordCount:m,resultOffset:h,returnZ:f,returnM:p}=e,y=null!=m&&t.length>(h||0)+m,g=l&&(l.includes(\"*\")?[...this.fieldsIndex.fields]:l.map((e=>this.fieldsIndex.get(e))));return{exceededTransferLimit:y,features:this._createFeatures(e,t),fields:g,geometryType:s,hasM:a&&p,hasZ:r&&f,objectIdFieldName:n,spatialReference:d(u||o),transform:c&&i(c)||null}}_createFeatures(e,t){const s=new n(e,this.featureAdapter,this.fieldsIndex),{hasM:a,hasZ:r}=this,{orderByFields:o,quantizationParameters:l,returnGeometry:u,returnCentroid:c,maxAllowableOffset:d,resultOffset:f,resultRecordCount:p,returnZ:y=!1,returnM:g=!1}=e,I=r&&y,x=a&&g;let T=[],V=0;const F=[...t];if(this._sortFeatures(F,o,((e,t,i)=>s.getFieldValue(e,t,i))),u||c){const e=i(l);if(u&&!c)for(const t of F)T[V++]={attributes:s.getAttributes(t),geometry:m(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),d,e,I,x)};else if(!u&&c)for(const t of F)T[V++]={attributes:s.getAttributes(t),centroid:h(this,this.featureAdapter.getCentroid(t,this),e)};else for(const t of F)T[V++]={attributes:s.getAttributes(t),centroid:h(this,this.featureAdapter.getCentroid(t,this),e),geometry:m(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),d,e,I,x)}}else for(const i of F){const e=s.getAttributes(i);e&&(T[V++]={attributes:e})}const b=f||0;if(null!=p){const e=b+p;T=T.slice(b,Math.min(T.length,e))}return T}_createExceedsLimitQueryResponse(e){let i=!1,s=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const t of e.outStatistics)if(\"exceedslimit\"===t.statisticType){s=null!=t.maxPointCount?t.maxPointCount:Number.POSITIVE_INFINITY,a=null!=t.maxRecordCount?t.maxRecordCount:Number.POSITIVE_INFINITY,r=null!=t.maxVertexCount?t.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)i=this.items.length>s;else if(this.items.length>a)i=!0;else{const e=this.hasZ?this.hasM?4:3:this.hasM?3:2,s=this.featureAdapter;i=this.items.reduce(((e,i)=>{const a=s.getGeometry(i);return e+(t(a)&&a.coords.length||0)}),0)/e>r}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(i)}}]}}_createStatisticsQueryResponse(e){const t={attributes:{}},i=[],s=new Map,a=new Map,r=new Map,o=new Map,l=new n(e,this.featureAdapter,this.fieldsIndex),u=e.outStatistics,{groupByFieldsForStatistics:c,having:d,orderByFields:m}=e,h=c&&c.length,f=!!h,p=f&&c[0],y=f&&!this.fieldsIndex.get(p);for(const n of u){const{outStatisticFieldName:e,statisticType:u}=n,m=n,g=\"exceedslimit\"!==u?n.onStatisticField:void 0,I=\"percentile_disc\"===u||\"percentile_cont\"===u,x=f&&1===h&&(g===p||y)&&\"count\"===u;if(f){if(!r.has(g)){const e=[];for(const t of c){const i=this._getAttributeValues(l,t,s);e.push(i)}r.set(g,this._calculateUniqueValues(e,l.returnDistinctValues))}const t=r.get(g);for(const i in t){const{count:a,data:r,items:n,itemPositions:u}=t[i],h=r.join(\",\");if(!d||l.validateItems(n,d)){const t=o.get(h)||{attributes:{}};let i=null;if(x)i=a;else{const e=this._getAttributeValues(l,g,s),t=u.map((t=>e[t]));i=I&&\"statisticParameters\"in m?this._getPercentileValue(m,t):this._getStatisticValue(m,t,null,l.returnDistinctValues)}t.attributes[e]=i,c.forEach(((e,i)=>t.attributes[this.fieldsIndex.get(e)?e:`EXPR_${i+1}`]=r[i])),o.set(h,t)}}}else{const i=this._getAttributeValues(l,g,s);t.attributes[e]=I&&\"statisticParameters\"in m?this._getPercentileValue(m,i):this._getStatisticValue(m,i,a,l.returnDistinctValues)}i.push({name:e,alias:e,type:\"esriFieldTypeDouble\"})}const g=f?Array.from(o.values()):[t];return this._sortFeatures(g,m,((e,t)=>e.attributes[t])),{fields:i,features:g}}_getStatisticValue(e,t,i,s){const{onStatisticField:a,statisticType:r}=e;let n=null;n=null!=i&&i.has(a)?i.get(a):f(this.fieldsIndex.get(a))?y({values:t,returnDistinct:s}):g({values:t,minValue:null,maxValue:null,useSampleStdDev:!0}),i&&i.set(a,n);return n[\"var\"===r?\"variance\":r]}_getPercentileValue(e,t){const{onStatisticField:i,statisticParameters:s,statisticType:a}=e,{value:r,orderBy:n}=s,o=this.fieldsIndex.get(i),l={value:r,orderBy:n,fieldType:null==o?void 0:o.type,isDiscrete:\"percentile_disc\"===a};return v(t,l)}_getAttributeValues(e,t,i){if(i.has(t))return i.get(t);const s=this.fieldsIndex.get(t),a=this.items.map((i=>e.getFieldValue(i,t,s)));return i.set(t,a),a}_getAttributeNormalizedValues(e,t){return this.items.map((i=>e.getNormalizedValue(i,{field:t.field,fieldInfo:this.fieldsIndex.get(t.field),normalizationField:t.normalizationField,normalizationFieldInfo:this.fieldsIndex.get(t.normalizationField),normalizationType:t.normalizationType,normalizationTotal:t.normalizationTotal})))}async _getAttributeExpressionValues(e,t,i){const{arcadeUtils:s}=await A(),a=s.createFunction(t),r=i&&s.getViewInfo(i);return this.items.map((t=>e.getExpressionValue(t,{compiledFunc:a,viewInfo:r},s)))}_calculateUniqueValues(e,t){const i={},s=this.items,a=s.length;for(let r=0;r<a;r++){const a=s[r],n=[];for(const t of e)n.push(t[r]);const o=n.join(\",\");t?null==i[o]&&(i[o]={count:1,data:n,items:[a],itemPositions:[r]}):null==i[o]?i[o]={count:1,data:n,items:[a],itemPositions:[r]}:(i[o].count++,i[o].items.push(a),i[o].itemPositions.push(r))}return i}async _getDataValues(e,t){const i=new n(e,this.featureAdapter,this.fieldsIndex),{valueExpression:s,field:a,normalizationField:r,normalizationType:o,normalizationTotal:l,scale:u}=t,c=s?{viewingMode:\"map\",scale:u,spatialReference:e.outSR||this.spatialReference}:null;return s?this._getAttributeExpressionValues(i,s,c):this._getAttributeNormalizedValues(i,{field:a,normalizationField:r,normalizationType:o,normalizationTotal:l})}}function _(e,t,i,s,a,r){const n=a-i,o=r-s,l=n*n+o*o,u=(e-i)*n+(t-s)*o,c=Math.min(1,Math.max(0,u/l));return{x:i+n*c,y:s+o*c}}function R(e,t){return e?t?4:3:t?3:2}export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{WhereClauseCache as i}from\"../../../core/sql/WhereClauseCache.js\";const s=new i(50,500),n=\"feature-store:unsupported-query\",t=\" as \",r=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\",\"esriFieldTypeDate\"]);function o(i,t){if(!t)return!0;const r=s.get(t,i);if(!r)throw new e(n,\"invalid SQL expression\",{where:t});if(!r.isStandardized)throw new e(n,\"where clause is not standard\",{where:t});return c(i,r.fieldNames,\"where clause contains missing fields\"),!0}function a(i,t,r){if(!t)return!0;const o=s.get(t,i);if(!o)throw new e(n,\"invalid SQL expression\",{having:t});if(!o.isAggregate)throw new e(n,\"having does not contain a valid aggregate function\",{having:t});const a=o.fieldNames;c(i,a,\"having contains missing fields\");if(!o.getExpressions().every((e=>{const{aggregateType:s,field:n}=e,t=i.has(n)&&i.get(n).name;return r.some((e=>{const{onStatisticField:n,statisticType:r}=e;return(i.has(n)&&i.get(n).name)===t&&r.toLowerCase().trim()===s}))})))throw new e(n,\"expressions in having should also exist in outStatistics\",{having:t});return!0}function l(e,i){return e?s.get(e,i):null}function c(i,s,t,r=!0){const o=[];for(const u of s)if(\"*\"!==u&&!i.has(u))if(r){const s=d(u);try{const t=l(s,i);if(!t)throw new e(n,\"invalid SQL expression\",{where:s});if(!t.isStandardized)throw new e(n,\"expression is not standard\",{clause:t});c(i,t.fieldNames,\"expression contains missing fields\")}catch(a){const e=a&&a.details;if(e&&(e.clause||e.where))throw a;e&&e.missingFields?o.push(...e.missingFields):o.push(u)}}else o.push(u);if(o.length)throw new e(n,t,{missingFields:o})}function d(e){return e.split(t)[0]}function u(e){return e.split(t)[1]}function f(e,i){const s=i.get(e);return!!s&&!r.has(s.type)}export{u as getAliasFromFieldName,d as getExpressionFromFieldName,l as getWhereClause,f as hasInvalidFieldType,c as validateFields,a as validateHaving,o as validateWhere};\n"],"names":["e","clone","t","removeMaybe","i","destroyMaybe","s","isNone","r","isSome","a","isUndefined","n","MemCacheStorage","u","MemCache","o","getMetersPerUnitForSR","c","create","h","set","l","NEGATIVE_INFINITY","p","expandWithAABB","d","fromValues","y","m","getBoundsXY","f","fromJSON","x","isExtent","_","isPolygon","g","normalizeCentralMeridian","w","equals","S","isValid","Q","validateFields","R","validateWhere","F","validateHaving","I","hasInvalidFieldType","E","project","j","checkProjectionSupport","b","queryCapabilities","k","A","getSpatialQueryOperator","z","canQueryWithRBush","C","checkSpatialQuerySupport","T","getTimeExtent","B","cleanFromGeometryEngine","O","normalizeQuery","v","QUERY_ENGINE_EMPTY_RESULT","P","q","loadArcade","G","noBudget","M","U","every","statisticType","N","Z","constructor","attributes","geometry","centroid","filterFlags","groupId","displayId","H","Set","D","J","L","capabilities","query","geometryType","hasM","hasZ","objectIdField","spatialReference","definitionExpression","featureStore","aggregateAdapter","_changeHandle","events","on","clearCache","timeInfo","cacheSpatialQueries","_geometryQueryCache","fieldsIndex","fields","scheduler","priority","_frameTask","registerTask","destroy","featureAdapter","fullExtent","fullBounds","xmin","ymin","xmax","ymax","timeExtent","_timeExtent","clear","_allItems","executeQuery","_schedule","_reschedule","_checkQuerySupport","_executeGeometryQuery","executeAggregateIdsQuery","executeObjectIdsQuery","executeTimeQuery","executeAttributesQuery","createQueryResponse","executeQueryForCount","returnGeometry","returnCentroid","outSR","createQueryResponseForCount","executeQueryForExtent","size","count","extent","$","forEachBounds","items","V","isFinite","zmin","zmax","executeQueryForIds","executeQueryForIdSet","then","Array","from","add","getObjectId","executeQueryForSnapping","point","distance","types","candidates","signal","_searchFeatures","_getQueryBBoxes","toJSON","Math","max","createSnappingResponse","executeQueryForLatestObservations","trackIdField","filterLatest","executeQueryForSummaryStatistics","field","normalizationField","valueExpression","_getQueryEngineResultForStats","createSummaryStatisticsResponse","executeQueryForUniqueValues","createUniqueValuesResponse","executeQueryForClassBreaks","createClassBreaksResponse","executeQueryForHistogram","createHistogramResponse","schedule","reschedule","_getAll","forEach","push","spatialRel","JSON","stringify","spatialRelationship","outSpatialReference","get","put","length","has","getGeometry","_runSpatialFilter","_canExecuteSoloPass","filter","madeProgress","done","rings","map","min","forEachInBounds","_checkStatisticsSupport","geometryPrecision","multipatchOption","pixelSize","relationParam","text","outStatistics","groupByFieldsForStatistics","having","orderByFields","Promise","all","_checkAttributesQuerySupport","_checkStatisticsParamsSupport","arcadeUtils","extractFieldNames","params","_checkStatisticsQuerySupport","outFields","returnDistinctValues","outStatisticFieldName","toLowerCase","indexOf","split","where","onStatisticField","statisticParameters","definition","Feature","default","toQuantizationTransform","convertFromGeometry","getWhereClause","projectMany","getTimeOperator","transformCentroid","isStringField","isNullCountSupported","calculateStringStatistics","calculateStatistics","processSummaryStatisticsResult","calculateUniqueValuesCount","createUVResult","calculateClassBreaks","resolveCBResult","calculateHistogram","getAttributeComparator","calculatePercentile","queryGeometry","countDistinctValues","Map","_getAttributeValues","_calculateUniqueValues","data","join","validateItems","some","_createExceedsLimitQueryResponse","_createStatisticsQueryResponse","_createFeatureQueryResponse","returnQueryGeometry","getPointCreator","coords","lengths","type","objectId","sqrt","target","start","end","sort","resolve","isStandardized","testFeature","reject","TypeError","aggregateIds","getFeatureObjectIds","objectIds","startTimeField","endTimeField","getAttribute","values","cloneWithGeometry","normalizationType","normalizationTotal","minValue","maxValue","scale","isDateField","_getDataValues","value","fieldType","supportsNullCount","percentileParams","useSampleStdDev","domain","returnAllCodedValues","classificationMethod","standardDeviationInterval","numClasses","numBins","_sortFeatures","reverse","quantizationParameters","resultRecordCount","resultOffset","returnZ","returnM","includes","exceededTransferLimit","features","_createFeatures","objectIdFieldName","transform","maxAllowableOffset","getFieldValue","getAttributes","getCentroid","slice","Number","POSITIVE_INFINITY","maxPointCount","maxRecordCount","maxVertexCount","reduce","name","alias","sqlType","defaultValue","exceedslimit","itemPositions","_getPercentileValue","_getStatisticValue","returnDistinct","orderBy","isDiscrete","_getAttributeNormalizedValues","getNormalizedValue","fieldInfo","normalizationFieldInfo","_getAttributeExpressionValues","createFunction","getViewInfo","getExpressionValue","compiledFunc","viewInfo","viewingMode"],"sourceRoot":"webpack:///"}