{"version":3,"file":"5048.b033829d10c37955a0f3.js","mappings":"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","sources":["./node_modules/@arcgis/core/layers/mixins/SceneService.js","./node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","./node_modules/@arcgis/core/portal/support/resourceUtils.js","./node_modules/@arcgis/core/webdoc/support/saveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import\"../../core/has.js\";import i from\"../../core/Logger.js\";import{isSome as o}from\"../../core/maybe.js\";import{debounce as s}from\"../../core/promiseUtils.js\";import{urlToObject as a}from\"../../core/urlUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as d}from\"../../core/accessorSupport/decorators/writer.js\";import{updateOrigins as c}from\"../../core/accessorSupport/originUtils.js\";import u from\"../../geometry/Extent.js\";import m from\"../../geometry/HeightModelInfo.js\";import y from\"../../geometry/SpatialReference.js\";import{titleFromUrlAndName as h,parse as f,cleanTitle as v,sanitizeUrlWithLayerId as g,writeUrlWithLayerId as S}from\"../support/arcgisLayerUrl.js\";import{id as w,url as x}from\"../support/commonProperties.js\";import{fetchIndexInfo as I}from\"../support/I3SIndexInfo.js\";import b from\"../../portal/Portal.js\";import j from\"../../portal/PortalItem.js\";import{saveResources as _}from\"../../webdoc/support/saveUtils.js\";const R=i.getLogger(\"esri.layers.mixins.SceneService\"),N=i=>{let N=class extends i{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=s((async(e,t,r)=>{switch(e){case 0:return this._save(t);case 1:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return y.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,i=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=i?new y(i):null}}readFullExtent(e,t,r){if(null!=e&&\"object\"==typeof e){const i=null==e.spatialReference?{...e,spatialReference:this._readSpatialReference(t)}:e;return u.fromJSON(i,r)}const i=t.store,o=this._readSpatialReference(t);return null==o||null==i||null==i.extent||!Array.isArray(i.extent)||i.extent.some((e=>e<U))?null:new u({xmin:i.extent[0],ymin:i.extent[1],xmax:i.extent[2],ymax:i.extent[3],spatialReference:o})}parseVersionString(e){const t={major:Number.NaN,minor:Number.NaN,versionString:e},r=e.split(\".\");return r.length>=2&&(t.major=parseInt(r[0],10),t.minor=parseInt(r[1],10)),t}readVersion(e,t){const r=t.store,i=null!=r.version?r.version.toString():\"\";return this.parseVersionString(i)}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem&&this.portalItem.title;if(\"item-title\"===this.sublayerTitleMode)return h(this.url,t.name);let i=t.name;if(!i&&this.url){const e=f(this.url);o(e)&&(i=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&r&&(i=r+\" - \"+i),v(i)}set url(e){const t=g({layer:this,url:e,nonStandardUrlAllowed:!1,logger:R});this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,i){S(this,e,\"layers\",t,i)}get parsedUrl(){const e=this._get(\"url\");if(!e)return null;const t=a(e);return null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=I(this.parsedUrl.path,this.rootNode,e,this.apiKey,R,t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo)}_updateExtent(e){if(\"page\"===(null==e?void 0:e.type)){var t,i;const o=e.rootIndex%e.pageSize,s=null==(t=e.rootPage)||null==(i=t.nodes)?void 0:i[o];if(null==s||null==s.obb||null==s.obb.center||null==s.obb.halfSize)throw new r(\"sceneservice:invalid-node-page\",\"Invalid node page.\");if(s.obb.center[0]<U||null==this.fullExtent||this.fullExtent.hasZ)return;const a=s.obb.halfSize,n=s.obb.center[2],l=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);this.fullExtent.zmin=n-l,this.fullExtent.zmax=n+l}else if(\"node\"===(null==e?void 0:e.type)){var o;const t=null==(o=e.rootNode)?void 0:o.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<U)return;const r=t[2],i=t[3];this.fullExtent.zmin=r-i,this.fullExtent.zmax=r+i}}async _fetchService(e){if(null==this.url)throw new r(\"sceneservice:url-not-set\",\"Scene service can not be loaded without valid portal item or url\");if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const r=await t(this.url,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}async _fetchServiceLayer(e){const r=await t(this.parsedUrl.path,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e});r.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));let i=!1;if(r.data.layerType&&\"Voxel\"===r.data.layerType&&(i=!0),i)return this.read(r.data,{origin:\"service\",url:this.parsedUrl}),this._fetchVoxelServiceLayer();const o=r.data;this.read(o,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(o)}async _fetchVoxelServiceLayer(e){const r=(await t(this.parsedUrl.path+\"/layer\",{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(r)}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const i=t.getTypeKeywords();for(const o of i)e.typeKeywords.push(o);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),1===r&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}async _saveAs(e,t){const i={...E,...t};let o=j.from(e);o||(R.error(\"_saveAs(): requires a portal item parameter\"),await Promise.reject(new r(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\"))),o.id&&(o=o.clone(),o.id=null);const s=o.portal||b.getDefault();await this._ensureLoadBeforeSave(),o.type=O,o.portal=s;const a={origin:\"portal-item\",url:null,messages:[],portal:s,portalItem:o,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},n={layers:[this.write({},a)]};return await Promise.all(a.resources.pendingOperations),await this._validateAgainstJSONSchema(n,a,i),o.url=this.url,o.title||(o.title=this.title),this._updateTypeKeywords(o,i,1),await s._signIn(),await s.user.addItem({item:o,folder:i&&i.folder,data:n}),await _(this.resourceReferences,a,null),this.portalItem=o,c(a),a.portalItem=o,o}async _save(e){const t={...E,...e};this.portalItem||(R.error(\"_save(): requires the .portalItem property to be set\"),await Promise.reject(new r(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\"))),this.portalItem.type!==O&&(R.error(\"_save(): Non-matching portal item type. Got \"+this.portalItem.type+\", expected \"+O),await Promise.reject(new r(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${O}\"`))),await this._ensureLoadBeforeSave();const i={origin:\"portal-item\",url:this.portalItem.itemUrl&&a(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||b.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},o={layers:[this.write({},i)]};return await Promise.all(i.resources.pendingOperations),await this._validateAgainstJSONSchema(o,i,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,0),await this.portalItem.update({data:o}),await _(this.resourceReferences,i,null),c(i),this.portalItem}async _validateAgainstJSONSchema(e,t,i){let o=t.messages.filter((e=>\"error\"===e.type)).map((e=>new r(e.name,e.message,e.details)));if(i&&i.validationOptions.ignoreUnsupported&&(o=o.filter((e=>\"layer:unsupported\"!==e.name&&\"symbol:unsupported\"!==e.name&&\"symbol-layer:unsupported\"!==e.name&&\"property:unsupported\"!==e.name&&\"url:unsupported\"!==e.name&&\"scenemodification:unsupported\"!==e.name))),i.validationOptions.enabled||T){const t=(await import(\"../support/schemaValidator.js\")).validate(e,i.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(R.error(`_validateAgainstJSONSchema(): ${e}`),\"throw\"===i.validationOptions.failPolicy){const e=t.map((e=>new r(\"sceneservice:schema-validation\",e))).concat(o);throw new r(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{combined:e})}}}if(o.length>0)throw new r(\"sceneservice:save\",\"Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}};return e([n(w)],N.prototype,\"id\",void 0),e([n({type:y})],N.prototype,\"spatialReference\",void 0),e([l(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],N.prototype,\"readSpatialReference\",null),e([n({type:u})],N.prototype,\"fullExtent\",void 0),e([l(\"fullExtent\",[\"fullExtent\",\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],N.prototype,\"readFullExtent\",null),e([n({readOnly:!0,type:m})],N.prototype,\"heightModelInfo\",void 0),e([n({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],N.prototype,\"minScale\",void 0),e([n({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],N.prototype,\"maxScale\",void 0),e([n({readOnly:!0})],N.prototype,\"version\",void 0),e([l(\"version\",[\"store.version\"])],N.prototype,\"readVersion\",null),e([n({type:String,json:{read:{source:\"copyrightText\"}}})],N.prototype,\"copyright\",void 0),e([n({type:String,json:{read:!1}})],N.prototype,\"sublayerTitleMode\",void 0),e([n({type:String})],N.prototype,\"title\",void 0),e([l(\"portal-item\",\"title\")],N.prototype,\"readTitlePortalItem\",null),e([l(\"service\",\"title\",[\"name\"])],N.prototype,\"readTitleService\",null),e([n({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],N.prototype,\"layerId\",void 0),e([n(x)],N.prototype,\"url\",null),e([d(\"url\")],N.prototype,\"writeUrl\",null),e([n()],N.prototype,\"parsedUrl\",null),e([n({readOnly:!0})],N.prototype,\"store\",void 0),e([n({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],N.prototype,\"rootNode\",void 0),N=e([p(\"esri.layers.mixins.SceneService\")],N),N},U=-1e38,T=!1,O=\"Scene Service\",E={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};export{O as SCENE_SERVICE_ITEM_TYPE,N as SceneService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{get as r,isSome as a,isNone as o}from\"../../core/maybe.js\";import{join as s,getPathExtension as n}from\"../../core/urlUtils.js\";async function c(e,t={},a){await e.load(a);const o=s(e.itemUrl,\"resources\"),{start:n=1,num:c=10,sortOrder:u=\"asc\",sortField:i=\"created\"}=t,l={query:{start:n,num:c,sortOrder:u,sortField:i,token:e.apiKey},signal:r(a,\"signal\")},p=await e.portal._request(o,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function u(e,o,n,c){if(!e.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const u=e.portalItem;await u.load(c);const i=s(u.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\"),[l,d]=p(e.path),m=await h(n),f=new FormData;return l&&\".\"!==l&&f.append(\"resourcesPrefix\",l),f.append(\"fileName\",d),f.append(\"file\",m,d),f.append(\"f\",\"json\"),a(c)&&c.access&&f.append(\"access\",c.access),await u.portal._request(i,{method:\"post\",body:f,signal:r(c,\"signal\")}),e}async function i(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const n=s(e.userItemUrl,\"removeResources\");await e.portal._request(n,{method:\"post\",query:{resource:a.path},signal:r(o,\"signal\")}),a.portalItem=null}async function l(e,t){await e.load(t);const a=s(e.userItemUrl,\"removeResources\");return e.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:r(t,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function d(e){const[t,r]=m(e),[a,o]=p(t);return[a,o,r]}function m(e){const t=n(e);return o(t)?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function h(t){if(t instanceof Blob)return t;return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}function w(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}export{u as addOrUpdateResource,h as contentToBlob,c as fetchResources,f as getSiblingOfSameType,w as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,d as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../core/asyncUtils.js\";import e from\"../../core/Error.js\";import{eachAlways as o,throwIfAborted as t}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as c}from\"../../portal/support/resourceUtils.js\";async function a(r,a,u){if(!a||!a.resources)return;const h=a.portalItem===r.portalItem?new Set(r.paths):new Set;r.paths.length=0,r.portalItem=a.portalItem;const i=new Set(a.resources.toKeep.map((r=>r.resource.path))),f=new Set,m=[];i.forEach((e=>{h.delete(e),r.paths.push(e)}));for(const e of a.resources.toUpdate)if(h.delete(e.resource.path),i.has(e.resource.path)||f.has(e.resource.path)){const{resource:o,content:t,finish:a,error:p}=e,h=c(o,s());r.paths.push(h.path),m.push(n({resource:h,content:t,finish:a,error:p},u))}else r.paths.push(e.resource.path),m.push(p(e,u)),f.add(e.resource.path);for(const e of a.resources.toAdd)m.push(n(e,u)),r.paths.push(e.resource.path);if(h.forEach((r=>{const e=a.portalItem.resourceFromPath(r);m.push(e.portalItem.removeResource(e).catch((()=>{})))})),0===m.length)return;const l=await o(m);t(u);const d=l.filter((r=>\"error\"in r)).map((r=>r.error));if(d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d})}async function n(e,o){const t=await r(e.resource.portalItem.addResource(e.resource,e.content,o));if(!0!==t.ok)throw e.error&&e.error(t.error),t.error;e.finish&&e.finish(e.resource)}async function p(e,o){const t=await r(e.resource.update(e.content,o));if(!0!==t.ok)throw e.error(t.error),t.error;e.finish(e.resource)}export{a as saveResources};\n"],"names":["_","e","t","r","i","isSome","o","debounce","s","urlToObject","a","property","n","reader","l","subclass","p","writer","d","updateOrigins","c","u","m","y","titleFromUrlAndName","h","parse","f","cleanTitle","v","sanitizeUrlWithLayerId","g","writeUrlWithLayerId","S","id","w","url","x","fetchIndexInfo","I","b","j","saveResources","R","getLogger","N","constructor","arguments","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","Number","NaN","minor","versionString","copyright","sublayerTitleMode","title","layerId","indexInfo","_debouncedSaveOperations","_save","_saveAs","readSpatialReference","_readSpatialReference","fromJSON","store","indexCRS","geographicCRS","parseInt","substring","lastIndexOf","length","readFullExtent","extent","Array","isArray","some","U","xmin","ymin","xmax","ymax","parseVersionString","split","readVersion","toString","readTitlePortalItem","readTitleService","portalItem","name","layer","nonStandardUrlAllowed","logger","_set","writeUrl","parsedUrl","_get","path","_fetchIndexAndUpdateExtent","rootNode","apiKey","hasZ","_updateExtent","type","rootIndex","pageSize","rootPage","nodes","obb","center","halfSize","Math","sqrt","zmin","zmax","mbs","_fetchService","test","_fetchFirstLayerId","_fetchServiceLayer","query","token","responseType","signal","data","layers","ssl","replace","layerType","read","origin","_fetchVoxelServiceLayer","validateLayer","_ensureLoadBeforeSave","load","beforeSave","_updateTypeKeywords","typeKeywords","getTypeKeywords","push","filter","indexOf","E","from","error","Promise","reject","clone","portal","getDefault","O","messages","writtenProperties","blockedRelativeUrls","resources","toAdd","toUpdate","toKeep","pendingOperations","write","all","_validateAgainstJSONSchema","_signIn","user","addItem","item","folder","resourceReferences","itemUrl","update","map","message","details","validationOptions","ignoreUnsupported","enabled","T","validate","portalItemLayerType","join","failPolicy","concat","combined","errors","prototype","readOnly","json","origins","service","source","String","target","isRequired","ignoreOrigin","SCENE_SERVICE_ITEM_TYPE","SceneService","floor","nodesPerPage","lodMetric","lodSelectionMetricType","urlPrefix","warn","pop","pageError","nodeError","get","isNone","getPathExtension","start","num","sortOrder","sortField","_request","total","nextStart","created","size","resource","Date","resourceFromPath","hasPath","userItemUrl","FormData","append","access","method","body","deleteAll","slice","Blob","addOrUpdateResource","contentToBlob","fetchResources","getSiblingOfSameType","getSiblingOfSameTypeI","removeAllResources","removeResource","splitPrefixFileNameAndExtension","result","eachAlways","throwIfAborted","generateUUID","Set","paths","forEach","delete","has","content","finish","add","catch","addResource","ok"],"sourceRoot":"webpack:///"}