{"version":3,"mappings":"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","names":["a","BingMapsLayer","t","n","default","BuildingSceneLayer","Promise","CSVLayer","ElevationLayer","FeatureLayer","GroupLayer","GeoRSSLayer","GeoJSONLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OGCFeatureLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","SceneLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","VoxelLayer","WebTileLayer","WFSLayer","WMSLayer","WMTSLayer","origin","y","portalItem","o","e","r","instance","id","load","s","i","resolve","supportedTypes","indexOf","type","expectedType","join","url","title","read","u","c","resourceReferences","paths","readResourcePaths","l","then","m","p","h","name","layers","map","tables","forEach","layerDefinition","push","filter","reverse","d","add","clone","layerId","sublayerTitleMode","portal","showLegend","supportsData","fetchData","catch","I","f","length","v","data","responseType","query"],"sources":["./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js","./node_modules/@arcgis/core/portal/support/jsonContext.js","./node_modules/@arcgis/core/portal/support/layersLoader.js","./node_modules/@arcgis/core/support/requestPresets.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,GeoJSONLayer:async()=>(await import(\"../GeoJSONLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OGCFeatureLayer:async()=>(await import(\"../OGCFeatureLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,VoxelLayer:async()=>(await import(\"../VoxelLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WFSLayer:async()=>(await import(\"../WFSLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import t from\"../Portal.js\";function o(o){return{origin:\"portal-item\",url:r(o.itemUrl),portal:o.portal||t.getDefault(),portalItem:o,readResourcePaths:[]}}export{o as createForItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{layerLookupMap as t}from\"../../layers/support/lazyLayerLoader.js\";import r from\"../Portal.js\";import{createForItem as n}from\"./jsonContext.js\";import{loadStyleRenderer as l}from\"../../renderers/support/styleUtils.js\";import{requestArcGISServiceJSON as a}from\"../../support/requestPresets.js\";async function o(e,t){const r=e.instance.portalItem;return r&&r.id?(await r.load(t),s(e),i(e,t)):Promise.resolve()}function s(t){const r=t.instance.portalItem;if(-1===t.supportedTypes.indexOf(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r.type,expectedType:t.supportedTypes.join(\", \")})}async function i(e,t){const r=e.instance,a=r.portalItem,{url:o,title:s}=a,i=n(a);if(\"group\"===r.type)return r.read({title:s},i),u(r,e);o&&r.read({url:o},i);const c=await y(e,t);return c&&r.read(c,i),r.resourceReferences={portalItem:a,paths:i.readResourcePaths},r.read({title:s},i),l(r,i)}function u(r,n){let l;const a=r.portalItem.type;switch(a){case\"Feature Service\":case\"Feature Collection\":l=t.FeatureLayer;break;case\"Stream Service\":l=t.StreamLayer;break;case\"Scene Service\":l=t.SceneLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${a}' is not supported as a 'IGroupLayer'`)}let o;return l().then((e=>(o=e,y(n)))).then((async e=>\"Feature Service\"===a?(e=await m(e,r.portalItem.url),p(r,o,e)):h(e)>0?p(r,o,e):c(r,o)))}function c(e,t){return e.portalItem.url?a(e.portalItem.url).then((r=>{var n,l;function a(e){return{id:e.id,name:e.name}}r&&p(e,t,{layers:null==(n=r.layers)?void 0:n.map(a),tables:null==(l=r.tables)?void 0:l.map(a)})})):Promise.resolve()}function p(e,t,r){let n=r.layers||[];const l=r.tables||[];\"Feature Collection\"===e.portalItem.type&&(n.forEach((e=>{var t;\"Table\"===(null==e||null==(t=e.layerDefinition)?void 0:t.type)&&l.push(e)})),n=n.filter((e=>{var t;return\"Table\"!==(null==e||null==(t=e.layerDefinition)?void 0:t.type)}))),n.reverse().forEach((n=>{const l=d(e,t,r,n);e.add(l)})),l.reverse().forEach((n=>{const l=d(e,t,r,n);e.tables.add(l)}))}function d(e,t,n,l){const a=new t({portalItem:e.portalItem.clone(),layerId:l.id,sublayerTitleMode:\"service-name\"});if(\"Feature Collection\"===e.portalItem.type){const t={origin:\"portal-item\",portal:e.portalItem.portal||r.getDefault()};a.read(l,t);const o=n.showLegend;null!=o&&a.read({showLegend:o},t)}return a}function y(e,t){if(!1===e.supportsData)return Promise.resolve(void 0);const r=e.instance;return r.portalItem.fetchData(\"json\",t).catch((()=>null)).then((async e=>{if(I(r)){let t,n=!0;return e&&h(e)>0&&(null==r.layerId&&(r.layerId=f(e)),t=v(e,r.layerId),t&&(1===h(e)&&(n=!1),null!=e.showLegend&&(t.showLegend=e.showLegend))),n&&\"service-name\"!==r.sublayerTitleMode&&(r.sublayerTitleMode=\"item-title-and-service-name\"),t}return e}))}async function m(e,t){var r,n;if(null==(null==(r=e)?void 0:r.layers)||null==(null==(n=e)?void 0:n.tables)){const r=await a(t);(e=e||{}).layers=e.layers||(null==r?void 0:r.layers),e.tables=e.tables||(null==r?void 0:r.tables)}return e}function f(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;return r&&r.length?r[0].id:null}function v(e,t){const r=e.layers;if(r)for(let l=0;l<r.length;l++)if(r[l].id===t)return r[l];const n=e.tables;if(n)for(let l=0;l<n.length;l++)if(n[l].id===t)return n[l];return null}function h(e){var t,r,n,l;return(null!=(t=null==e||null==(r=e.layers)?void 0:r.length)?t:0)+(null!=(n=null==e||null==(l=e.tables)?void 0:l.length)?n:0)}function I(e){return\"stream\"!==e.type&&\"layerId\"in e}export{f as getFirstLayerOrTableId,h as getNumLayersAndTables,o as load,m as preprocessFSItemData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function n(n){const{data:o}=await e(n,{responseType:\"json\",query:{f:\"json\"}});return o}export{n as requestArcGISServiceJSON};\n"],"sourceRoot":"webpack:///","file":"4174.730270473df4f2544898.js"}