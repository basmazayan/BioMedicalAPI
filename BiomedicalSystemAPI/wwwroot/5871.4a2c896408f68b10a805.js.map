{"version":3,"file":"5871.4a2c896408f68b10a805.js","mappings":"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","sources":["./node_modules/@arcgis/core/layers/support/FetchAssociatedFeatureLayer.js","./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","./node_modules/@arcgis/core/layers/support/capabilities.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{id as t}from\"../../kernel.js\";import r from\"../../request.js\";import{isNone as e,isSome as a}from\"../../core/maybe.js\";import{throwIfAbortError as i}from\"../../core/promiseUtils.js\";import s from\"../FeatureLayer.js\";import n from\"../../portal/Portal.js\";import o from\"../../portal/PortalItem.js\";class l{constructor(t,r,e,a){this.parsedUrl=t,this.portalItem=r,this.apiKey=e,this.signal=a,this.rootDocument=null;const i=this.parsedUrl.path.match(/^(.*)\\/SceneServer\\/layers\\/([\\d]*)\\/?$/i);i&&(this.urlParts={root:i[1],layerId:parseInt(i[2],10)})}async fetch(){var t;if(!this.urlParts)return null;const r=null!=(t=this.portalItem)?t:await this.portalItemFromServiceItemId();if(e(r))return this.loadFromUrl();const a=await this.findAndLoadRelatedPortalItem(r);return e(a)?null:this.loadFeatureLayerFromPortalItem(a)}async fetchPortalItem(){var t;if(!this.urlParts)return null;const r=null!=(t=this.portalItem)?t:await this.portalItemFromServiceItemId();return e(r)?null:this.findAndLoadRelatedPortalItem(r)}async fetchRootDocument(){if(a(this.rootDocument))return this.rootDocument;if(e(this.urlParts))return this.rootDocument={},{};const t={query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:this.signal},i=`${this.urlParts.root}/SceneServer`;try{const e=await r(i,t);this.rootDocument=e.data}catch{this.rootDocument={}}return this.rootDocument}async fetchServiceOwningPortalUrl(){var e;const a=null==(e=t)?void 0:e.findServerInfo(this.parsedUrl.path);if(null!=a&&a.owningSystemUrl)return a.owningSystemUrl;const s=this.parsedUrl.path.replace(/(.*\\/rest)\\/.*/i,\"$1\")+\"/info\";try{const t=(await r(s,{query:{f:\"json\"},responseType:\"json\",signal:this.signal})).data.owningSystemUrl;if(t)return t}catch(n){i(n)}return null}async findAndLoadRelatedPortalItem(t){try{return(await t.fetchRelatedItems({relationshipType:\"Service2Service\",direction:\"reverse\"},{signal:this.signal})).find((t=>\"Feature Service\"===t.type))||null}catch(r){return i(r),null}}async loadFeatureLayerFromPortalItem(t){await t.load({signal:this.signal});const r=await this.findMatchingAssociatedSublayerUrl(t.url);return new s({url:r,portalItem:t}).load({signal:this.signal})}async loadFromUrl(){const t=await this.findMatchingAssociatedSublayerUrl(`${this.urlParts.root}/FeatureServer`);return new s({url:t}).load({signal:this.signal})}async findMatchingAssociatedSublayerUrl(t){const e=t.replace(/^(.*FeatureServer)(\\/[\\d]*\\/?)?$/i,\"$1\"),a={query:{f:\"json\"},responseType:\"json\",authMode:\"no-prompt\",signal:this.signal},i=this.urlParts.layerId,s=this.fetchRootDocument(),n=r(e,a),[o,l]=await Promise.all([n,s]),c=l&&l.layers,h=o.data&&o.data.layers;if(!Array.isArray(h))throw new Error(\"expected layers array\");if(Array.isArray(c))for(let r=0;r<Math.min(c.length,h.length);r++){if(c[r].id===i)return`${e}/${h[r].id}`}else if(i<h.length)return`${e}/${h[i].id}`;throw new Error(\"could not find matching associated sublayer\")}async portalItemFromServiceItemId(){const t=(await this.fetchRootDocument()).serviceItemId;if(!t)return null;const r=new o({id:t,apiKey:this.apiKey}),e=await this.fetchServiceOwningPortalUrl();a(e)&&(r.portal=new n({url:e}));try{return r.load({signal:this.signal})}catch(s){return i(s),null}}}export{l as FetchAssociatedFeatureLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{enumeration as r}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([o({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([o({type:Number})],s.prototype,\"rootIndex\",void 0),e([o({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([p(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends t{constructor(){super(...arguments),this.factor=1}};e([o({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([o({type:Number})],i.prototype,\"factor\",void 0),i=e([p(\"esri.layer.support.I3SMaterialTexture\")],i);let a=class extends t{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([o({type:[Number]})],a.prototype,\"baseColorFactor\",void 0),e([o({type:i})],a.prototype,\"baseColorTexture\",void 0),e([o({type:i})],a.prototype,\"metallicRoughnessTexture\",void 0),e([o({type:Number})],a.prototype,\"metallicFactor\",void 0),e([o({type:Number})],a.prototype,\"roughnessFactor\",void 0),a=e([p(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],a);let l=class extends t{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([r({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],l.prototype,\"alphaMode\",void 0),e([o({type:Number})],l.prototype,\"alphaCutoff\",void 0),e([o({type:Boolean})],l.prototype,\"doubleSided\",void 0),e([r({none:\"none\",back:\"back\",front:\"front\"})],l.prototype,\"cullFace\",void 0),e([o({type:i})],l.prototype,\"normalTexture\",void 0),e([o({type:i})],l.prototype,\"occlusionTexture\",void 0),e([o({type:i})],l.prototype,\"emissiveTexture\",void 0),e([o({type:[Number]})],l.prototype,\"emissiveFactor\",void 0),e([o({type:a})],l.prototype,\"pbrMetallicRoughness\",void 0),l=e([p(\"esri.layer.support.I3SMaterialDefinition\")],l);let n=class extends t{};e([o({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([r({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\",ktx2:\"ktx2\",basis:\"basis\"})],n.prototype,\"format\",void 0),n=e([p(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends t{constructor(){super(...arguments),this.atlas=!1}};e([o({type:[n]})],u.prototype,\"formats\",void 0),e([o({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([p(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends t{};e([r({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([o({type:Number})],y.prototype,\"component\",void 0),y=e([p(\"esri.layer.support.I3SGeometryAttribute\")],y);let d=class extends t{};e([r({draco:\"draco\"})],d.prototype,\"encoding\",void 0),e([o({type:[String]})],d.prototype,\"attributes\",void 0),d=e([p(\"esri.layer.support.I3SGeometryCompressedAttributes\")],d);let c=class extends t{constructor(){super(...arguments),this.offset=0}};e([o({type:Number})],c.prototype,\"offset\",void 0),e([o({type:y})],c.prototype,\"position\",void 0),e([o({type:y})],c.prototype,\"normal\",void 0),e([o({type:y})],c.prototype,\"uv0\",void 0),e([o({type:y})],c.prototype,\"color\",void 0),e([o({type:y})],c.prototype,\"uvRegion\",void 0),e([o({type:y})],c.prototype,\"featureId\",void 0),e([o({type:y})],c.prototype,\"faceRange\",void 0),e([o({type:d})],c.prototype,\"compressedAttributes\",void 0),c=e([p(\"esri.layer.support.I3SGeometryBuffer\")],c);let m=class extends t{};e([r({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([o()],m.prototype,\"geometryBuffers\",void 0),m=e([p(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,c as I3SGeometryBuffer,d as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,l as I3SMaterialDefinition,a as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst s={attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,tileMaxRecordCount:0}};export{s as zeroCapabilities};\n"],"names":["id","t","r","isNone","e","isSome","a","throwIfAbortError","i","s","n","o","l","constructor","parsedUrl","portalItem","apiKey","signal","rootDocument","path","match","urlParts","root","layerId","parseInt","fetch","portalItemFromServiceItemId","loadFromUrl","findAndLoadRelatedPortalItem","loadFeatureLayerFromPortalItem","fetchPortalItem","fetchRootDocument","query","f","token","responseType","data","fetchServiceOwningPortalUrl","findServerInfo","owningSystemUrl","replace","fetchRelatedItems","relationshipType","direction","find","type","load","findMatchingAssociatedSublayerUrl","url","authMode","Promise","all","c","layers","h","Array","isArray","Error","Math","min","length","serviceItemId","portal","FetchAssociatedFeatureLayer"],"sourceRoot":"webpack:///"}