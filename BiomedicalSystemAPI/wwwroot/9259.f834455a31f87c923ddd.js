"use strict";var et=Object.defineProperty,tt=Object.defineProperties,rt=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,Ke=Math.pow,$e=(R,O,g)=>O in R?et(R,O,{enumerable:!0,configurable:!0,writable:!0,value:g}):R[O]=g,Re=(R,O)=>{for(var g in O||(O={}))st.call(O,g)&&$e(R,g,O[g]);if(He)for(var g of He(O))nt.call(O,g)&&$e(R,g,O[g]);return R},Fe=(R,O)=>tt(R,rt(O));(self.webpackChunkbio_medical=self.webpackChunkbio_medical||[]).push([[9259],{13707:(R,O,g)=>{g.d(O,{ly:()=>Le,oS:()=>pe,o7:()=>j,Jj:()=>Te,Hz:()=>Y,gK:()=>$,ey:()=>le,bj:()=>he,O1:()=>ue,av:()=>x,Nu:()=>M,D_:()=>Z,Eu:()=>fe,q6:()=>ve,or:()=>H,wA:()=>U,Vs:()=>Ee,TS:()=>oe,qt:()=>me,xA:()=>xe,ct:()=>de,fP:()=>ce,n1:()=>be,PP:()=>Ae,P_:()=>X,mw:()=>Q,G5:()=>ge,ne:()=>Be,ek:()=>ie,Cd:()=>J,zO:()=>ee,TN:()=>we,ir:()=>_,v6:()=>G,hu:()=>ye,mc:()=>w});class Oe{constructor(e,t,s=0,r,l){this.TypedArrayConstructor=e,this.elementCount=9;const c=this.TypedArrayConstructor;void 0===r&&(r=9*c.BYTES_PER_ELEMENT);const B=0===t.byteLength?0:s;this.typedBuffer=null==l?new c(t,B):new c(t,B,(l-s)/c.BYTES_PER_ELEMENT),this.typedBufferStride=r/c.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,s=this.count-t){const r=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,r,this.stride,r+s*this.stride)}getMat(e,t){let s=e*this.typedBufferStride;for(let r=0;r<9;r++)t[r]=this.typedBuffer[s++];return t}setMat(e,t){let s=e*this.typedBufferStride;for(let r=0;r<9;r++)this.typedBuffer[s++]=t[r]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,s){this.typedBuffer[e*this.typedBufferStride+t]=s}copyFrom(e,t,s){const r=this.typedBuffer,l=t.typedBuffer;let c=e*this.typedBufferStride,B=s*t.typedBufferStride;for(let te=0;te<9;++te)r[c++]=l[B++]}get buffer(){return this.typedBuffer.buffer}}Oe.ElementCount=9;class ae{constructor(e,t,s=0,r,l){this.TypedArrayConstructor=e,this.elementCount=16;const c=this.TypedArrayConstructor;void 0===r&&(r=16*c.BYTES_PER_ELEMENT);const B=0===t.byteLength?0:s;this.typedBuffer=null==l?new c(t,B):new c(t,B,(l-s)/c.BYTES_PER_ELEMENT),this.typedBufferStride=r/c.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,s=this.count-t){const r=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,r,this.stride,r+s*this.stride)}getMat(e,t){let s=e*this.typedBufferStride;for(let r=0;r<16;r++)t[r]=this.typedBuffer[s++];return t}setMat(e,t){let s=e*this.typedBufferStride;for(let r=0;r<16;r++)this.typedBuffer[s++]=t[r]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,s){this.typedBuffer[e*this.typedBufferStride+t]=s}copyFrom(e,t,s){const r=this.typedBuffer,l=t.typedBuffer;let c=e*this.typedBufferStride,B=s*t.typedBufferStride;for(let te=0;te<16;++te)r[c++]=l[B++]}get buffer(){return this.typedBuffer.buffer}}ae.ElementCount=16;class N{constructor(e,t,s=0,r,l){this.TypedArrayConstructor=e,this.elementCount=1;const c=this.TypedArrayConstructor;void 0===r&&(r=c.BYTES_PER_ELEMENT);const B=0===t.byteLength?0:s;this.typedBuffer=null==l?new c(t,B):new c(t,B,(l-s)/c.BYTES_PER_ELEMENT),this.typedBufferStride=r/c.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,s=this.count-t){const r=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,r,this.stride,r+s*this.stride)}get(e){return this.typedBuffer[e*this.typedBufferStride]}set(e,t){this.typedBuffer[e*this.typedBufferStride]=t}get buffer(){return this.typedBuffer.buffer}}N.ElementCount=1;var a=g(68292);class P{constructor(e,t,s=0,r,l){this.TypedArrayConstructor=e,this.elementCount=2;const c=this.TypedArrayConstructor;void 0===r&&(r=2*c.BYTES_PER_ELEMENT);const B=0===t.byteLength?0:s;this.typedBuffer=null==l?new c(t,B):new c(t,B,(l-s)/c.BYTES_PER_ELEMENT),this.typedBufferStride=r/c.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,s=this.count-t){const r=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,r,this.stride,r+s*this.stride)}getVec(e,t){return e*=this.typedBufferStride,(0,a.s)(t,this.typedBuffer[e],this.typedBuffer[e+1])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e]=t[1]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,s){this.typedBuffer[e*this.typedBufferStride+t]=s}setValues(e,t,s){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e]=s}copyFrom(e,t,s){const r=this.typedBuffer,l=t.typedBuffer;let c=e*this.typedBufferStride,B=s*t.typedBufferStride;r[c++]=l[B++],r[c]=l[B]}get buffer(){return this.typedBuffer.buffer}}P.ElementCount=2;var F=g(63702);class z{constructor(e,t,s=0,r,l){this.TypedArrayConstructor=e,this.elementCount=3;const c=this.TypedArrayConstructor;void 0===r&&(r=3*c.BYTES_PER_ELEMENT);const B=0===t.byteLength?0:s;this.typedBuffer=null==l?new c(t,B):new c(t,B,(l-s)/c.BYTES_PER_ELEMENT),this.typedBufferStride=r/c.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,s=this.count-t){const r=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,r,this.stride,r+s*this.stride)}getVec(e,t){return e*=this.typedBufferStride,(0,F.s)(t,this.typedBuffer[e],this.typedBuffer[e+1],this.typedBuffer[e+2])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e++]=t[1],this.typedBuffer[e]=t[2]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,s){this.typedBuffer[e*this.typedBufferStride+t]=s}setValues(e,t,s,r){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e++]=s,this.typedBuffer[e]=r}copyFrom(e,t,s){const r=this.typedBuffer,l=t.typedBuffer;let c=e*this.typedBufferStride,B=s*t.typedBufferStride;r[c++]=l[B++],r[c++]=l[B++],r[c]=l[B]}get buffer(){return this.typedBuffer.buffer}}z.ElementCount=3;var Ue=g(64617);class D{constructor(e,t,s=0,r,l){this.TypedArrayConstructor=e,this.elementCount=4;const c=this.TypedArrayConstructor;void 0===r&&(r=4*c.BYTES_PER_ELEMENT);const B=0===t.byteLength?0:s;this.typedBuffer=null==l?new c(t,B):new c(t,B,(l-s)/c.BYTES_PER_ELEMENT),this.typedBufferStride=r/c.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,s=this.count-t){const r=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,r,this.stride,r+s*this.stride)}getVec(e,t){return e*=this.typedBufferStride,(0,Ue.s)(t,this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e++]=t[1],this.typedBuffer[e++]=t[2],this.typedBuffer[e]=t[3]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,s){this.typedBuffer[e*this.typedBufferStride+t]=s}setValues(e,t,s,r,l){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e++]=s,this.typedBuffer[e++]=r,this.typedBuffer[e]=l}copyFrom(e,t,s){const r=this.typedBuffer,l=t.typedBuffer;let c=e*this.typedBufferStride,B=s*t.typedBufferStride;r[c++]=l[B++],r[c++]=l[B++],r[c++]=l[B++],r[c]=l[B]}get buffer(){return this.typedBuffer.buffer}}D.ElementCount=4;class Le extends N{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}static fromTypedArray(e,t){return new Le(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Le.ElementType="f32";class fe extends P{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}slice(e,t){return this.sliceBuffer(fe,e,t)}static fromTypedArray(e,t){return new fe(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}fe.ElementType="f32";class de extends z{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}slice(e,t){return this.sliceBuffer(de,e,t)}static fromTypedArray(e,t){return new de(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}de.ElementType="f32";class ie extends D{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}slice(e,t){return this.sliceBuffer(ie,e,t)}static fromTypedArray(e,t){return new ie(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}ie.ElementType="f32";class $ extends Oe{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}slice(e,t){return this.sliceBuffer($,e,t)}static fromTypedArray(e,t){return new $(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}$.ElementType="f32";class le extends Oe{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(le,e,t)}static fromTypedArray(e,t){return new le(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}le.ElementType="f64";class he extends ae{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}slice(e,t){return this.sliceBuffer(he,e,t)}static fromTypedArray(e,t){return new he(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}he.ElementType="f32";class ue extends ae{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(ue,e,t)}static fromTypedArray(e,t){return new ue(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}ue.ElementType="f64";class pe extends N{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(pe,e,t)}static fromTypedArray(e,t){return new pe(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}pe.ElementType="f64";class ve extends P{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(ve,e,t)}static fromTypedArray(e,t){return new ve(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}ve.ElementType="f64";class ce extends z{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(ce,e,t)}static fromTypedArray(e,t){return new ce(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}ce.ElementType="f64";class J extends D{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(J,e,t)}static fromTypedArray(e,t){return new J(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}J.ElementType="f64";class Z extends N{constructor(e,t=0,s,r){super(Uint8Array,e,t,s,r),this.elementType="u8"}slice(e,t){return this.sliceBuffer(Z,e,t)}static fromTypedArray(e,t){return new Z(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Z.ElementType="u8";class xe extends P{constructor(e,t=0,s,r){super(Uint8Array,e,t,s,r),this.elementType="u8"}slice(e,t){return this.sliceBuffer(xe,e,t)}static fromTypedArray(e,t){return new xe(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}xe.ElementType="u8";class Be extends z{constructor(e,t=0,s,r){super(Uint8Array,e,t,s,r),this.elementType="u8"}slice(e,t){return this.sliceBuffer(Be,e,t)}static fromTypedArray(e,t){return new Be(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Be.ElementType="u8";class w extends D{constructor(e,t=0,s,r){super(Uint8Array,e,t,s,r),this.elementType="u8"}slice(e,t){return this.sliceBuffer(w,e,t)}static fromTypedArray(e,t){return new w(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}w.ElementType="u8";class x extends N{constructor(e,t=0,s,r){super(Uint16Array,e,t,s,r),this.elementType="u16"}slice(e,t){return this.sliceBuffer(x,e,t)}static fromTypedArray(e,t){return new x(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}x.ElementType="u16";class oe extends P{constructor(e,t=0,s,r){super(Uint16Array,e,t,s,r),this.elementType="u16"}slice(e,t){return this.sliceBuffer(oe,e,t)}static fromTypedArray(e,t){return new oe(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}oe.ElementType="u16";class Q extends z{constructor(e,t=0,s,r){super(Uint16Array,e,t,s,r),this.elementType="u16"}slice(e,t){return this.sliceBuffer(Q,e,t)}static fromTypedArray(e,t){return new Q(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Q.ElementType="u16";class G extends D{constructor(e,t=0,s,r){super(Uint16Array,e,t,s,r),this.elementType="u16"}slice(e,t){return this.sliceBuffer(G,e,t)}static fromTypedArray(e,t){return new G(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}G.ElementType="u16";class M extends N{constructor(e,t=0,s,r){super(Uint32Array,e,t,s,r),this.elementType="u32"}slice(e,t){return this.sliceBuffer(M,e,t)}static fromTypedArray(e,t){return new M(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}M.ElementType="u32";class me extends P{constructor(e,t=0,s,r){super(Uint32Array,e,t,s,r),this.elementType="u32"}slice(e,t){return this.sliceBuffer(me,e,t)}static fromTypedArray(e,t){return new me(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}me.ElementType="u32";class ge extends z{constructor(e,t=0,s,r){super(Uint32Array,e,t,s,r),this.elementType="u32"}slice(e,t){return this.sliceBuffer(ge,e,t)}static fromTypedArray(e,t){return new ge(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}ge.ElementType="u32";class ye extends D{constructor(e,t=0,s,r){super(Uint32Array,e,t,s,r),this.elementType="u32"}slice(e,t){return this.sliceBuffer(ye,e,t)}static fromTypedArray(e,t){return new ye(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}ye.ElementType="u32";class Y extends N{constructor(e,t=0,s,r){super(Int8Array,e,t,s,r),this.elementType="i8"}slice(e,t){return this.sliceBuffer(Y,e,t)}static fromTypedArray(e,t){return new Y(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Y.ElementType="i8";class Ee extends P{constructor(e,t=0,s,r){super(Int8Array,e,t,s,r),this.elementType="i8"}slice(e,t){return this.sliceBuffer(Ee,e,t)}static fromTypedArray(e,t){return new Ee(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Ee.ElementType="i8";class X extends z{constructor(e,t=0,s,r){super(Int8Array,e,t,s,r),this.elementType="i8"}slice(e,t){return this.sliceBuffer(X,e,t)}static fromTypedArray(e,t){return new X(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}X.ElementType="i8";class _ extends D{constructor(e,t=0,s,r){super(Int8Array,e,t,s,r),this.elementType="i8"}slice(e,t){return this.sliceBuffer(_,e,t)}static fromTypedArray(e,t){return new _(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}_.ElementType="i8";class j extends N{constructor(e,t=0,s,r){super(Int16Array,e,t,s,r),this.elementType="i16"}slice(e,t){return this.sliceBuffer(j,e,t)}static fromTypedArray(e,t){return new j(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}j.ElementType="i16";class H extends P{constructor(e,t=0,s,r){super(Int16Array,e,t,s,r),this.elementType="i16"}slice(e,t){return this.sliceBuffer(H,e,t)}static fromTypedArray(e,t){return new H(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}H.ElementType="i16";class be extends z{constructor(e,t=0,s,r){super(Int16Array,e,t,s,r),this.elementType="i16"}slice(e,t){return this.sliceBuffer(be,e,t)}static fromTypedArray(e,t){return new be(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}be.ElementType="i16";class ee extends D{constructor(e,t=0,s,r){super(Int16Array,e,t,s,r),this.elementType="i16"}slice(e,t){return this.sliceBuffer(ee,e,t)}static fromTypedArray(e,t){return new ee(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}ee.ElementType="i16";class Te extends N{constructor(e,t=0,s,r){super(Int32Array,e,t,s,r),this.elementType="i32"}slice(e,t){return this.sliceBuffer(Te,e,t)}static fromTypedArray(e,t){return new Te(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Te.ElementType="i32";class U extends P{constructor(e,t=0,s,r){super(Int32Array,e,t,s,r),this.elementType="i32"}slice(e,t){return this.sliceBuffer(U,e,t)}static fromTypedArray(e,t){return new U(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}U.ElementType="i32";class Ae extends z{constructor(e,t=0,s,r){super(Int32Array,e,t,s,r),this.elementType="i32"}slice(e,t){return this.sliceBuffer(Ae,e,t)}static fromTypedArray(e,t){return new Ae(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Ae.ElementType="i32";class we extends D{constructor(e,t=0,s,r){super(Int32Array,e,t,s,r),this.elementType="i32"}slice(e,t){return this.sliceBuffer(we,e,t)}static fromTypedArray(e,t){return new we(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}we.ElementType="i32"},81681:(R,O,g)=>{g.d(O,{n1:()=>ae,U:()=>a,B3:()=>N,Op:()=>P});g(30627);function ae(F){switch(F){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8;default:return}}function N(F){switch(F){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function a(F){switch(F){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function P(F){switch(F){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}},85230:(R,O,g)=>{g.r(O),g.d(O,{work:()=>Ye,wrappedWork:()=>B});var Oe=g(49996),ae=g(25272);function N(n,f,i){const y=f/3,o=new Uint32Array(i+1),h=new Uint32Array(i+1),A=(u,d)=>{u<d?o[u+1]++:h[d+1]++};for(let u=0;u<y;u++){const d=n[3*u],b=n[3*u+1],T=n[3*u+2];A(d,b),A(b,T),A(T,d)}let p=0,S=0;for(let u=0;u<i;u++){const d=o[u+1],b=h[u+1];o[u+1]=p,h[u+1]=S,p+=d,S+=b}const m=new Uint32Array(6*y),E=o[i],v=(u,d,b)=>{if(u<d){const T=o[u+1]++;m[2*T]=d,m[2*T+1]=b}else{const T=h[d+1]++;m[2*E+2*T]=u,m[2*E+2*T+1]=b}};for(let u=0;u<y;u++){const d=n[3*u],b=n[3*u+1],T=n[3*u+2];v(d,b,u),v(b,T,u),v(T,d,u)}const C=(u,d)=>{const b=2*u,T=d-u;for(let V=1;V<T;V++){const K=m[b+2*V],ne=m[b+2*V+1];let W=V-1;for(;W>=0&&m[b+2*W]>K;W--)m[b+2*W+2]=m[b+2*W],m[b+2*W+3]=m[b+2*W+1];m[b+2*W+2]=K,m[b+2*W+3]=ne}};for(let u=0;u<i;u++)C(o[u],o[u+1]),C(E+h[u],E+h[u+1]);const L=new Int32Array(3*y),re=(u,d)=>u===n[3*d]?0:u===n[3*d+1]?1:u===n[3*d+2]?2:-1,I=(u,d)=>{const b=re(u,d);L[3*d+b]=-1},se=(u,d,b,T)=>{const V=re(u,d);L[3*d+V]=T;const K=re(b,T);L[3*T+K]=d};for(let u=0;u<i;u++){let d=o[u];const b=o[u+1];let T=h[u];const V=h[u+1];for(;d<b&&T<V;){const K=m[2*d],ne=m[2*E+2*T];K===ne?(se(u,m[2*d+1],ne,m[2*E+2*T+1]),d++,T++):K<ne?(I(u,m[2*d+1]),d++):(I(ne,m[2*E+2*T+1]),T++)}for(;d<b;)I(u,m[2*d+1]),d++;for(;T<V;)I(m[2*E+2*T],m[2*E+2*T+1]),T++}return L}var a=g(13707),P=g(46880);function F(n,f){return f.push(n.buffer),{buffer:n.buffer,layout:Ue(n.layout)}}function Ue(n){const f=new Array;return n.fields.forEach((i,y)=>{const o=Fe(Re({},i),{constructor:fe(i.constructor)});f.push([y,o])}),{stride:n.stride,fields:f,fieldNames:n.fieldNames}}const Le=[a.ly,a.Eu,a.ct,a.ek,a.gK,a.bj,a.oS,a.q6,a.fP,a.Cd,a.ey,a.O1,a.D_,a.xA,a.ne,a.mc,a.av,a.TS,a.mw,a.v6,a.Nu,a.qt,a.G5,a.hu,a.Hz,a.Vs,a.P_,a.ir,a.o7,a.or,a.n1,a.zO,a.Jj,a.wA,a.PP,a.TN];function fe(n){return`${n.ElementType}_${n.ElementCount}`}const ie=new Map;function $(n,f=0){const i=n.stride;return n.fieldNames.filter(y=>{const o=n.fields.get(y).optional;return!(o&&o.glPadding)}).map(y=>{const o=n.fields.get(y),h=o.constructor.ElementCount,A=function(n){const f=he[n];if(f)return f;throw new Error("BufferType not supported in WebGL")}(o.constructor.ElementType),p=o.offset,S=!(!o.optional||!o.optional.glNormalized);return{name:y,stride:i,count:h,type:A,offset:p,normalized:S,divisor:f}})}Le.forEach(n=>ie.set(fe(n),n));const he={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126},ue=(0,P.U$)().vec3f("position").u16("componentIndex").u16("u16padding"),ce=($((0,P.U$)().vec2u8("sideness")),(0,P.U$)().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("u8padding",{glPadding:!0}).u16("u16padding",{glPadding:!0})),J=ce.clone().vec3f("normal"),Z=ce.clone().vec3f("normalA").vec3f("normalB");new Map([["position0",0],["position1",1],["componentIndex",2],["variantOffset",3],["variantStroke",4],["variantExtension",5],["normal",6],["normalA",6],["normalB",7],["sideness",8]]);var Be=g(46255),w=g(63702),x=g(33989);class oe{updateSettings(f){this.settings=f,this.edgeHashFunction=f.reducedPrecision?ge:me}write(f,i,y){const o=this.edgeHashFunction(y);H.seed=o;const h=H.getIntRange(0,255),A=H.getIntRange(0,this.settings.variants-1),S=H.getFloat(),m=255*(.5*function(n,f){const i=n<0?-1:1;return Ke(Math.abs(n),f)*i}(-(1-Math.min(S/.7,1))+Math.max(0,S-.7)/(1-.7),1.2)+.5);f.position0.setVec(i,y.position0),f.position1.setVec(i,y.position1),f.componentIndex.set(i,y.componentIndex),f.variantOffset.set(i,h),f.variantStroke.set(i,A),f.variantExtension.set(i,m)}trim(f,i){return f.slice(0,i)}}const Q=new Float32Array(6),G=new Uint32Array(Q.buffer),M=new Uint32Array(1);function me(n){const f=Q;f[0]=n.position0[0],f[1]=n.position0[1],f[2]=n.position0[2],f[3]=n.position1[0],f[4]=n.position1[1],f[5]=n.position1[2],M[0]=5381;for(let i=0;i<G.length;i++)M[0]=31*M[0]+G[i];return M[0]}function ge(n){const f=Q;f[0]=Y(n.position0[0]),f[1]=Y(n.position0[1]),f[2]=Y(n.position0[2]),f[3]=Y(n.position1[0]),f[4]=Y(n.position1[1]),f[5]=Y(n.position1[2]),M[0]=5381;for(let i=0;i<G.length;i++)M[0]=31*M[0]+G[i];return M[0]}function Y(n){return Math.round(1e4*n)/1e4}class X{constructor(){this.commonWriter=new oe}updateSettings(f){this.commonWriter.updateSettings(f)}allocate(f){return J.createBuffer(f)}write(f,i,y){this.commonWriter.write(f,i,y),(0,w.b)(j,y.faceNormal0,y.faceNormal1),(0,w.n)(j,j),f.normal.setVec(i,j)}trim(f,i){return this.commonWriter.trim(f,i)}}X.Layout=J,X.glLayout=$(J,1);class _{constructor(){this.commonWriter=new oe}updateSettings(f){this.commonWriter.updateSettings(f)}allocate(f){return Z.createBuffer(f)}write(f,i,y){this.commonWriter.write(f,i,y),f.normalA.setVec(i,y.faceNormal0),f.normalB.setVec(i,y.faceNormal1)}trim(f,i){return this.commonWriter.trim(f,i)}}_.Layout=Z,_.glLayout=$(Z,1);const j=(0,x.c)(),H=new Be.Z;var be=g(45072),ee=g(88415),Te=g(65218);const U=-1;function Ae(n,f,i,y=c){const o=n.vertices.position,h=n.vertices.componentIndex,A=(0,ee.Vl)(y.anglePlanar),p=(0,ee.Vl)(y.angleSignificantEdge),S=Math.cos(p),m=Math.cos(A),E=r.edge,v=E.position0,C=E.position1,L=E.faceNormal0,re=E.faceNormal1,I=function(n){const f=n.faces.length/3,i=n.vertices.position,y=n.faces,o=l.v0,h=l.v1,A=l.v2,p=new Float32Array(3*f);for(let S=0;S<f;S++){const m=y[3*S+0],E=y[3*S+1],v=y[3*S+2];i.getVec(m,o),i.getVec(E,h),i.getVec(v,A),(0,w.f)(h,h,o),(0,w.f)(A,A,o),(0,w.c)(o,h,A),(0,w.n)(o,o),p[3*S+0]=o[0],p[3*S+1]=o[1],p[3*S+2]=o[2]}return p}(n),se=function(n){const f=n.faces.length/3,i=n.faces,y=n.neighbors;let o=0;for(let p=0;p<f;p++){const S=y[3*p+0],m=y[3*p+1],E=y[3*p+2],v=i[3*p+0],C=i[3*p+1],L=i[3*p+2];o+=S===U||v<C?1:0,o+=m===U||C<L?1:0,o+=E===U||L<v?1:0}const h=new Int32Array(4*o);let A=0;for(let p=0;p<f;p++){const S=y[3*p+0],m=y[3*p+1],E=y[3*p+2],v=i[3*p+0],C=i[3*p+1],L=i[3*p+2];(S===U||v<C)&&(h[A++]=v,h[A++]=C,h[A++]=p,h[A++]=S),(m===U||C<L)&&(h[A++]=C,h[A++]=L,h[A++]=p,h[A++]=m),(E===U||L<v)&&(h[A++]=L,h[A++]=v,h[A++]=p,h[A++]=E)}return h}(n),u=se.length/4,d=f.allocate(u);let b=0;const T=u,V=i.allocate(T);let K=0,ne=0,W=0;const ke=(0,be.w6)(0,u),Ce=new Float32Array(u);(0,Te.Ed)(Ce,(Pe,k,Me)=>{o.getVec(se[4*k+0],v),o.getVec(se[4*k+1],C),Me[k]=(0,w.i)(v,C)}),ke.sort((Pe,k)=>Ce[k]-Ce[Pe]);const ze=new Array,Ge=new Array;for(let Pe=0;Pe<u;Pe++){const k=ke[Pe],Me=Ce[k],Ve=se[4*k+0],_e=se[4*k+1],Ne=se[4*k+2],Ie=se[4*k+3],je=Ie===U;if(o.getVec(Ve,v),o.getVec(_e,C),je)(0,w.s)(L,I[3*Ne+0],I[3*Ne+1],I[3*Ne+2]),(0,w.g)(re,L),E.componentIndex=h.get(Ve),E.cosAngle=(0,w.d)(L,re);else{if((0,w.s)(L,I[3*Ne+0],I[3*Ne+1],I[3*Ne+2]),(0,w.s)(re,I[3*Ie+0],I[3*Ie+1],I[3*Ie+2]),E.componentIndex=h.get(Ve),E.cosAngle=(0,w.d)(L,re),Se(E,m))continue;E.cosAngle<-.9999&&(0,w.g)(re,L)}ne+=Me,W++,je||we(E,S)?(f.write(d,b++,E),ze.push(Me)):e(E,A)&&(i.write(V,K++,E),Ge.push(Me))}const Xe=new Float32Array(ze.reverse()),qe=new Float32Array(Ge.reverse());return{regular:{instancesData:f.trim(d,b),lodInfo:{lengths:Xe}},silhouette:{instancesData:i.trim(V,K),lodInfo:{lengths:qe}},averageEdgeLength:ne/W}}function we(n,f){return n.cosAngle<f}function Se(n,f){return n.cosAngle>f}function e(n,f){const i=(0,ee.ZF)(n.cosAngle),y=r.fwd,o=r.ortho;return(0,w.r)(y,n.position1,n.position0),i*((0,w.d)((0,w.c)(o,n.faceNormal0,n.faceNormal1),y)>0?-1:1)>f}const r={edge:{position0:(0,x.c)(),position1:(0,x.c)(),faceNormal0:(0,x.c)(),faceNormal1:(0,x.c)(),componentIndex:0,cosAngle:0},ortho:(0,x.c)(),fwd:(0,x.c)()},l={v0:(0,x.c)(),v1:(0,x.c)(),v2:(0,x.c)()},c={anglePlanar:4,angleSignificantEdge:35};function B(n){return te.apply(this,arguments)}function te(){return(te=(0,Oe.Z)(function*(n){const f=Je(n),i=Ye(f),y=[f.data.buffer];return{result:Ze(i,y),transferList:y}})).apply(this,arguments)}function Ye(n){const f=function(n,f,i,y){if(f)return{faces:i,facesLength:y,neighbors:N(i,y,n.count),vertices:n};const o=(0,ae.d)(n.buffer,n.stride/4,{originalIndices:i,originalIndicesLength:y}),h=N(o.indices,y,o.uniqueCount);return{faces:o.indices,facesLength:o.indices.length,neighbors:h,vertices:ue.createView(o.buffer)}}(n.data,n.skipDeduplicate,n.indices,n.indicesLength);return We.updateSettings(n.writerSettings),De.updateSettings(n.writerSettings),Ae(f,We,De)}function Je(n){return{data:ue.createView(n.dataBuffer),indices:"Uint32Array"===n.indicesType?new Uint32Array(n.indicesBuffer):"Uint16Array"===n.indicesType?new Uint16Array(n.indicesBuffer):void 0,indicesLength:n.indicesLength,writerSettings:n.writerSettings,skipDeduplicate:n.skipDeduplicate}}function Ze(n,f){return f.push(n.regular.lodInfo.lengths.buffer),f.push(n.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:F(n.regular.instancesData,f),lodInfo:{lengths:n.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:F(n.silhouette.instancesData,f),lodInfo:{lengths:n.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:n.averageEdgeLength}}const We=new X,De=new _}}]);
//# sourceMappingURL=9259.f834455a31f87c923ddd.js.map