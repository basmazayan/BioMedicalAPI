"use strict";var xt=Math.pow;(self.webpackChunkbio_medical=self.webpackChunkbio_medical||[]).push([[9821],{53265:(wt,lt,C)=>{function N(c){return"h"in c&&"s"in c&&"v"in c}function J(c){return"l"in c&&"a"in c&&"b"in c}function q(c){return"l"in c&&"c"in c&&"h"in c}function O(c){return"x"in c&&"y"in c&&"z"in c}C.d(lt,{_Y:()=>S,Y3:()=>yt,sJ:()=>gt,xr:()=>A});const tt=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],ct=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function ht(c,s){const h=[];let d,u;if(c[0].length!==s.length)throw"dimensions do not match";const f=c.length,g=c[0].length;let x=0;for(d=0;d<f;d++){for(x=0,u=0;u<g;u++)x+=c[d][u]*s[u];h.push(x)}return h}function K(c){const s=[c.r/255,c.g/255,c.b/255].map(d=>d<=.04045?d/12.92:xt((d+.055)/1.055,2.4)),h=ht(tt,s);return{x:100*h[0],y:100*h[1],z:100*h[2]}}function Y(c){const s=ht(ct,[c.x/100,c.y/100,c.z/100]).map(h=>{const d=h<=.0031308?12.92*h:1.055*xt(h,1/2.4)-.055;return Math.min(1,Math.max(d,0))});return{r:Math.round(255*s[0]),g:Math.round(255*s[1]),b:Math.round(255*s[2])}}function ut(c){const s=[c.x/95.047,c.y/100,c.z/108.883].map(h=>h>xt(6/29,3)?xt(h,1/3):1/3*xt(29/6,2)*h+4/29);return{l:116*s[1]-16,a:500*(s[0]-s[1]),b:200*(s[1]-s[2])}}function R(c){const s=c.l,h=[(s+16)/116+c.a/500,(s+16)/116,(s+16)/116-c.b/200].map(d=>d>6/29?xt(d,3):3*xt(6/29,2)*(d-4/29));return{x:95.047*h[0],y:100*h[1],z:108.883*h[2]}}function ot(c){return ut(K(c))}function B(c){return Y(R(c))}function _(c){return function(c){const s=c.l,h=c.a,d=c.b,u=Math.sqrt(h*h+d*d);let f=Math.atan2(d,h);return f=f>0?f:f+2*Math.PI,{l:s,c:u,h:f}}(ut(K(c)))}function k(c){return Y(R(function(c){const s=c.l,h=c.c,d=c.h;return{l:s,a:h*Math.cos(d),b:h*Math.sin(d)}}(c)))}function A(c){return function(c){return"r"in c&&"g"in c&&"b"in c}(c)?c:q(c)?k(c):J(c)?B(c):O(c)?Y(c):N(c)?function(c){const s=(c.h+360)%360/60,h=c.s/100,d=c.v/100*255,u=d*h,f=u*(1-Math.abs(s%2-1));let g;switch(Math.floor(s)){case 0:g={r:u,g:f,b:0};break;case 1:g={r:f,g:u,b:0};break;case 2:g={r:0,g:u,b:f};break;case 3:g={r:0,g:f,b:u};break;case 4:g={r:f,g:0,b:u};break;case 5:case 6:g={r:u,g:0,b:f};break;default:g={r:0,g:0,b:0}}return g.r=Math.round(g.r+d-u),g.g=Math.round(g.g+d-u),g.b=Math.round(g.b+d-u),g}(c):c}function S(c){return N(c)?c:function(c){const s=c.r,h=c.g,d=c.b,u=Math.max(s,h,d),f=u-Math.min(s,h,d);let g=u,x=0===f?0:u===s?(h-d)/f%6:u===h?(d-s)/f+2:(s-h)/f+4,I=0===f?0:f/g;return x<0&&(x+=6),x*=60,I*=100,g*=100/255,{h:x,s:I,v:g}}(A(c))}function yt(c){return J(c)?c:ot(A(c))}function gt(c){return q(c)?c:_(A(c))}},91409:(wt,lt,C)=>{C.d(lt,{ym:()=>x,RF:()=>u,vY:()=>ct,J9:()=>M,U1:()=>P,Ie:()=>L,G6:()=>U});var X=C(18502),N=C(70279);const q=(a,i,l)=>[i,l],O=(a,i,l)=>[i,l,a[2]],tt=(a,i,l)=>[i,l,a[2],a[3]];function ct(a){return a?{originPosition:"upper-left"===a.originPosition?"upperLeft":"lower-left"===a.originPosition?"lowerLeft":a.originPosition,scale:a.tolerance?[a.tolerance,a.tolerance]:[1,1],translate:(0,X.pC)(a.extent)?[a.extent.xmin,a.extent.ymax]:[0,0]}:null}function K({scale:a,translate:i},l){return Math.round((l-i[0])/a[0])}function Y({scale:a,translate:i},l){return Math.round((i[1]-l)/a[1])}function ut(a,i,l){const m=[];let y,v,b,z;for(let j=0;j<l.length;j++){const E=l[j];j>0?(b=K(a,E[0]),z=Y(a,E[1]),b===y&&z===v||(m.push(i(E,b-y,z-v)),y=b,v=z)):(y=K(a,E[0]),v=Y(a,E[1]),m.push(i(E,y,v)))}return m.length>0?m:null}function B({scale:a,translate:i},l){return l*a[0]+i[0]}function _({scale:a,translate:i},l){return i[1]-l*a[1]}function k(a,i,l){const m=new Array(l.length);if(!l.length)return m;const[y,v]=a.scale;let b=B(a,l[0][0]),z=_(a,l[0][1]);m[0]=i(l[0],b,z);for(let j=1;j<l.length;j++){const E=l[j];b+=E[0]*y,z-=E[1]*v,m[j]=i(E,b,z)}return m}function W(a,i,l){const m=new Array(l.length);for(let y=0;y<l.length;y++)m[y]=k(a,i,l[y]);return m}function d(a,i,l,m,y){return i.points=function(a,i,l,m){return ut(a,l?m?tt:O:m?O:q,i)}(a,l.points,m,y),i}function u(a,i,l,m,y){return i.x=K(a,l.x),i.y=Y(a,l.y),i!==l&&(m&&(i.z=l.z),y&&(i.m=l.m)),i}function f(a,i,l,m,y){const v=function(a,i,l,m){const y=[],v=l?m?tt:O:m?O:q;for(let b=0;b<i.length;b++){const z=ut(a,v,i[b]);z&&z.length>=3&&y.push(z)}return y.length?y:null}(a,l.rings,m,y);return v?(i.rings=v,i):null}function g(a,i,l,m,y){const v=function(a,i,l,m){const y=[],v=l?m?tt:O:m?O:q;for(let b=0;b<i.length;b++){const z=ut(a,v,i[b]);z&&z.length>=2&&y.push(z)}return y.length?y:null}(a,l.paths,m,y);return v?(i.paths=v,i):null}function x(a,i){return a&&i?(0,N.wp)(i)?u(a,{},i,!1,!1):(0,N.l9)(i)?g(a,{},i,!1,!1):(0,N.oU)(i)?f(a,{},i,!1,!1):(0,N.aW)(i)?d(a,{},i,!1,!1):(0,N.YX)(i)?function(a,i,l,m,y){return i.xmin=K(a,l.xmin),i.ymin=Y(a,l.ymin),i.xmax=K(a,l.xmax),i.ymax=Y(a,l.ymax),i!==l&&(m&&(i.zmin=l.zmin,i.zmax=l.zmax),y&&(i.mmin=l.mmin,i.mmax=l.mmax)),i}(a,{},i,!1,!1):null:null}function M(a,i,l,m,y){return(0,X.pC)(l)&&(i.points=function(a,i,l,m){return k(a,l?m?tt:O:m?O:q,i)}(a,l.points,m,y)),i}function P(a,i,l,m,y){return(0,X.Wi)(l)||(i.x=B(a,l.x),i.y=_(a,l.y),i!==l&&(m&&(i.z=l.z),y&&(i.m=l.m))),i}function L(a,i,l,m,y){return(0,X.pC)(l)&&(i.rings=function(a,i,l,m){return W(a,l?m?tt:O:m?O:q,i)}(a,l.rings,m,y)),i}function U(a,i,l,m,y){return(0,X.pC)(l)&&(i.paths=function(a,i,l,m){return W(a,l?m?tt:O:m?O:q,i)}(a,l.paths,m,y)),i}},90027:(wt,lt,C)=>{C.r(lt),C.d(lt,{previewCIMSymbol:()=>pt});var ot,c,X=C(49996),N=C(75244),J=C(28503),q=C(30351),O=C(7808),tt=C(13778),ct=C(70279),ht=C(77600),K=C(64345),Y=C(20655),ut=C(16120),R=C(56314),T=C(80048),dt=C(35716);(c=ot||(ot={})).Legend="legend",c.Preview="preview";const B=(c,s,h)=>{if(c&&c.targetSize){let d;if(h){const u=Math.max(h.frame.xmax-h.frame.xmin,h.frame.ymax-h.frame.ymin);d=c.targetSize/(0,N.F2)(u)}else d=c.targetSize/s.referenceSize;return d}return c&&c.scaleFactor?c.scaleFactor:1},_={fill:{legend:{frame:{xmax:15,xmin:0,ymax:15,ymin:0},geometry:{rings:[[[0,15],[15,7.5],[15,0],[0,0],[0,15]]]},canvasPaths:{rings:[[[0,15],[0,0],[15,7.5],[15,15],[0,15]]]}},preview:{frame:{xmax:100,xmin:0,ymax:100,ymin:0},geometry:{rings:[[[0,100],[100,100],[100,0],[0,0],[0,100]]]},canvasPaths:{rings:[[[0,100],[0,0],[100,0],[100,100],[0,100]]]}}},stroke:{legend:{frame:{xmax:24,xmin:0,ymax:2,ymin:-2},geometry:{paths:[[[0,0],[12,0],[24,0]]]},canvasPaths:{paths:[[[0,2],[12,2],[24,2]]]}},preview:{frame:{xmax:100,xmin:0,ymax:2,ymin:-2},geometry:{paths:[[[0,0],[50,0],[100,0]]]},canvasPaths:{paths:[[[0,2],[50,2],[100,2]]]}}}};function A(c,s,h,d){let u,f;return"function"==typeof c.materialHash?(u=(0,c.materialHash)(s,h,d),f=(0,ht.S)(c.cim,c.materialOverrides)):(u=c.materialHash,f=c.cim),{analyzedCIM:f,hash:u}}var S=C(942);const yt=new class{constructor(s,h){this._spatialReference=s,this._avoidSDF=h,this._resourceCache=new Map,this._pictureMarkerCache=new Map,this._textRasterizer=new ut.d,this._cimResourceManager=new K.Z,this._rasterizer=new Y.Z(this._cimResourceManager)}rasterizeCIMSymbolAsync(s,h,d,u,f,g,x,I){var M=this;return(0,X.Z)(function*(){u=u||(h?null!=h.centroid?"esriGeometryPolygon":(0,ct.Ji)(h.geometry):null)||function(c){if(!(c&&c.data&&c.data.symbol))return null;switch(c.data.symbol.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}(s);const P=yield M.analyzeCIMSymbol(s,h?function(c){return(c?Object.keys(c):[]).map(s=>({name:s,alias:s,type:"string"==typeof c[s]?"esriFieldTypeString":"esriFieldTypeDouble"}))}(h.attributes):null,d,u,I);return M.rasterizeCIMSymbol(P,h,u,f,g,x)})()}analyzeCIMSymbol(s,h,d,u,f){var g=this;return(0,X.Z)(function*(){const x=[],I=h?{geometryType:u,spatialReference:g._spatialReference,fields:h}:null;let M;yield(0,ht.c)(s.data,I,g._cimResourceManager,x,g._avoidSDF),(0,O.k_)(f);for(const P of x)"CIMPictureMarker"!==P.cim.type&&"CIMPictureFill"!==P.cim.type&&"CIMPictureStroke"!==P.cim.type||(M||(M=[]),M.push(g.fetchPictureMarkerResource(P,f))),d&&"text"===P.type&&"string"==typeof P.text&&P.text.indexOf("[")>-1&&(P.text=(0,R.Qs)(d,P.text,P.cim.textCase));return M&&(yield Promise.all(M)),x})()}fetchPictureMarkerResource(s,h){var d=this;return(0,X.Z)(function*(){const u=s.materialHash;if(!d._pictureMarkerCache.get(u)){const f=(yield(0,q.default)(s.cim.url,{responseType:"image",signal:h&&h.signal})).data;d._pictureMarkerCache.set(u,f)}})()}rasterizeCIMSymbol(s,h,d,u,f,g){const x=[];for(const I of s){u&&"function"==typeof u.scaleFactor&&(u.scaleFactor=u.scaleFactor(h,f,g));const M=this._getRasterizedResource(I,h,d,u,f,g);if(!M)continue;let P=0,L=M.anchorX||0,U=M.anchorY||0,a=!1,i=0,l=0;if("esriGeometryPoint"===d){const m=B(u,I,null);if(i=(0,R.hf)(I.offsetX,h,f,g)*m||0,l=(0,R.hf)(I.offsetY,h,f,g)*m||0,"marker"===I.type)P=(0,R.hf)(I.rotation,h,f,g)||0,a=!!I.rotateClockwise&&I.rotateClockwise;else if("text"===I.type){if(P=(0,R.hf)(I.angle,h,f,g)||0,void 0!==I.horizontalAlignment)switch(I.horizontalAlignment){case"left":L=-.5;break;case"right":L=.5;break;default:L=0}if(void 0!==I.verticalAlignment)switch(I.verticalAlignment){case"top":U=.5;break;case"bottom":U=-.5;break;case"baseline":U=-.25;break;default:U=0}}}null!=M&&x.push({angle:P,rotateClockWise:a,anchorX:L,anchorY:U,offsetX:i,offsetY:l,rasterizedResource:M})}return this.getSymbolImage(x)}getSymbolImage(s){const h=document.createElement("canvas"),d=h.getContext("2d");let u=0,f=0,g=0,x=0;const I=[];for(let U=0;U<s.length;U++){const a=s[U],i=a.rasterizedResource;if(!i)continue;const l=i.size,m=a.offsetX,y=a.offsetY,v=a.anchorX,b=a.anchorY,z=a.rotateClockWise||!1;let j=a.angle,E=(0,N.F2)(m)-l[0]*(.5+v),H=(0,N.F2)(y)-l[1]*(.5+b),et=E+l[0],mt=H+l[1];if(j){z&&(j=-j);const e=Math.sin(j*Math.PI/180),o=Math.cos(j*Math.PI/180),w=E*o-H*e,p=E*e+H*o,F=E*o-mt*e,G=E*e+mt*o,D=et*o-mt*e,$=et*e+mt*o,Q=et*o-H*e,Z=et*e+H*o;E=Math.min(w,F,D,Q),H=Math.min(p,G,$,Z),et=Math.max(w,F,D,Q),mt=Math.max(p,G,$,Z)}u=E<u?E:u,f=H<f?H:f,g=et>g?et:g,x=mt>x?mt:x;const t=d.createImageData(i.size[0],i.size[1]);t.data.set(new Uint8ClampedArray(i.image.buffer));const r={offsetX:m,offsetY:y,rotateClockwise:z,angle:j,rasterizedImage:t,anchorX:v,anchorY:b};I.push(r)}h.width=g-u,h.height=x-f;const M=-u,P=x;for(let U=0;U<I.length;U++){const a=I[U],i=this._imageDataToCanvas(a.rasterizedImage),l=a.rasterizedImage.width,m=a.rasterizedImage.height,y=M-l*(.5+a.anchorX),v=P-m*(.5-a.anchorY);if(a.angle){const b=(360-a.angle)*Math.PI/180;d.save(),d.translate((0,N.F2)(a.offsetX),-(0,N.F2)(a.offsetY)),d.translate(M,P),d.rotate(b),d.translate(-M,-P),d.drawImage(i,y,v),d.restore()}else d.drawImage(i,y+(0,N.F2)(a.offsetX),v-(0,N.F2)(a.offsetY))}const L=new dt.Z({x:M/h.width-.5,y:P/h.height-.5});return{imageData:0!==h.width&&0!==h.height?d.getImageData(0,0,h.width,h.height):d.createImageData(1,1),anchorPosition:L}}_imageDataToCanvas(s){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const h=this._imageDataCanvas,d=h.getContext("2d");return h.width=s.width,h.height=s.height,d.putImageData(s,0,0),h}_imageTo32Array(s,h,d,u){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const f=this._imageDataCanvas,g=f.getContext("2d");if(f.width=h,f.height=d,g.drawImage(s,0,0,h,d),u){g.save();const x=new J.Z(u);g.fillStyle=x.toHex(),g.globalCompositeOperation="multiply",g.fillRect(0,0,h,d),g.globalCompositeOperation="destination-atop",g.drawImage(s,0,0,h,d),g.restore()}return new Uint32Array(g.getImageData(0,0,h,d).data.buffer)}_getRasterizedResource(s,h,d,u,f,g){let x,I,M,P,L=null,U=null;if("esriGeometryPolyline"===d||"esriGeometryPolygon"===d){const i=u&&u.style?u.style:ot.Legend,l="esriGeometryPolyline"===d?_.stroke[i]:_.fill[i];if("line"===s.type){if("CIMSolidStroke"!==s.cim.type){if("CIMPictureStroke"===s.cim.type){const m=(0,R.hf)(s.width,h,f,g),y=(0,R.hf)(s.color,h,f,g),{image:v,width:b,height:z}=this._getPictureResource(s,m,y);return this._rasterizePictureResource(s,v,b,z,l,m)}return null}({analyzedCIM:x,hash:M}=A(s,h,f,g)),I=this._embedCIMLayerInVectorMarker(x,l)}else if("marker"===s.type){if("CIMPictureMarker"===s.cim.type||"CIMVectorMarker"!==s.cim.type)return null;s.cim.offsetX=(0,R.hf)(s.offsetX,h,f,g),s.cim.offsetY=(0,R.hf)(s.offsetY,h,f,g),s.cim.rotation=(0,R.hf)(s.rotation,h,f,g),s.cim.markerPlacement=s.markerPlacement,({analyzedCIM:x}=A(s,h,f,g)),M=(0,tt.hP)(JSON.stringify(x)).toString(),I=this._embedCIMLayerInVectorMarker(x,l),L=(0,R.hf)(s.size,h,f,g),U=s.path}else{if("text"===s.type)return null;if("fill"===s.type){if("CIMHatchFill"===s.cim.type||"CIMVectorMarker"===s.cim.type||"CIMPictureMarker"===s.cim.type||"CIMPictureFill"===s.cim.type){const m=s.cim.size||s.cim.height;let y,v,b;if("CIMPictureMarker"===s.cim.type||"CIMPictureFill"===s.cim.type)({image:y,width:v,height:b}=this._getPictureResource(s,m,(0,R.hf)(s.color,h,f,g)));else{({analyzedCIM:x,hash:M}=A(s,h,f,g));const z=this._rasterizer.rasterizeJSONResource({cim:x,type:s.type,url:s.url,mosaicHash:M,size:m,path:U},1,this._avoidSDF);y=z.image,v=z.size[0],b=z.size[1]}return this._rasterizePictureResource(s,y,v,b,l,null)}if("CIMSolidFill"!==s.cim.type)return null;({analyzedCIM:x,hash:M}=A(s,h,f,g)),I=this._embedCIMLayerInVectorMarker(x,l)}}}else{if("text"===s.type)return P=this._rasterizeTextResource(s,h,u,f,g),P;({analyzedCIM:x,hash:M}=A(s,h,f,g));const i=B(u,s,null);if("CIMPictureMarker"===s.cim.type){const l=(0,R.hf)(s.size,h,f,g)*i,{image:m,width:y,height:v}=this._getPictureResource(s,l,(0,R.hf)(s.color,h,f,g));return P={image:m,size:[y,v],sdf:!1,simplePattern:!1,anchorX:s.anchorPoint?s.anchorPoint.x:0,anchorY:s.anchorPoint?s.anchorPoint.y:0},P}(0,T.FW)(x,i,{preserveOutlineWidth:!1}),I=x}M+=d,u&&(M+=JSON.stringify(u));const a=this._resourceCache;return a.has(M)?a.get(M):(P=this._rasterizer.rasterizeJSONResource({cim:I,type:s.type,url:s.url,mosaicHash:M,size:L,path:U},window.devicePixelRatio||1,this._avoidSDF),a.set(M,P),P)}_rasterizeTextResource(s,h,d,u,f){const g=B(d,s,null),x=(0,R.hf)(s.text,h,u,f);if(!x||0===x.length)return null;const I=(0,R.hf)(s.fontName,h,u,f),M=(0,R.hf)(s.style,h,u,f),P=(0,R.hf)(s.weight,h,u,f),L=(0,R.hf)(s.decoration,h,u,f),U=(0,R.hf)(s.size,h,u,f)*g,a=(0,R.hf)(s.horizontalAlignment,h,u,f),i=(0,R.hf)(s.verticalAlignment,h,u,f),l=(0,R.nn)((0,R.hf)(s.color,h,u,f)),m=(0,R.nn)((0,R.hf)(s.outlineColor,h,u,f)),y={color:l,size:U,horizontalAlignment:a,verticalAlignment:i,font:{family:I,style:M,weight:P,decoration:L},halo:{size:(0,R.hf)(s.outlineSize,h,u,f)||0,color:m,style:M},pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(x,y)}_rasterizePictureResource(s,h,d,u,f,g){const x=document.createElement("canvas"),I=x.getContext("2d");x.height=(0,N.F2)(Math.max(f.frame.ymax-f.frame.ymin,g)),x.width=(0,N.F2)(f.frame.xmax-f.frame.xmin);const M=I.createImageData(d,u);M.data.set(new Uint8ClampedArray(h.buffer));const P=this._imageDataToCanvas(M),L=I.createPattern(P,"repeat"),U=Math.cos((-s.cim.rotation||0)*Math.PI/180),a=Math.sin((-s.cim.rotation||0)*Math.PI/180);L.setTransform({m11:U,m12:a,m21:-a,m22:U,m41:(0,N.F2)(s.cim.offsetX)||0,m42:(0,N.F2)(s.cim.offsetY)||0});const i=f.canvasPaths;let l,m,y;(0,ct.oU)(i)?(l=i.rings,I.fillStyle=L,m=I.fill,y=["evenodd"]):(0,ct.l9)(i)&&(l=i.paths,I.strokeStyle=L,I.lineWidth=g,m=I.stroke,l[0][0][1]=x.height/2,l[0][1][1]=x.height/2),I.beginPath();for(const z of l){const j=z?z.length:0;if(j>1){let E=z[0];I.moveTo((0,N.F2)(E[0]),(0,N.F2)(E[1]));for(let H=1;H<j;++H)E=z[H],I.lineTo((0,N.F2)(E[0]),(0,N.F2)(E[1]));I.closePath()}}m.apply(I,y);const v=I.getImageData(0,0,x.width,x.height),b=new Uint8Array(v.data);return{size:[x.width,x.height],image:new Uint32Array(b.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}_getPictureResource(s,h,d){const u=this._pictureMarkerCache.get(s.materialHash);if(!u)return null;const f=u.height/u.width,g=h?f>1?(0,N.F2)(h):(0,N.F2)(h)/f:u.width,x=h?f>1?(0,N.F2)(h)*f:(0,N.F2)(h):u.height;return{image:this._imageTo32Array(u,g,x,d),width:g,height:x}}_embedCIMLayerInVectorMarker(s,h){const d=(0,ct.oU)(h.geometry)?"CIMPolygonSymbol":"CIMLineSymbol",u=h.frame;return{type:"CIMVectorMarker",frame:u,size:u.ymax-u.ymin,markerGraphics:[{type:"CIMMarkerGraphic",geometry:h.geometry,symbol:{type:d,symbolLayers:[s]}}]}}}(null,!0);function pt(c){return it.apply(this,arguments)}function it(){return(it=(0,X.Z)(function*(c,s={}){const{size:h,maxSize:d,node:u,opacity:f}=s,g=s.cimOptions||s,{feature:x,fieldMap:I,geometryType:M,style:P}=g,L=(0,T.kW)(c),U=Math.min(null!=h?h:L,null!=d?d:(0,N.Wz)(120));U!==L&&(c=c.clone(),(0,T.PI)(c,U,{preserveOutlineWidth:!0}));let a=3;c&&c.data&&c.data.symbol&&"CIMPointSymbol"!==c.data.symbol.type&&(a=1);const i=yield yt.rasterizeCIMSymbolAsync(c,x,I,M,{scaleFactor:a,style:P}),l=document.createElement("canvas");l.width=i.imageData.width,l.height=i.imageData.height,l.getContext("2d").putImageData(i.imageData,0,0);let m=l.width/a,y=l.height/a;if(null!=h&&(null==(null==s?void 0:s.scale)||(null==s?void 0:s.scale))){const z=m/y;m=z<=1?Math.ceil(U*z):U,y=z<=1?U:Math.ceil(U/z)}const v=new Image(m,y);v.src=l.toDataURL(),null!=f&&(v.style.opacity=`${f}`);let b=v;if(null!=s.effectView){const z={shape:{type:"image",x:0,y:0,width:m,height:y,src:v.src},fill:null,stroke:null,offset:[0,0]};b=(0,S.w)([[z]],[m,y],{effectView:s.effectView})}return u&&u.appendChild(b),b})).apply(this,arguments)}},942:(wt,lt,C)=>{C.d(lt,{w:()=>z,r:()=>mt});var X=C(77871),N=C(30351),J=C(53265),q=C(61414),O=C(30627),ct=(C(99433),C(64891)),ht=C(28503),K=C(63319),Y=C(62039),T=(C(75732),C(22345),C(19700));let ot=0,B=0;const _=(0,O.Z)("android"),k=(0,O.Z)("chrome")||_&&_>=4?"auto":"optimizeLegibility",W={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},rt=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let A={},S={};const yt={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},gt=Math.PI;let pt=1;function it(t,r){const e=t*(gt/180);return Math.abs(r*Math.sin(e))+Math.abs(r*Math.cos(e))}function c(t){return t.map(r=>`${r.command} ${r.values.join(" ")}`).join(" ").trim()}function s(t,r,e,o){if(t){if("circle"===t.type)return(0,T.u)("circle",{fill:r,"fill-rule":"evenodd",stroke:e.color,"stroke-width":e.width,"stroke-linecap":e.cap,"stroke-linejoin":e.join,"stroke-dasharray":e.dashArray,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,r:t.r});if("ellipse"===t.type)return(0,T.u)("ellipse",{fill:r,"fill-rule":"evenodd",stroke:e.color,"stroke-width":e.width,"stroke-linecap":e.cap,"stroke-linejoin":e.join,"stroke-dasharray":e.dashArray,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,rx:t.rx,ry:t.ry});if("rect"===t.type)return(0,T.u)("rect",{fill:r,"fill-rule":"evenodd",stroke:e.color,"stroke-width":e.width,"stroke-linecap":e.cap,"stroke-linejoin":e.join,"stroke-dasharray":e.dashArray,"stroke-miterlimit":"4",x:t.x,y:t.y,width:t.width,height:t.height});if("image"===t.type)return(0,T.u)("image",{href:t.src,x:t.x,y:t.y,width:t.width,height:t.height,preserveAspectRatio:"none"});if("path"===t.type){const w="string"!=typeof t.path?c(t.path):t.path;return(0,T.u)("path",{fill:r,"fill-rule":"evenodd",stroke:e.color,"stroke-width":e.width,"stroke-linecap":e.cap,"stroke-linejoin":e.join,"stroke-dasharray":e.dashArray,"stroke-miterlimit":"4",d:w})}if("text"===t.type)return(0,T.u)("text",{fill:r,"fill-rule":"evenodd",stroke:e.color,"stroke-width":e.width,"stroke-linecap":e.cap,"stroke-linejoin":e.join,"stroke-dasharray":e.dashArray,"stroke-miterlimit":"4","text-anchor":o.align,"text-decoration":o.decoration,kerning:o.kerning,rotate:o.rotate,"text-rendering":k,"font-style":o.font.style,"font-variant":o.font.variant,"font-weight":o.font.weight,"font-size":o.font.size,"font-family":o.font.family,x:t.x,y:t.y},t.text)}return null}function h(t){const r={fill:"none",pattern:null,linearGradient:null};if(t)if("type"in t&&"pattern"===t.type){const e="patternId-"+ ++ot;r.fill=`url(#${e})`,r.pattern={id:e,x:t.x,y:t.y,width:t.width,height:t.height,image:{x:0,y:0,width:t.width,height:t.height,href:t.src}}}else if("type"in t&&"linear"===t.type){const e="linearGradientId-"+ ++B;r.fill=`url(#${e})`,r.linearGradient={id:e,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stops:t.colors.map(o=>({offset:o.offset,color:o.color&&new ht.Z(o.color).toString()}))}}else if(t){const e=new ht.Z(t);r.fill=e.toString()}return r}function d(t){const r={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(t&&(null!=t.width&&(r.width=t.width),t.cap&&(r.cap=t.cap),t.join&&(r.join=t.join.toString()),t.color&&(r.color=new ht.Z(t.color).toString()),t.style)){let e=null;if(t.style in yt&&(e=yt[t.style]),Array.isArray(e)){e=e.slice(0);for(let o=0;o<e.length;++o)e[o]*=t.width;if("butt"!==t.cap){for(let o=0;o<e.length;o+=2)e[o]-=t.width,e[o]<1&&(e[o]=1);for(let o=1;o<e.length;o+=2)e[o]+=t.width}e=e.join(",")}r.dashArray=e}return r}function u(t,r){const e={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return t&&(e.align=t.align,e.decoration=t.decoration,e.kerning=t.kerning?"auto":"0",e.rotate=t.rotated?"90":"0",e.font.style=r.style||"normal",e.font.variant=r.variant||"normal",e.font.weight=r.weight||"normal",e.font.size=r.size&&r.size.toString()||"10pt",e.font.family=r.family||"serif"),e}function f(t){const{pattern:r,linearGradient:e}=t;if(r)return(0,T.u)("pattern",{id:r.id,patternUnits:"userSpaceOnUse",x:r.x,y:r.y,width:r.width,height:r.height},(0,T.u)("image",{x:r.image.x,y:r.image.y,width:r.image.width,height:r.image.height,href:r.image.href}));if(e){const o=e.stops.map((w,p)=>(0,T.u)("stop",{key:`${p}-stop`,offset:w.offset,"stop-color":w.color}));return(0,T.u)("linearGradient",{id:e.id,gradientUnits:"userSpaceOnUse",x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},o)}return null}function g(t,r,e){return(0,Y.t)(t,(0,Y.i)(t),[r,e])}function x(t,r,e,o,w){return(0,Y.s)(t,(0,Y.i)(t),[r,e]),t[4]=t[4]*r-o*r+o,t[5]=t[5]*e-w*e+w,t}function M(t,r){A&&"left"in A?(A.left>t&&(A.left=t),A.right<t&&(A.right=t),A.top>r&&(A.top=r),A.bottom<r&&(A.bottom=r)):A={left:t,bottom:r,right:t,top:r}}function P(t){const r=t.args,e=r.length;let o;switch(t.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(o=0;o<e;o+=2)M(r[o],r[o+1]);S.x=r[e-2],S.y=r[e-1];break;case"H":for(o=0;o<e;++o)M(r[o],S.y);S.x=r[e-1];break;case"V":for(o=0;o<e;++o)M(S.x,r[o]);S.y=r[e-1];break;case"m":{let w=0;for(("x"in S||(M(S.x=r[0],S.y=r[1]),w=2),o=w);o<e;o+=2)M(S.x+=r[o],S.y+=r[o+1]);break}case"l":case"t":for(o=0;o<e;o+=2)M(S.x+=r[o],S.y+=r[o+1]);break;case"h":for(o=0;o<e;++o)M(S.x+=r[o],S.y);break;case"v":for(o=0;o<e;++o)M(S.x,S.y+=r[o]);break;case"c":for(o=0;o<e;o+=6)M(S.x+r[o],S.y+r[o+1]),M(S.x+r[o+2],S.y+r[o+3]),M(S.x+=r[o+4],S.y+=r[o+5]);break;case"s":case"q":for(o=0;o<e;o+=4)M(S.x+r[o],S.y+r[o+1]),M(S.x+=r[o+2],S.y+=r[o+3]);break;case"A":for(o=0;o<e;o+=7)M(r[o+5],r[o+6]);S.x=r[e-2],S.y=r[e-1];break;case"a":for(o=0;o<e;o+=7)M(S.x+=r[o+5],S.y+=r[o+6])}}function L(t,r,e){const o=W[t.toLowerCase()];let w;"number"==typeof o&&(o?r.length>=o&&(w={action:t,args:r.slice(0,r.length-r.length%o)},e.push(w),P(w)):(w={action:t,args:[]},e.push(w),P(w)))}function a(t){const r={x:0,y:0,width:0,height:0};if("circle"===t.type)r.x=t.cx-t.r,r.y=t.cy-t.r,r.width=2*t.r,r.height=2*t.r;else if("ellipse"===t.type)r.x=t.cx-t.rx,r.y=t.cy-t.ry,r.width=2*t.rx,r.height=2*t.ry;else if("image"===t.type||"rect"===t.type)r.x=t.x,r.y=t.y,r.width=t.width,r.height=t.height;else if("path"===t.type){const e=function(t){const r=("string"!=typeof t.path?c(t.path):t.path).match(rt),e=[];if(A={},S={},!r)return null;let o="",w=[];const p=r.length;for(let G=0;G<p;++G){const D=r[G],$=parseFloat(D);isNaN($)?(o&&L(o,w,e),w=[],o=D):w.push($)}L(o,w,e);const F={x:0,y:0,width:0,height:0};return A&&"left"in A&&(F.x=A.left,F.y=A.top,F.width=A.right-A.left,F.height=A.bottom-A.top),F}(t);r.x=e.x,r.y=e.y,r.width=e.width,r.height=e.height}return r}function i(t){const r={x:0,y:0,width:0,height:0};let e=null,o=Number.NEGATIVE_INFINITY,w=Number.NEGATIVE_INFINITY;for(const p of t)e?(e.x=Math.min(e.x,p.x),e.y=Math.min(e.y,p.y),o=Math.max(o,p.x+p.width),w=Math.max(w,p.y+p.height)):(e=r,e.x=p.x,e.y=p.y,o=p.x+p.width,w=p.y+p.height);return e&&(e.width=o-e.x,e.height=w-e.y),e}function l(t,r,e,o,w,p,F,G,D){let $=(F&&p?it(p,r):r)/2,Q=(F&&p?it(p,e):e)/2;if(D){const at=D[0],st=D[1];$=(F&&p?it(p,at):at)/2,Q=(F&&p?it(p,st):st)/2}const Z=t.width+o,nt=t.height+o,ft=(0,K.c)(),V=(0,K.c)();let It=!1;if(w&&0!==Z&&0!==nt){const at=Z/nt,st=r>e?r:e;let Mt=1,bt=1;isNaN(st)||(at>1?(Mt=st/Z,bt=st/at/nt):(bt=st/nt,Mt=st*at/Z)),(0,Y.m)(V,V,x(ft,Mt,bt,$,Q)),It=!0}const vt=t.x+(Z-o)/2,zt=t.y+(nt-o)/2;if((0,Y.m)(V,V,g(ft,$-vt,Q-zt)),!It&&(Z>r||nt>e)){const at=Z/r>nt/e,st=(at?r:e)/(at?Z:nt);(0,Y.m)(V,V,x(ft,st,st,vt,zt))}return p&&(0,Y.m)(V,V,function(t,r,e,o){const w=r%360*Math.PI/180;(0,Y.r)(t,(0,Y.i)(t),w);const p=Math.cos(w),F=Math.sin(w),G=t[4],D=t[5];return t[4]=G*p-D*F+o*F-e*p+e,t[5]=D*p+G*F-e*F-o*p+o,t}(ft,p,vt,zt)),G&&(0,Y.m)(V,V,g(ft,G[0],G[1])),`matrix(${V[0]},${V[1]},${V[2]},${V[3]},${V[4]},${V[5]})`}function y(t,r,e,o){const w=[],p=[],F=++pt,G=function(t,r,e){const o=null==t?void 0:t.effects.find($=>"bloom"===$.type);if(!o)return null;const{strength:w,radius:p}=o,F=w>0?p:0,G=(w+F)*r,D=4*w+1;return(0,T.u)("filter",{id:`bloom${e}`,x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},(0,T.u)("feMorphology",{operator:"dilate",radius:(w+.5*F)*(xt(5,r/100)*(.4+r/100)),in:"SourceGraphic",result:"dilate"}),(0,T.u)("feGaussianBlur",{in:"dilate",stdDeviation:G/25,result:"blur"}),(0,T.u)("feGaussianBlur",{in:"blur",stdDeviation:G/50,result:"intensityBlur"}),(0,T.u)("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},(0,T.u)("feFuncR",{type:"linear",slope:D}),(0,T.u)("feFuncG",{type:"linear",slope:D}),(0,T.u)("feFuncB",{type:"linear",slope:D})),(0,T.u)("feMerge",null,(0,T.u)("feMergeNode",{in:"intensityBlur"}),(0,T.u)("feMergeNode",{in:"intensityBrightness"}),(0,T.u)("feGaussianBlur",{stdDeviation:w/10})))}(null==o?void 0:o.effectView,r,F);let D=null;if(G){var $;const Q=null==o||null==($=o.effectView)?void 0:$.effects.find(V=>"bloom"===V.type),Z=(Q.strength?Q.strength+Q.radius/2:0)/3,nt=r+r*Z,ft=e+e*Z;D=[Math.max(nt,10),Math.max(ft,10)]}for(const Q of t){const Z=[],nt=[];let ft=0,V=0,It=0;for(const zt of Q){const{shape:at,fill:st,stroke:Mt,font:bt,offset:Ct}=zt;ft+=Mt&&Mt.width||0;const kt=h(st),Pt=d(Mt),St="text"===at.type?u(at,bt):null;w.push(f(kt)),Z.push(s(at,kt.fill,Pt,St)),nt.push(a(at)),Ct&&(V+=Ct[0],It+=Ct[1])}const vt=l(i(nt),r,e,ft,null==o?void 0:o.scale,null==o?void 0:o.rotation,null==o?void 0:o.useRotationSize,[V,It],D);p.push((0,T.u)("g",{transform:vt},Z))}return null!=o&&o.useRotationSize&&null!=o&&o.rotation&&(r=it(null==o?void 0:o.rotation,r),e=it(null==o?void 0:o.rotation,e)),G&&(r=D[0],e=D[1]),(0,T.u)("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:e},G,(0,T.u)("defs",null,w),G?(0,T.u)("g",{filter:`url(#bloom${F})`},p):p)}var v=C(71185);const b=(0,ct.E)();function z(t,r,e){const o=Math.ceil(r[0]),w=Math.ceil(r[1]);if(!t.some(F=>!!F.length))return null;const p=e&&e.node||document.createElement("div");return null!=e.opacity&&(p.style.opacity=e.opacity.toString()),null!=e.effectView&&(p.style.filter=(0,v.wJ)(e.effectView)),b.append(p,y.bind(null,t,o,w,e)),p}function et(t,r,e,o,w){switch(w){case"multiply":t[r+0]*=e[0],t[r+1]*=e[1],t[r+2]*=e[2],t[r+3]*=e[3];break;default:{const p=(0,J._Y)({r:t[r+0],g:t[r+1],b:t[r+2]});p.h=o.h,p.s=o.s,p.v=p.v/100*o.v;const F=(0,J.xr)(p);t[r+0]=F.r,t[r+1]=F.g,t[r+2]=F.b,t[r+3]*=e[3];break}}}function mt(t,r,e,o,w){return function(t,r,e){return t?(0,N.default)(t,{responseType:"image"}).then(o=>{const w=o.data,p=w.width,F=w.height,G=p/F;let D=r;if(e){const $=Math.max(p,F);D=Math.min(D,$)}return{image:w,width:G<=1?Math.ceil(D*G):D,height:G<=1?D:Math.ceil(D/G)}}):Promise.reject(new q.Z("renderUtils: imageDataSize","href not provided."))}(t,r,w).then(p=>{const F=p.width?p.width:r,G=p.height?p.height:r;if(p.image&&function(t,r){return!(!t||"ignore"===r||"multiply"===r&&255===t.r&&255===t.g&&255===t.b&&1===t.a)}(e,o)){let D=p.image.width,$=p.image.height;(0,O.Z)("edge")&&/\.svg$/i.test(t)&&(D-=1,$-=1);const Q=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const e=document.createElement("canvas");e.width=t,e.height=r,e.style.width=t+"px",e.style.height=r+"px";const o=e.getContext("2d");return o.clearRect(0,0,t,r),o}(F,G);Q.drawImage(p.image,0,0,D,$,0,0,F,G);const Z=Q.getImageData(0,0,F,G),nt=[e.r/255,e.g/255,e.b/255,e.a],ft=(0,J._Y)(e);for(let V=0;V<Z.data.length;V+=4)et(Z.data,V,nt,ft,o);Q.putImageData(Z,0,0),t=Q.canvas.toDataURL("image/png")}else{const D=X.id&&X.id.findCredential(t);if(D&&D.token){const $=-1===t.indexOf("?")?"?":"&";t=`${t}${$}token=${D.token}`}}return{url:t,width:F,height:G}}).catch(function(){return{url:t,width:r,height:r}})}},30603:(wt,lt,C)=>{C.d(lt,{xl:()=>M,aK:()=>P,eF:()=>S,Uh:()=>w,_6:()=>$,Tz:()=>F,CQ:()=>p,oK:()=>G,e0:()=>D,SD:()=>Q,XJ:()=>mt,$0:()=>ut,iV:()=>m,Zd:()=>l,Ex:()=>rt,uG:()=>i,Jc:()=>b,xm:()=>R,m4:()=>a,MI:()=>o,AI:()=>J,Ip:()=>t,ru:()=>O,fL:()=>et,iJ:()=>c,nM:()=>s,Ij:()=>h,f2:()=>d,Ic:()=>it,Al:()=>pt,QU:()=>u,Jw:()=>f,kF:()=>g,yP:()=>x,D3:()=>gt,Iw:()=>A,tQ:()=>v,I_:()=>tt,a:()=>E,CU:()=>j,V4:()=>z});const J=1e-30,O=4294967295,tt=512,ut=8,R=29,rt=24,A=8,S={metrics:{width:15,height:17,left:0,top:-7,advance:14}},gt=0,pt=0,it=0,c=1,s=2,h=3,d=4,u=5,f=6,g=5,x=6,M=1,P=2,a=2,i=1,l=2,m=4,v=1.05,b=6,z=5,j=6,E=1.15,et=2,mt=8,t=500,o=10,w=2,p=0,F=1,G=4,D=8,$=4,Q=1},47677:(wt,lt,C)=>{C.d(lt,{UJ:()=>dt,Jz:()=>ot,Au:()=>R});const X=new Float32Array(1);new Uint32Array(X.buffer);function R(k){return[255&k,(65280&k)>>>8,(16711680&k)>>>16,(4278190080&k)>>>24]}function dt(k,W){return 65535&k|W<<16}function ot(k,W,rt,A){return 255&k|(255&W)<<8|(255&rt)<<16|A<<24}}}]);
//# sourceMappingURL=9821.48219fa7d0c590a2acd7.js.map