{"version":3,"file":"351.399a572607c850a20027.js","mappings":"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","sources":["./node_modules/@arcgis/core/core/AsyncSequence.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js","./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{property as e}from\"./accessorSupport/decorators/property.js\";import{subclass as i}from\"./accessorSupport/decorators/subclass.js\";let r=class extends t{constructor(){super(...arguments),this.updating=!1,this.pending=[]}push(s,t){this.pending.push({promise:s,callback:t}),1===this.pending.length&&this.process()}process(){if(!this.pending.length)return void(this.updating=!1);this.updating=!0;const s=this.pending[0];s.promise.then((t=>s.callback(t))).catch((()=>{})).then((()=>{this.pending.shift(),this.process()}))}};s([e()],r.prototype,\"updating\",void 0),r=s([i(\"esri.core.AsyncSequence\")],r);export{r as AsyncSequence};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import i from\"../../../../../core/Handles.js\";import{isSome as r}from\"../../../../../core/maybe.js\";import{createDeferred as s,throwIfAborted as a,whenOrAbort as n}from\"../../../../../core/promiseUtils.js\";import{whenNotOnce as o}from\"../../../../../core/watchUtils.js\";import{property as p}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../../../../geometry/SpatialReference.js\";import c from\"../../../../../layers/graphics/data/FeatureStore.js\";import d from\"../../../../../layers/graphics/data/QueryEngine.js\";import h from\"../../../../../layers/support/TileInfo.js\";import f from\"../../../../../layers/support/TimeInfo.js\";import m from\"../../../../../rest/support/Query.js\";import{FeatureServiceTiledFetcher as g}from\"./FeatureServiceTiledFetcher.js\";import{FeatureServiceTileStore as y}from\"./FeatureServiceTileStore.js\";import{WatchUpdatingTracking as S}from\"../../../../support/WatchUpdatingTracking.js\";let w=class extends t.EventedAccessor{constructor(){super(...arguments),this.isInitializing=!0,this.whenSetup=s(),this.handles=new i,this.updatingHandles=new S,this.pendingApplyEdits=new Map}get updating(){return this.featureFetcher.updating||this.isInitializing||this.updatingHandles.updating}destroy(){this.featureFetcher.destroy(),this.queryEngine.destroy(),this.featureStore.clear(),this.handles.destroy()}async setup(e){const{geometryType:t,objectIdField:i,timeInfo:r,fields:s}=e.serviceInfo;return this.featureStore=new c({...e.serviceInfo,hasZ:!1,hasM:!1}),this.queryEngine=new d({spatialReference:e.spatialReference,featureStore:this.featureStore,geometryType:t,fields:s,hasZ:!1,hasM:!1,objectIdField:i,timeInfo:r?f.fromJSON(r):null}),this.featureFetcher=new g({store:new y({featureStore:this.featureStore}),url:e.serviceInfo.url,objectIdField:e.serviceInfo.objectIdField,globalIdField:e.serviceInfo.globalIdField,capabilities:e.serviceInfo.capabilities,spatialReference:l.fromJSON(e.spatialReference),sourceSpatialReference:l.fromJSON(e.serviceInfo.spatialReference)}),this.handles.add([this.featureFetcher.watch(\"availability\",(e=>this.emit(\"notify-availability\",{availability:e})),!0),this.watch(\"updating\",(()=>this.notifyUpdating()))]),this.whenSetup.resolve(),this.isInitializing=!1,this.configure(e.configuration)}async configure(e){return await this.updatingHandles.addPromise(this.whenSetup.promise),this.updateFeatureFetcherConfiguration(e),{result:{}}}async fetchCandidates(e,t){await this.whenSetup.promise,a(t);return{result:await this.queryEngine.executeQueryForSnapping({point:e.point,distance:e.distance,types:e.types,query:r(e.filter)?e.filter:{where:\"1=1\"}},r(t)?t.signal:null)}}async updateTiles(e,t){return await this.updatingHandles.addPromise(this.whenSetup.promise),a(t),this.featureFetcher.tileSize=e.tileSize,this.featureFetcher.tilesOfInterest=e.tiles,this.featureFetcher.tileInfo=r(e.tileInfo)?h.fromJSON(e.tileInfo):null,{result:{}}}async refresh(e,t){return await this.updatingHandles.addPromise(this.whenSetup.promise),a(t),this.featureFetcher.refresh(),{result:{}}}async whenNotUpdating(e,t){return await this.updatingHandles.addPromise(this.whenSetup.promise),a(t),await n(o(this,\"updating\"),t),{result:{}}}async getDebugInfo(e,t){return a(t),{result:this.featureFetcher.debugInfo}}async beginApplyEdits(e,t){this.updatingHandles.addPromise(this.whenSetup.promise),a(t);const i=s();return this.pendingApplyEdits.set(e.id,i),this.featureFetcher.applyEdits(i.promise),this.updatingHandles.addPromise(i.promise),{result:{}}}async endApplyEdits(e,t){const i=this.pendingApplyEdits.get(e.id);return i&&i.resolve(e.edits),a(t),{result:{}}}updateFeatureFetcherConfiguration(e){this.featureFetcher.filter=r(e.filter)?m.fromJSON(e.filter):null,this.featureFetcher.customParameters=e.customParameters}notifyUpdating(){this.emit(\"notify-updating\",{updating:this.updating})}};function F(){return new w}e([p({readOnly:!0})],w.prototype,\"updating\",null),e([p()],w.prototype,\"isInitializing\",void 0),w=e([u(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorker\")],w);export{w as FeatureServiceSnappingSourceWorker,F as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._store=new Map,this._byteSize=0}set(t,e){this.delete(t),this._store.set(t,e),this._byteSize+=e.byteSize}delete(t){const e=this._store.get(t);return!!this._store.delete(t)&&(this._byteSize-=e.byteSize,!0)}get(t){return this.used(t),this._store.get(t)}has(t){return this.used(t),this._store.has(t)}clear(){this._store.clear()}applyByteSizeLimit(t,e){for(const[s,r]of this._store){if(this._byteSize<=t)break;this.delete(s),e(r)}}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}used(t){const e=this._store.get(t);e&&(this._store.delete(t),this._store.set(t,e))}}export{t as FeatureServiceTileCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{estimateAttributesObjectSize as s,estimateFixedArraySize as i}from\"../../../../../core/byteSizeEstimations.js\";import{isNone as r,isSome as o}from\"../../../../../core/maybe.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as c,intersects as a,fromExtent as h,area as u}from\"../../../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as d}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{BoundsStore as f}from\"../../../../../layers/graphics/data/BoundsStore.js\";import{executeQueryForCount as p}from\"../../../../../rest/query/operations/query.js\";import{FeatureServiceTileCache as m}from\"./FeatureServiceTileCache.js\";let g=class extends t{constructor(e){super(e),this.tileInfo=null,this.extent=null,this.maximumByteSize=10485760,this.tileBounds=new f,this.tiles=new m,this.refCounts=new Map,this.tileFeatureCounts=new Map,this.tmpBoundingRect=c()}add(e,t){const s=[];for(const i of t)0===this.referenceFeature(i.objectId)&&s.push(i);this.addTileStorage(e,new Set(t.map((({objectId:e})=>e))),v(t)),this.featureStore.addMany(s),this.tiles.applyByteSizeLimit(this.maximumByteSize,(e=>this.removeTileStorage(e)))}destroy(){this.clear(),this.tileFeatureCounts.clear()}clear(){this.featureStore.clear(),this.tileBounds.clear(),this.tiles.clear(),this.refCounts.clear()}refresh(){this.clear(),this.tileFeatureCounts.clear()}processEdits(e,t,s){return this.processEditsDelete(e.deletedFeatures.concat(e.updatedFeatures)),this.processEditsRefetch(e.addedFeatures.concat(e.updatedFeatures),t,s)}addTileStorage(e,t,s){this.tiles.set(e.id,new S(e,t,s)),this.tileBounds.set(e.id,e.extent),this.tileFeatureCounts.set(e.id,t.size)}remove({id:e}){const t=this.tiles.get(e);t&&this.removeTileStorage(t)}removeTileStorage(e){const t=[];for(const i of e.objectIds)1===this.unreferenceFeature(i)&&t.push(i);this.featureStore.removeManyById(t);const s=e.data.id;this.tiles.delete(s),this.tileBounds.delete(s)}processEditsDelete(e){this.featureStore.removeManyById(e);for(const[,t]of this.tiles){for(const s of e)t.objectIds.delete(s);this.tileFeatureCounts.set(t.data.id,t.objectIds.size)}for(const t of e)this.refCounts.delete(t)}async processEditsRefetch(e,t,s){const i=(await t(e,s)).features,{hasZ:o,hasM:n}=this.featureStore;for(const l of i){const e=d(this.tmpBoundingRect,l.geometry,o,n);r(e)||this.tileBounds.forEachInBounds(e,(e=>{const t=this.tiles.get(e);this.featureStore.add(l),t.objectIds.has(l.objectId)||(t.objectIds.add(l.objectId),this.referenceFeature(l.objectId),this.tileFeatureCounts.set(t.data.id,t.objectIds.size))}))}}process(e,t=(()=>!0)){if(r(this.tileInfo)||!e.extent||o(this.extent)&&!a(h(this.extent,this.tmpBoundingRect),e.extent))return new j(e);if(this.tiles.has(e.id))return new j(e);const s=this.createTileTree(e,this.tileInfo);return this.simplify(s,t,null,0,1),this.collectMissingTiles(e,s,this.tileInfo)}get debugInfo(){return Array.from(this.tiles.values()).map((({data:e})=>({data:e,featureCount:this.tileFeatureCounts.get(e.id)||0})))}getFeatureCount(e){const t=this.tileFeatureCounts.get(e.id);return null!=t?t:0}async fetchCount(e,t,s,i){const r=this.tileFeatureCounts.get(e.id);if(null!=r)return r;const o=await p(t,s,i);return this.tileFeatureCounts.set(e.id,o.data.count),o.data.count}createTileTree(e,t){const s=new I(e.level,e.row,e.col);return t.updateTileInfo(s,1),this.tileBounds.forEachInBounds(e.extent,(i=>{const r=this.tiles.get(i).data;this.tilesAreRelated(e,r)&&this.populateChildren(s,r,t,this.tileFeatureCounts.get(r.id)||0)})),s}tilesAreRelated(e,t){if(!e||!t)return!1;if(e.level===t.level)return e.row===t.row&&e.col===t.col;const s=e.level<t.level,i=s?e:t,r=s?t:e,o=1<<r.level-i.level;return Math.floor(r.row/o)===i.row&&Math.floor(r.col/o)===i.col}populateChildren(e,t,s,i){const r=t.level-e.level-1;if(r<0)return void(e.isLeaf=!0);const n=t.row>>r,l=t.col>>r,c=e.row<<1,a=l-(e.col<<1)+(n-c<<1),h=e.children[a];if(o(h))this.populateChildren(h,t,s,i);else{const r=new I(e.level+1,n,l);s.updateTileInfo(r,1),e.children[a]=r,this.populateChildren(r,t,s,i)}}simplify(e,t,s,i,r){const n=r*r;if(e.isLeaf)return t(this.getFeatureCount(e),r)?0:(this.remove(e),o(s)&&(s.children[i]=null),n);const l=r/2,c=l*l;let a=0;for(let h=0;h<e.children.length;h++){const s=e.children[h];a+=o(s)?this.simplify(s,t,e,h,l):c}return 0===a?this.mergeChildren(e):1-a/n<F&&(this.purge(e),o(s)&&(s.children[i]=null),a=n),a}mergeChildren(e){const t=new Set;let s=0;this.forEachLeaf(e,(e=>{const i=this.tiles.get(e.id);if(i){s+=i.byteSize;for(const e of i.objectIds)t.has(e)||(t.add(e),this.referenceFeature(e));this.remove(e)}})),this.addTileStorage(e,t,s),e.isLeaf=!0,e.children[0]=e.children[1]=e.children[2]=e.children[3]=null,this.tileFeatureCounts.set(e.id,t.size)}forEachLeaf(e,t){for(const s of e.children)r(s)||(s.isLeaf?t(s):this.forEachLeaf(s,t))}purge(e){if(!r(e))if(e.isLeaf)this.remove(e);else for(let t=0;t<e.children.length;t++){const s=e.children[t];this.purge(s),e.children[t]=null}}collectMissingTiles(e,t,s){const i=new w(s,e,this.extent);return this.collectMissingTilesRecurse(t,i,1),i.info}collectMissingTilesRecurse(e,t,s){if(e.isLeaf)return;if(!e.hasChildren)return void t.addMissing(e.level,e.row,e.col,s);const i=s/2;for(let o=0;o<e.children.length;o++){const s=e.children[o];r(s)?t.addMissing(e.level+1,(e.row<<1)+((2&o)>>1),(e.col<<1)+(1&o),i):this.collectMissingTilesRecurse(s,t,i)}}referenceFeature(e){const t=(this.refCounts.get(e)||0)+1;return this.refCounts.set(e,t),1===t?0:2}unreferenceFeature(e){const t=(this.refCounts.get(e)||0)-1;return 0===t?(this.refCounts.delete(e),1):(t>0&&this.refCounts.set(e,t),2)}get test(){return{tiles:Array.from(this.tiles.values()).map((e=>`${e.data.id}:[${Array.from(e.objectIds)}]`)),featureReferences:Array.from(this.refCounts.keys()).map((e=>`${e}:${this.refCounts.get(e)}`))}}};function v(e){return e.reduce(((e,t)=>e+y(t)),0)}function y(e){return 32+C(e.geometry)+s(e.attributes)}function C(e){if(r(e))return 0;const t=i(e.lengths,4);return 32+i(e.coords,8)+t}e([n({constructOnly:!0})],g.prototype,\"featureStore\",void 0),e([n()],g.prototype,\"tileInfo\",void 0),e([n()],g.prototype,\"extent\",void 0),e([n()],g.prototype,\"maximumByteSize\",void 0),g=e([l(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTileStore\")],g);class S{constructor(e,t,s){this.data=e,this.objectIds=t,this.byteSize=s}}class I{constructor(e,t,s){this.level=e,this.row=t,this.col=s,this.isLeaf=!1,this.extent=null,this.children=[null,null,null,null]}get hasChildren(){return!this.isLeaf&&(o(this.children[0])||o(this.children[1])||o(this.children[2])||o(this.children[3]))}}class j{constructor(e,t=[]){this.missingTiles=t,this.fullArea=0,this.coveredArea=0,this.fullArea=u(e.extent),this.coveredArea=this.fullArea}prepend(e){this.missingTiles=e.missingTiles.concat(this.missingTiles),this.coveredArea+=e.coveredArea,this.fullArea+=e.fullArea}}class w{constructor(e,t,s){this.tileInfo=e,this.extent=null,this.info=new j(t),o(s)&&(this.extent=h(s))}addMissing(e,t,s,i){const r={id:null,level:e,row:t,col:s};this.tileInfo.updateTileInfo(r,1),!o(r.extent)||o(this.extent)&&!a(this.extent,r.extent)||(this.info.missingTiles.push({data:r,resolution:i}),this.info.coveredArea-=u(r.extent))}}const F=.18751;export{g as FeatureServiceTileStore,j as ProcessResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{equals as t}from\"../../../../../core/arrayUtils.js\";import{AsyncSequence as i}from\"../../../../../core/AsyncSequence.js\";import{HandleOwner as s}from\"../../../../../core/HandleOwner.js\";import{makeHandle as r}from\"../../../../../core/handleUtils.js\";import o from\"../../../../../core/Logger.js\";import{isSome as n,isNone as a,unwrap as l}from\"../../../../../core/maybe.js\";import{createTask as u,throwIfAbortError as c}from\"../../../../../core/promiseUtils.js\";import{property as d}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../../../geometry/Extent.js\";import{toExtent as f}from\"../../../../../geometry/support/aaBoundingRect.js\";import{unquantizeOptimizedFeatureSet as y,convertFromFeatureSet as g}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeatureSetParserContext as m}from\"../../../../../rest/query/operations/pbfOptimizedFeatureSet.js\";import{executeQueryForExtent as b,executeQueryPBF as F,executeQuery as T}from\"../../../../../rest/query/operations/query.js\";import v from\"../../../../../rest/support/Query.js\";import{PendingFeatureTile as P}from\"./PendingFeatureTile.js\";const I=o.getLogger(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher\");let S=class extends s{constructor(e){super(e),this.tilesOfInterest=[],this.availability=0,this.pendingTiles=new Map,this.pendingEdits=new i,this.pendingEditsAbortController=new AbortController}get minimumVerticesPerFeature(){var e;switch(null==(e=this.store)?void 0:e.featureStore.geometryType){case\"esriGeometryPoint\":case\"esriGeometryMultipoint\":return 1;case\"esriGeometryPolygon\":return 4;case\"esriGeometryPolyline\":return 2}}set filter(e){const t=this._get(\"filter\"),i=this.filterProperties(e);JSON.stringify(t)!==JSON.stringify(i)&&this._set(\"filter\",i)}set customParameters(e){const t=this._get(\"customParameters\");JSON.stringify(t)!==JSON.stringify(e)&&this._set(\"customParameters\",e)}get configuration(){return{filter:this.filter,customParameters:this.customParameters,tileInfo:this.tileInfo,tileSize:this.tileSize}}set tileInfo(e){const t=this._get(\"tileInfo\");t!==e&&(n(e)&&n(t)&&JSON.stringify(e)===JSON.stringify(t)||(this._set(\"tileInfo\",e),this.store.tileInfo=e))}set tileSize(e){this._get(\"tileSize\")!==e&&this._set(\"tileSize\",e)}get updating(){return this.updatingHandles.updating||this.pendingEdits.updating}initialize(){this.initializeFetchExtent(),this.updatingHandles.add(this,\"configuration\",(()=>this.refresh())),this.updatingHandles.add(this,\"tilesOfInterest\",((e,i)=>{t(e,i,(({id:e},{id:t})=>e===t))||this.process()}),1)}destroy(){this.pendingTiles.forEach((e=>this.deletePendingTile(e))),this.pendingTiles.clear(),this.store.destroy(),this.tilesOfInterest.length=0,this.pendingEditsAbortController.abort(),this.pendingEditsAbortController=null}refresh(){this.store.refresh(),this.pendingTiles.forEach((e=>this.deletePendingTile(e))),this.process()}applyEdits(e){this.pendingEdits.push(e,(async e=>{if(0===e.addedFeatures.length&&0===e.updatedFeatures.length&&0===e.deletedFeatures.length)return;for(const[,i]of this.pendingTiles)i.reset();const t={...e,deletedFeatures:e.deletedFeatures.map((({objectId:e,globalId:t})=>e&&-1!==e?e:this.lookupObjectIdByGlobalId(t)))};await this.updatingHandles.addPromise(this.store.processEdits(t,((e,t)=>this.queryFeaturesById(e,t)),this.pendingEditsAbortController.signal)),this.processPendingTiles()}))}initializeFetchExtent(){if(!this.capabilities.query.supportsExtent)return;const e=u((async e=>{try{var t;const i=await b(this.url,new v({where:\"1=1\",outSpatialReference:this.spatialReference,cacheHint:!!this.capabilities.query.supportsCacheHint||void 0}),{query:this.configuration.customParameters,signal:e});this.store.extent=p.fromJSON(null==(t=i.data)?void 0:t.extent)}catch(i){c(i),I.warn(\"Failed to fetch data extent\",i)}}));this.updatingHandles.addPromise(e.promise.then((()=>this.process()))),this.handles.add(r((()=>e.abort())))}get debugInfo(){return{numberOfFeatures:this.store.featureStore.numFeatures,tilesOfInterest:this.tilesOfInterest,pendingTiles:Array.from(this.pendingTiles.values()).map((e=>e.debugInfo)),storedTiles:this.store.debugInfo}}process(){this.markTilesNotAlive(),this.createPendingTiles(),this.deletePendingTiles(),this.processPendingTiles()}markTilesNotAlive(){for(const[,e]of this.pendingTiles)e.alive=!1}createPendingTiles(){const e=this.collectMissingTilesInfo();if(this.setAvailability(a(e)?1:e.coveredArea/e.fullArea),!a(e))for(const{data:t,resolution:i}of e.missingTiles){const e=this.pendingTiles.get(t.id);e?(e.resolution=i,e.alive=!0):this.createPendingTile(t,i)}}collectMissingTilesInfo(){let e=null;for(let t=this.tilesOfInterest.length-1;t>=0;t--){const i=this.tilesOfInterest[t],s=this.store.process(i,((e,t)=>this.verifyTileComplexity(e,t)));a(e)?e=s:e.prepend(s)}return e}deletePendingTiles(){for(const[,e]of this.pendingTiles)e.alive||this.deletePendingTile(e)}processPendingTiles(){const e={fetchCount:(e,t)=>this.fetchCount(e,t),fetchFeatures:(e,t,i)=>this.fetchFeatures(e,t,i),finish:(e,t)=>this.finishPendingTile(e,t),resume:()=>this.processPendingTiles()};if(this.ensureFetchAllCounts(e))for(const[,t]of this.pendingTiles)this.verifyTileComplexity(this.store.getFeatureCount(t.data),t.resolution)&&this.updatingHandles.addPromise(t.process(e))}verifyTileComplexity(e,t){return this.verifyVertexComplexity(e)&&this.verifyFeatureDensity(e,t)}verifyVertexComplexity(e){return e*this.minimumVerticesPerFeature<x}verifyFeatureDensity(e,t){if(a(this.tileInfo))return!1;const i=this.tileSize*t;return e*(j/(i*i))<w}ensureFetchAllCounts(e){let t=!0;for(const[,i]of this.pendingTiles)i.state.type<2&&this.updatingHandles.addPromise(i.process(e)),i.state.type<=1&&(t=!1);return t}finishPendingTile(e,t){this.store.add(e.data,t),this.deletePendingTile(e),this.updateAvailability()}updateAvailability(){const e=this.collectMissingTilesInfo();this.setAvailability(a(e)?1:e.coveredArea/e.fullArea)}setAvailability(e){this._set(\"availability\",e)}createPendingTile(e,t){const i=new P(e,t);return this.pendingTiles.set(e.id,i),i}deletePendingTile(e){e.reset(),this.pendingTiles.delete(e.data.id)}async fetchCount(e,t){return this.store.fetchCount(e.data,this.url,this.createCountQuery(e),{query:this.customParameters,timeout:C,signal:t})}async fetchFeatures(e,t,i){let s,r=0,o=0,n=t;for(;;){const a=this.createFeaturesQuery(e),u=this.setPagingParameters(a,r,n),{features:c,exceededTransferLimit:d}=await this.queryFeatures(a,i);if(u&&(r+=l(a.num)),o+=c.length,s=s?s.concat(c):c,n=t-o,!u||!d||n<=0)return s}}filterProperties(e){return a(e)?{where:\"1=1\",gdbVersion:void 0,timeExtent:void 0}:{where:e.where||\"1=1\",timeExtent:e.timeExtent,gdbVersion:e.gdbVersion}}lookupObjectIdByGlobalId(e){const t=this.globalIdField,i=this.objectIdField;if(a(t))throw new Error(\"Expected globalIdField to be defined\");let s=null;if(this.store.featureStore.forEach((r=>{var o;e===r.attributes[t]&&(s=null!=(o=r.objectId)?o:r.attributes[i])})),a(s))throw new Error(`Expected to find a feature with globalId ${e}`);return s}queryFeaturesById(e,t){const i=this.createFeaturesQuery(null);return i.objectIds=e,this.queryFeatures(i,t)}queryFeatures(e,t){return this.capabilities.query.supportsFormatPBF?this.queryFeaturesPBF(e,t):this.queryFeaturesJSON(e,t)}async queryFeaturesPBF(e,t){const{sourceSpatialReference:i}=this,{data:s}=await F(this.url,e,new m({sourceSpatialReference:i}),{query:this.configuration.customParameters,timeout:C,signal:t});return y(s)}async queryFeaturesJSON(e,t){const{sourceSpatialReference:i}=this,{data:s}=await T(this.url,e,i,{query:this.configuration.customParameters,timeout:C,signal:t});return g(s,this.objectIdField)}createCountQuery(e){const t=this.createBaseQuery(e);return this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}createFeaturesQuery(e){const t=this.createBaseQuery(e);return t.outFields=this.globalIdField?[this.globalIdField,this.objectIdField]:[this.objectIdField],t.returnGeometry=!0,n(e)&&(this.capabilities.query.supportsResultType?t.resultType=\"tile\":this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0)),t}createBaseQuery(e){const t=new v({returnZ:!1,returnM:!1,geometry:n(this.tileInfo)&&n(e)?f(e.data.extent,this.tileInfo.spatialReference):void 0}),i=this.configuration.filter;return n(i)&&(t.where=i.where,t.gdbVersion=i.gdbVersion,t.timeExtent=i.timeExtent),t.outSpatialReference=this.spatialReference,t}setPagingParameters(e,t,i){if(!this.capabilities.query.supportsPagination)return!1;const{supportsMaxRecordCountFactor:s,supportsCacheHint:r,tileMaxRecordCount:o,maxRecordCount:n,supportsResultType:a}=this.capabilities.query,l=s?v.MAX_MAX_RECORD_COUNT_FACTOR:1,u=l*((a||r)&&o?o:n||O);return e.start=t,s?(e.maxRecordCountFactor=Math.min(l,Math.ceil(i/u)),e.num=Math.min(i,e.maxRecordCountFactor*u)):e.num=Math.min(i,u),!0}};e([d({constructOnly:!0})],S.prototype,\"url\",void 0),e([d({constructOnly:!0})],S.prototype,\"objectIdField\",void 0),e([d({constructOnly:!0})],S.prototype,\"globalIdField\",void 0),e([d({constructOnly:!0})],S.prototype,\"capabilities\",void 0),e([d({constructOnly:!0})],S.prototype,\"sourceSpatialReference\",void 0),e([d({constructOnly:!0})],S.prototype,\"spatialReference\",void 0),e([d({constructOnly:!0})],S.prototype,\"store\",void 0),e([d({readOnly:!0})],S.prototype,\"minimumVerticesPerFeature\",null),e([d()],S.prototype,\"filter\",null),e([d()],S.prototype,\"customParameters\",null),e([d({readOnly:!0})],S.prototype,\"configuration\",null),e([d()],S.prototype,\"tileInfo\",null),e([d()],S.prototype,\"tileSize\",null),e([d()],S.prototype,\"tilesOfInterest\",void 0),e([d({readOnly:!0})],S.prototype,\"updating\",null),e([d({readOnly:!0})],S.prototype,\"availability\",void 0),S=e([h(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher\")],S);const O=2e3,C=6e5,x=1e6,j=25,w=1;export{S as FeatureServiceTiledFetcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{resultOrAbort as t}from\"../../../../../core/asyncUtils.js\";import{isNone as e}from\"../../../../../core/maybe.js\";import{createTask as s}from\"../../../../../core/promiseUtils.js\";import{create as a,fromExtent as r,intersects as o}from\"../../../../../geometry/support/aaBoundingRect.js\";class u{constructor(t,e){this.data=t,this.resolution=e,this.state={type:0},this.alive=!0}process(t){switch(this.state.type){case 0:return this.state=this.gotoFetchCount(this.state,t),this.state.task.promise.then(t.resume,t.resume);case 1:case 3:break;case 2:return this.state=this.gotoFetchFeatures(this.state,t),this.state.task.promise.then(t.resume,t.resume);case 4:this.state=this.goToDone(this.state,t)}return null}get debugInfo(){return{data:this.data,featureCount:this.featureCount,state:this.stateToString}}get featureCount(){switch(this.state.type){case 0:case 1:return 0;case 2:return this.state.featureCount;case 3:return this.state.previous.featureCount;case 4:return this.state.features.length;case 5:return this.state.previous.features.length}}get stateToString(){switch(this.state.type){case 0:return\"created\";case 1:return\"fetch-count\";case 2:return\"fetched-count\";case 3:return\"fetch-features\";case 4:return\"fetched-features\";case 5:return\"done\"}}gotoFetchCount(e,a){return{type:1,previous:e,task:s((async e=>{const s=await t(a.fetchCount(this,e));1===this.state.type&&(this.state=this.gotoFetchedCount(this.state,s.ok?s.value:1/0))}))}}gotoFetchedCount(t,e){return{type:2,featureCount:e,previous:t}}gotoFetchFeatures(e,a){return{type:3,previous:e,task:s((async s=>{const r=await t(a.fetchFeatures(this,e.featureCount,s));3===this.state.type&&(this.state=this.gotoFetchedFeatures(this.state,r.ok?r.value:[]))}))}}gotoFetchedFeatures(t,e){return{type:4,previous:t,features:e}}goToDone(t,e){return e.finish(this,t.features),{type:5,previous:t}}reset(){const t=this.state;switch(this.state={type:0},t.type){case 0:case 2:case 4:case 5:break;case 1:case 3:t.task.abort()}}intersects(t){return!(!e(t)&&this.data.extent)||(r(t,i),o(this.data.extent,i))}}const i=a();export{u as PendingFeatureTile};\n"],"names":["_","e","t","i","isSome","r","createDeferred","s","throwIfAborted","a","whenOrAbort","n","whenNotOnce","o","property","p","subclass","u","l","c","d","h","f","m","FeatureServiceTiledFetcher","g","FeatureServiceTileStore","y","WatchUpdatingTracking","S","w","EventedAccessor","constructor","arguments","isInitializing","whenSetup","handles","updatingHandles","pendingApplyEdits","Map","updating","featureFetcher","destroy","queryEngine","featureStore","clear","setup","geometryType","objectIdField","timeInfo","fields","serviceInfo","hasZ","hasM","spatialReference","fromJSON","store","url","globalIdField","capabilities","sourceSpatialReference","add","watch","emit","availability","notifyUpdating","resolve","configure","configuration","addPromise","promise","updateFeatureFetcherConfiguration","result","fetchCandidates","executeQueryForSnapping","point","distance","types","query","filter","where","signal","updateTiles","tileSize","tilesOfInterest","tiles","tileInfo","refresh","whenNotUpdating","getDebugInfo","debugInfo","beginApplyEdits","set","id","applyEdits","endApplyEdits","get","edits","customParameters","F","readOnly","prototype","FeatureServiceSnappingSourceWorker","default","estimateAttributesObjectSize","estimateFixedArraySize","isNone","create","intersects","fromExtent","area","getBoundsOptimizedGeometry","BoundsStore","executeQueryForCount","FeatureServiceTileCache","extent","maximumByteSize","tileBounds","refCounts","tileFeatureCounts","tmpBoundingRect","referenceFeature","objectId","push","addTileStorage","Set","map","v","addMany","applyByteSizeLimit","removeTileStorage","processEdits","processEditsDelete","deletedFeatures","concat","updatedFeatures","processEditsRefetch","addedFeatures","size","remove","objectIds","unreferenceFeature","removeManyById","data","delete","features","geometry","forEachInBounds","has","process","j","createTileTree","simplify","collectMissingTiles","Array","from","values","featureCount","getFeatureCount","fetchCount","count","I","level","row","col","updateTileInfo","tilesAreRelated","populateChildren","Math","floor","isLeaf","children","length","mergeChildren","purge","forEachLeaf","byteSize","collectMissingTilesRecurse","info","hasChildren","addMissing","test","featureReferences","keys","reduce","C","attributes","lengths","coords","constructOnly","missingTiles","fullArea","coveredArea","prepend","resolution","ProcessResult","equals","AsyncSequence","HandleOwner","makeHandle","unwrap","createTask","throwIfAbortError","toExtent","unquantizeOptimizedFeatureSet","convertFromFeatureSet","OptimizedFeatureSetParserContext","executeQueryForExtent","b","executeQueryPBF","executeQuery","T","PendingFeatureTile","P","getLogger","pendingTiles","pendingEdits","pendingEditsAbortController","AbortController","minimumVerticesPerFeature","_get","filterProperties","JSON","stringify","_set","initialize","initializeFetchExtent","forEach","deletePendingTile","abort","reset","globalId","lookupObjectIdByGlobalId","queryFeaturesById","processPendingTiles","supportsExtent","outSpatialReference","cacheHint","supportsCacheHint","warn","then","numberOfFeatures","numFeatures","storedTiles","markTilesNotAlive","createPendingTiles","deletePendingTiles","alive","collectMissingTilesInfo","setAvailability","createPendingTile","verifyTileComplexity","fetchFeatures","finish","finishPendingTile","resume","ensureFetchAllCounts","verifyVertexComplexity","verifyFeatureDensity","x","state","type","updateAvailability","createCountQuery","timeout","createFeaturesQuery","setPagingParameters","exceededTransferLimit","queryFeatures","num","gdbVersion","timeExtent","Error","supportsFormatPBF","queryFeaturesPBF","queryFeaturesJSON","createBaseQuery","outFields","returnGeometry","supportsResultType","resultType","returnZ","returnM","supportsPagination","supportsMaxRecordCountFactor","tileMaxRecordCount","maxRecordCount","MAX_MAX_RECORD_COUNT_FACTOR","O","start","maxRecordCountFactor","min","ceil","resultOrAbort","gotoFetchCount","task","gotoFetchFeatures","goToDone","stateToString","previous","gotoFetchedCount","ok","value","gotoFetchedFeatures"],"sourceRoot":"webpack:///"}