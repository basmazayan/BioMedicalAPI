"use strict";(self.webpackChunkbio_medical=self.webpackChunkbio_medical||[]).push([[8477],{58578:(ie,G,o)=>{o.r(G),o.d(G,{default:()=>Pe});var I=o(49996),l=o(79076),k=(o(61243),o(24093)),z=(o(25938),o(15206),o(64366),o(68267),o(6557),o(78477),o(96337),o(94111),o(15196)),K=o(32810),a=o(94911),V=(o(45072),o(30627),o(55865),o(96410)),J=o(557),_=o(2045),W=o(61414),$=o(23412),F=o(18502),m=o(44921),w=o(42762),Z=o(96583);let x=class extends $.Z{constructor(){super(...arguments),this.featureDefinition=null,this.type="ogc-feature"}load(n){return this.addResolvingPromise(this._loadOGCServices(this.layer,n)),this.when()}getFeatureDefinition(){const{featureDefinition:{collection:n,layerDefinition:s,spatialReference:u,supportedCrs:d},layer:{apiKey:y,capabilities:g,customParameters:C}}=this;return{capabilities:g,collection:n,layerDefinition:s,queryParameters:{apiKey:y,customParameters:C},spatialReference:u,supportedCrs:d}}queryExtent(n,s={}){return null}queryFeatureCount(n,s={}){return null}queryFeatures(n,s={}){return this.queryFeaturesJSON(n,s).then(u=>w.default.fromJSON(u))}queryFeaturesJSON(n,s={}){const u=this.getFeatureDefinition();return this.load(s).then(()=>(0,m.yN)(u,n,s))}queryObjectIds(n,s={}){return null}supportsSpatialReference(n){return!(!n.isWGS84&&!n.isWebMercator&&!this.featureDefinition.supportedCrs[n.wkid])}_conformsToType(n,s){var u;const d=new RegExp(`^${s}$`,"i");return null!=(u=n.conformsTo.some(y=>d.test(y)))&&u}_getCapabilities(n,s){var u,d,y,g,C,v,L;const b=(0,F.pC)(s)?null==(u=s.components)?void 0:u.parameters:null;return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:n},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},query:{maxRecordCount:null!=(d=null!=(y=null==b||null==(g=b.limit)||null==(C=g.schema)?void 0:C.maximum)?y:null==b||null==(v=b.limitFeatures)||null==(L=v.schema)?void 0:L.maximum)?d:5e3,maxRecordCountFactor:void 0,standardMaxRecordCount:void 0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,supportsSqlExpression:!1,tileMaxRecordCount:void 0},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUploadWithItemId:!1,supportsUpdateWithoutM:!1}}}_getExtent(n){var s;const u=null==(s=n.extent)?void 0:s.spatial;if(!u)return null;const d=u.bbox[0],y=4===d.length,g=d[0],C=d[1],v=y?void 0:d[2];return{xmin:g,ymin:C,xmax:y?d[2]:d[3],ymax:y?d[3]:d[4],zmin:v,zmax:y?void 0:d[5],spatialReference:Z.Z.WGS84.toJSON()}}_getStorageSpatialReference(n){var s;const u=null!=(s=n.storageCrs)?s:m.$9,d=(0,m.d)(u);return(0,F.Wi)(d)?Z.Z.WGS84:new Z.Z({wkid:d})}_getSupportedSpatialReferences(n,s){var u;const d="#/crs",y=null!=(u=n.crs)?u:[m.$9],g=y.includes(d)?y.filter(v=>v!==d).concat(s.crs):y,C=/^http:\/\/www\.opengis.net\/def\/crs\/epsg\/.*\/3785$/i;return g.filter(v=>!C.test(v))}_loadOGCServices(n,s){var u=this;return(0,I.Z)(function*(){const d=(0,F.pC)(s)?s.signal:null,{apiKey:y,collectionId:g,customParameters:C,fields:v,geometryType:L,hasZ:b,objectIdField:Fe,timeInfo:ve,url:Oe}=n,Re={fields:null==v?void 0:v.map(N=>N.toJSON()),geometryType:J.P$.toJSON(L),hasZ:b,objectIdField:Fe,timeInfo:null==ve?void 0:ve.toJSON()},H={apiKey:y,customParameters:C,signal:d},oe=yield(0,m.gp)(Oe,H),[ge,Ce]=yield Promise.all([(0,m.G4)(oe,H),(0,m.j)(oe,H)]);if(!u._conformsToType(ge,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/geojson"))throw new W.Z("ogc-feature-layer:no-geojson-support","Server does not support geojson");const Q=Ce.collections.find(N=>N.id===g);if(!Q)throw new W.Z("ogc-feature-layer:collection-not-found","Server does not contain the named collection");const be=u._conformsToType(ge,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/oas30")?yield(0,m.eS)(oe,H):null,re=yield(0,m.w9)(Q,Re,H),Ie=u._getCapabilities(re.hasZ,be),xe=u._getExtent(Q),Te=u._getStorageSpatialReference(Q).toJSON(),De=u._getSupportedSpatialReferences(Q,Ce),je=new RegExp(`^${m.Lu}`,"i"),ne={};for(const N of De){const se=(0,m.d)(N);(0,F.pC)(se)&&(ne[se]||(ne[se]=N.replace(je,"")))}re.extent=xe,u.featureDefinition={capabilities:Ie,collection:Q,layerDefinition:re,queryParameters:{},spatialReference:Te,supportedCrs:ne}})()}};(0,l._)([(0,a.Cb)()],x.prototype,"featureDefinition",void 0),(0,l._)([(0,a.Cb)({constructOnly:!0})],x.prototype,"layer",void 0),(0,l._)([(0,a.Cb)()],x.prototype,"type",void 0),x=(0,l._)([(0,V.j)("esri.layers.graphics.sources.OGCFeatureSource")],x);const ee=x;var te=o(57993),e=o(88945),t=o(52166),r=o(62932),i=o(46839),c=o(31387),T=o(32617),O=o(77883),h=o(41099),R=o(77932),f=o(46613),E=o(65904),B=o(33912),M=o(66536),U=o(80839),S=o(6663),D=o(38488),j=o(93560),P=o(37995),Y=o(81569),X=o(70157);const Se=(0,U.v)();let p=class extends((0,te.V)((0,t.N)((0,r.b)((0,e.h)((0,c.c)((0,R.n)((0,h.M)((0,i.q)((0,T.I)((0,O.Q)((0,K.R)(_.Z)))))))))))){constructor(n){super(n),this.collectionId=null,this.copyright=null,this.definitionExpression=null,this.description=null,this.displayField=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelingInfo=null,this.labelsVisible=!0,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="OGCFeatureLayer",this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new ee({layer:this}),this.spatialReference=null,this.title=null,this.type="ogc-feature",this.typeIdField=null,this.types=null,this.url=null}destroy(){var n;null==(n=this.source)||n.destroy()}load(n){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["OGCFeatureServer"]},n).then(()=>this._fetchService(n))),this.when()}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&null==this.geometryType}set renderer(n){(0,S.YN)(n,this.fieldsIndex),this._set("renderer",n)}on(n,s){return super.on(n,s)}createPopupTemplate(n){return(0,Y.eZ)(this,n)}createQuery(){return new P.Z}getField(n){return this.fieldsIndex.get(n)}getFieldDomain(n,s){var u;let d,y=!1;const g=null==s||null==(u=s.feature)?void 0:u.attributes,C=this.typeIdField&&(null==g?void 0:g[this.typeIdField]);return null!=C&&this.types&&(y=this.types.some(v=>{var L,b;return v.id==C&&(d=null==(L=v.domains)?void 0:L[n],"inherited"===(null==(b=d)?void 0:b.type)&&(d=this._getLayerDomain(n)),!0)})),y||d||(d=this._getLayerDomain(n)),d}queryFeatures(n,s){return this.load().then(()=>this.source.queryFeatures(P.Z.from(n)||this.createQuery(),s)).then(u=>{var d;return null==u||null==(d=u.features)||d.forEach(y=>{y.layer=y.sourceLayer=this}),u})}_fetchService(n){var s=this;return(0,I.Z)(function*(){yield s.source.load(n),s.read(s.source.featureDefinition,{origin:"service"}),(0,S.YN)(s.renderer,s.fieldsIndex),(0,S.UF)(s.timeInfo,s.fieldsIndex)})()}_getLayerDomain(n){if(!this.fields)return null;for(const s of this.fields)if(s.name===n&&s.domain)return s.domain;return null}};(0,l._)([(0,a.Cb)({readOnly:!0,json:{origins:{service:{read:!0}}}})],p.prototype,"capabilities",void 0),(0,l._)([(0,a.Cb)({type:String,json:{write:!0}})],p.prototype,"collectionId",void 0),(0,l._)([(0,a.Cb)({type:String})],p.prototype,"copyright",void 0),(0,l._)([(0,a.Cb)({readOnly:!0})],p.prototype,"defaultPopupTemplate",null),(0,l._)([(0,a.Cb)({type:String})],p.prototype,"definitionExpression",void 0),(0,l._)([(0,a.Cb)({readOnly:!0,type:String,json:{origins:{service:{name:"collection.description"}}}})],p.prototype,"description",void 0),(0,l._)([(0,a.Cb)({type:String})],p.prototype,"displayField",void 0),(0,l._)([(0,a.Cb)(f.PV)],p.prototype,"elevationInfo",void 0),(0,l._)([(0,a.Cb)(E.d)],p.prototype,"featureReduction",void 0),(0,l._)([(0,a.Cb)({type:[M.Z],json:{origins:{service:{name:"layerDefinition.fields"}}}})],p.prototype,"fields",void 0),(0,l._)([(0,a.Cb)(Se.fieldsIndex)],p.prototype,"fieldsIndex",void 0),(0,l._)([(0,a.Cb)({readOnly:!0,type:X.Z,json:{origins:{service:{name:"layerDefinition.extent"}}}})],p.prototype,"fullExtent",void 0),(0,l._)([(0,a.Cb)({type:J.Mk.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:J.Mk.read}}}}})],p.prototype,"geometryType",void 0),(0,l._)([(0,a.Cb)({type:Boolean,json:{origins:{service:{name:"layerDefinition.hasZ"}}}})],p.prototype,"hasZ",void 0),(0,l._)([(0,a.Cb)({type:Boolean,readOnly:!0})],p.prototype,"isTable",null),(0,l._)([(0,a.Cb)({type:[D.Z],json:{origins:{"web-document":{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:j.r},write:!0}}}})],p.prototype,"labelingInfo",void 0),(0,l._)([(0,a.Cb)(f.iR)],p.prototype,"labelsVisible",void 0),(0,l._)([(0,a.Cb)(f.rn)],p.prototype,"legendEnabled",void 0),(0,l._)([(0,a.Cb)({type:String,json:{origins:{service:{name:"layerDefinition.objectIdField"}}}})],p.prototype,"objectIdField",void 0),(0,l._)([(0,a.Cb)({type:["OGCFeatureLayer"]})],p.prototype,"operationalLayerType",void 0),(0,l._)([(0,a.Cb)(f.C_)],p.prototype,"popupEnabled",void 0),(0,l._)([(0,a.Cb)({type:k.Z,json:{name:"popupInfo",write:!0}})],p.prototype,"popupTemplate",void 0),(0,l._)([(0,a.Cb)({types:z.A,json:{origins:{service:{name:"layerDefinition.drawingInfo.renderer",write:!1},"web-scene":{types:z.o,name:"layerDefinition.drawingInfo.renderer",write:!0}},name:"layerDefinition.drawingInfo.renderer",write:!0}})],p.prototype,"renderer",null),(0,l._)([(0,a.Cb)(f.YI)],p.prototype,"screenSizePerspectiveEnabled",void 0),(0,l._)([(0,a.Cb)({readOnly:!0})],p.prototype,"source",void 0),(0,l._)([(0,a.Cb)({readOnly:!0,type:Z.Z,json:{origins:{service:{read:!0}}}})],p.prototype,"spatialReference",void 0),(0,l._)([(0,a.Cb)({type:String,json:{write:{enabled:!0,ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"collection.title"}}}})],p.prototype,"title",void 0),(0,l._)([(0,a.Cb)({readOnly:!0,json:{read:!1}})],p.prototype,"type",void 0),(0,l._)([(0,a.Cb)({type:String,readOnly:!0})],p.prototype,"typeIdField",void 0),(0,l._)([(0,a.Cb)({type:[B.Z]})],p.prototype,"types",void 0),(0,l._)([(0,a.Cb)(f.HQ)],p.prototype,"url",void 0),p=(0,l._)([(0,V.j)("esri.layers.OGCFeatureLayer")],p);const Pe=p},91343:(ie,G,o)=>{o.d(G,{g:()=>I});const I={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},98254:(ie,G,o)=>{o.d(G,{lG:()=>te,q9:()=>A,my:()=>ee,O3:()=>x});var I=o(61414),l=o(56499),le=o(82760),k=o(6663);const ae={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function A(e){return ae[e]}function*q(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*pe(e){if(!e)return null;switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const r of t)yield*r}}function de(e){for(const t of e)if(t.length>2)return!0;return!1}function z(e){let t=0;for(let r=0;r<e.length;r++){const i=e[r],c=e[(r+1)%e.length];t+=i[0]*c[1]-c[0]*i[1]}return t<=0}function K(e){const t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function a(e,t,r){switch(t.type){case"LineString":return function(e,t,r){return F(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){for(const i of t.coordinates)F(e,i,r);return e}(e,t,r);case"MultiPoint":return function(e,t,r){return F(e,t.coordinates,r),e}(e,t,r);case"MultiPolygon":return function(e,t,r){for(const i of t.coordinates){W(e,i[0],r);for(let c=1;c<i.length;c++)$(e,i[c],r)}return e}(e,t,r);case"Point":return function(e,t,r){return w(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){const i=t.coordinates;W(e,i[0],r);for(let c=1;c<i.length;c++)$(e,i[c],r);return e}(e,t,r)}}function W(e,t,r){const i=K(t);!function(e){return!z(e)}(i)?F(e,i,r):m(e,i,r)}function $(e,t,r){const i=K(t);!function(e){return z(e)}(i)?F(e,i,r):m(e,i,r)}function F(e,t,r){for(const i of t)w(e,i,r);e.lengths.push(t.length)}function m(e,t,r){for(let i=t.length-1;i>=0;i--)w(e,t[i],r);e.lengths.push(t.length)}function w(e,t,r){const[i,c,T]=t;e.coords.push(i,c),r.hasZ&&e.coords.push(T||0)}function Z(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function x(e){if(!e)throw new I.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new I.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:t}=e;if(!t)return;const r="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,i=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!i.test(r))throw new I.Z("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function ee(e,t={}){const r=[],i=new Set,c=new Set;let T,O=!1,h=null,R=!1,{geometryType:f=null}=t,E=!1;for(const M of q(e)){const{geometry:U,properties:S,id:D}=M;if((!U||(f||(f=A(U.type)),A(U.type)===f))&&(O||(O=de(pe(U))),R||(R=null!=D,R&&(T=typeof D,h=Object.keys(S).filter(j=>S[j]===D))),R&&null!=D&&(h.length>1?h=h.filter(j=>S[j]===D):1===h.length&&(h=S[h[0]]===D?h:[])),!E&&S)){let j=!0;for(const P in S){if(i.has(P))continue;const Y=S[P];if(null==Y){j=!1,c.add(P);continue}const X=Z(Y);"unknown"!==X?(c.delete(P),i.add(P),r.push({name:P,alias:P,type:X})):c.add(P)}E=j}}const B=h&&1===h.length&&h[0]||null;if(B)for(const M of r)if(M.name===B&&(0,k.H7)(M)){M.type="esriFieldTypeOID";break}return{fields:r,geometryType:f,hasZ:O,objectIdFieldName:B,objectIdFieldType:T,unknownFields:Array.from(c)}}function te(e,t){return Array.from(function*(e,t={}){const{geometryType:r,objectIdField:i}=t;for(const T of e){var c;const{geometry:O,properties:h,id:R}=T;if(O&&A(O.type)!==r)continue;const f=h||{};let E=null!=(c=f[i])?c:null;i&&null!=R&&!f[i]&&(f[i]=E=R),yield new l.ZP(O?a(new le.Z,O,t):null,f,null,E)}}(q(e),t))}}}]);
//# sourceMappingURL=8477.59d3b73509501b071e15.js.map