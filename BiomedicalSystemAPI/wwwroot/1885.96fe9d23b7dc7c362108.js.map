{"version":3,"file":"1885.96fe9d23b7dc7c362108.js","mappings":"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","sources":["./node_modules/@arcgis/core/portal/support/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{get as r,isSome as a,isNone as o}from\"../../core/maybe.js\";import{join as s,getPathExtension as n}from\"../../core/urlUtils.js\";async function c(e,t={},a){await e.load(a);const o=s(e.itemUrl,\"resources\"),{start:n=1,num:c=10,sortOrder:u=\"asc\",sortField:i=\"created\"}=t,l={query:{start:n,num:c,sortOrder:u,sortField:i,token:e.apiKey},signal:r(a,\"signal\")},p=await e.portal._request(o,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function u(e,o,n,c){if(!e.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const u=e.portalItem;await u.load(c);const i=s(u.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\"),[l,d]=p(e.path),m=await h(n),f=new FormData;return l&&\".\"!==l&&f.append(\"resourcesPrefix\",l),f.append(\"fileName\",d),f.append(\"file\",m,d),f.append(\"f\",\"json\"),a(c)&&c.access&&f.append(\"access\",c.access),await u.portal._request(i,{method:\"post\",body:f,signal:r(c,\"signal\")}),e}async function i(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const n=s(e.userItemUrl,\"removeResources\");await e.portal._request(n,{method:\"post\",query:{resource:a.path},signal:r(o,\"signal\")}),a.portalItem=null}async function l(e,t){await e.load(t);const a=s(e.userItemUrl,\"removeResources\");return e.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:r(t,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function d(e){const[t,r]=m(e),[a,o]=p(t);return[a,o,r]}function m(e){const t=n(e);return o(t)?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function h(t){if(t instanceof Blob)return t;return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}function w(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}export{u as addOrUpdateResource,h as contentToBlob,c as fetchResources,f as getSiblingOfSameType,w as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,d as splitPrefixFileNameAndExtension};\n"],"names":["e","t","get","r","isSome","a","isNone","o","join","s","getPathExtension","n","c","load","itemUrl","start","num","sortOrder","u","sortField","i","l","query","token","apiKey","signal","p","portal","_request","total","nextStart","resources","map","created","size","resource","Date","resourceFromPath","hasPath","portalItem","userItemUrl","d","path","m","h","f","FormData","append","access","method","body","deleteAll","lastIndexOf","slice","length","Blob","url","responseType","data","w","addOrUpdateResource","contentToBlob","fetchResources","getSiblingOfSameType","getSiblingOfSameTypeI","removeAllResources","removeResource","splitPrefixFileNameAndExtension"],"sourceRoot":"webpack:///"}