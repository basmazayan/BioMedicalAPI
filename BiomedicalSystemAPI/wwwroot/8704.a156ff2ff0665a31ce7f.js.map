{"version":3,"file":"8704.a156ff2ff0665a31ce7f.js","mappings":"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","sources":["./node_modules/@arcgis/core/views/2d/engine/RasterTile.js","./node_modules/@arcgis/core/views/2d/engine/RasterTileContainer.js","./node_modules/@arcgis/core/views/2d/engine/RasterVFDisplayObject.js","./node_modules/@arcgis/core/views/2d/engine/RasterVFTile.js","./node_modules/@arcgis/core/views/2d/engine/RasterVFTileContainer.js","./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","./node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js","./node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js","./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js","./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js","./node_modules/@arcgis/core/views/2d/layers/support/util.js","./node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/mat3f32.js\";import{RasterBitmap as s}from\"./RasterBitmap.js\";import{TiledDisplayObject as e}from\"./webgl/TiledDisplayObject.js\";class i extends e{constructor(t,e,i,r,a,n=null){super(t,e,i,r,a),this.bitmap=new s(n,null,null),this.bitmap.coordScale=[r,a],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t,s){super.setTransform(t,s),this.bitmap.transforms.dvs=this.transforms.dvs}_createTransforms(){return{dvs:t(),tileMat3:t()}}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{i as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../viewpointUtils.js\";import{brushes as r}from\"./brushes.js\";import{RasterTile as i}from\"./RasterTile.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import o from\"./webgl/TileContainer.js\";class n extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e),[r,t]=this._tileInfoView.tileInfo.size;return new i(e,s[0],s[3],r,t)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (tile)\",brushes:[r.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}_getTileBounds(r){const i=this._tileInfoView.getTileBounds(e(),r);if(this.isCustomTilingScheme&&r.world){const{tileInfo:e}=this._tileInfoView,t=s(e.spatialReference);if(t){const{resolution:s}=e.lodAt(r.level),o=t/s%e.size[0],n=o?(e.size[0]-o)*s:0;i[0]-=n*r.world,i[2]-=n*r.world}}return i}}export{n as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/mat3f32.js\";import{createVFMesh as a,createVFMeshScalar as s}from\"../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import r from\"../../webgl/BufferObject.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/checkWebGLError.js\";import\"../../webgl/enums.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/Texture.js\";import i from\"../../webgl/VertexArrayObject.js\";import{DisplayObject as o}from\"./DisplayObject.js\";import{createProgramDescriptor as l}from\"./webgl/Utils.js\";class c extends o{constructor(e=null){super(),this._source=null,this._symbolizerParameters=null,this._vaoInvalidated=!0,this.coordScale=[1,1],this.height=null,this.stencilRef=0,this.rawPixelData=null,this.width=null,this.source=e}destroy(){var t,a;e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null)}get symbolizerParameters(){return this._symbolizerParameters}set symbolizerParameters(e){JSON.stringify(this._symbolizerParameters)!==JSON.stringify(e)&&(this._symbolizerParameters=e,this.invalidateVAO())}get source(){return this._source}set source(e){this._source=e,this.invalidateVAO()}invalidateVAO(){var t,a;!this._vaoInvalidated&&e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null,this._vaoInvalidated=!0,this.requestRender())}updateVectorFieldVAO(t){if(this._vaoInvalidated){if(this._vaoInvalidated=!1,e(this.source)&&!e(this.vaoData)){const{style:e}=this.symbolizerParameters;switch(e){case\"beaufort_ft\":case\"beaufort_km\":case\"beaufort_kn\":case\"beaufort_m\":case\"beaufort_mi\":case\"classified_arrow\":case\"ocean_current_kn\":case\"ocean_current_m\":case\"single_arrow\":{const e=a(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(t.context,e);this.vaoData={magdir:s}}break;case\"simple_scalar\":{const e=s(this.source,this.symbolizerParameters),a=this._createVectorFieldVAO(t.context,e);this.vaoData={scalar:a}}break;case\"wind_speed\":{const e=a(this.source,this.symbolizerParameters),r=this._createVectorFieldVAO(t.context,e),i=s(this.source,this.symbolizerParameters),o=this._createVectorFieldVAO(t.context,i);this.vaoData={magdir:r,scalar:o}}}}this.ready(),this.requestRender()}}_createTransforms(){return{dvs:t()}}onAttach(){this.invalidateVAO()}onDetach(){this.invalidateVAO()}_createVectorFieldVAO(e,t){const{vertexData:a,indexData:s}=t,o=r.createVertex(e,35044,new Float32Array(a)),c=r.createIndex(e,35044,new Uint32Array(s)),n=l(\"vector-field\",{geometry:[{location:0,name:\"a_pos\",count:2,type:5126,normalized:!1},{location:1,name:\"a_offset\",count:2,type:5126,normalized:!1},{location:2,name:\"a_vv\",count:2,type:5126,normalized:!1}]});return{vao:new i(e,n.attributes,n.bufferLayouts,{geometry:o},c),elementCount:s.length}}}export{c as RasterVFDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../chunks/mat3.js\";import{c as e}from\"../../../chunks/mat3f32.js\";import{RasterVFDisplayObject as a}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as i}from\"./webgl/TiledDisplayObject.js\";class r extends i{constructor(t,s,e,i,r,o=null){super(t,s,e,i,r),this.tileData=new a(o),this.tileData.coordScale=[i,r],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{dvs:e(),tileMat3:e()}}setTransform(e,a){super.setTransform(e,a);const i=a/(e.resolution*e.pixelRatio),r=this.transforms.tileMat3,[o,l]=this.tileData.offset,h=[this.x+o*a,this.y-l*a],[n,f]=e.toScreenNoRotation([0,0],h),{symbolTileSize:m}=this.tileData.symbolizerParameters,c=Math.round((this.width-this.tileData.offset[0])/m)*m,D=Math.round((this.height-this.tileData.offset[1])/m)*m,d=c/this.rangeX*i,u=D/this.rangeY*i;t(r,d,0,0,0,u,0,n,f,1),s(this.transforms.dvs,e.displayViewMat3,r),this.tileData.transforms.dvs=this.transforms.dvs}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{RasterVFTile as s}from\"./RasterVFTile.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import t from\"./webgl/TileContainer.js\";import i from\"./webgl/brushes/raster/BrushVectorField.js\";class o extends t{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=[\"triangle\"]}createTile(r){const t=this._tileInfoView.getTileBounds(e(),r),[i,o]=this._tileInfoView.tileInfo.size;return new s(r,t[0],t[3],i,o)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (vf tile)\",brushes:[i],target:()=>this.children.map((e=>e.tileData)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((s=>{e.renderPass=s,super.doRender(e)}))}}export{o as RasterVFTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{o as default,i as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{DisplayObject as i}from\"../DisplayObject.js\";import e from\"../../tiling/TileKey.js\";class r extends i{constructor(t,s,i,r,h,o=r,n=h){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new e(t),this.x=s,this.y=i,this.width=r,this.height=h,this.rangeX=o,this.rangeY=n}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(i,e){const r=e/(i.resolution*i.pixelRatio),h=this.transforms.tileMat3,[o,n]=i.toScreenNoRotation([0,0],[this.x,this.y]),a=this.width/this.rangeX*r,l=this.height/this.rangeY*r;t(h,a,0,0,0,l,0,o,n,1),s(this.transforms.dvs,i.displayViewMat3,h)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import s from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{isAbortError as i}from\"../../../core/promiseUtils.js\";import{watch as t,init as o}from\"../../../core/watchUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import u from\"../engine/flow/AnimatedFlowView2D.js\";import{LayerView2DMixin as h}from\"./LayerView2D.js\";import l from\"./imagery/ImageryTileView2D.js\";import p from\"./imagery/VectorFieldTileView2D.js\";import{canUseMajorityInterpolationOnDataSource as c}from\"./support/util.js\";import{ImageryTileLayerView as d}from\"../../layers/ImageryTileLayerView.js\";import m from\"../../layers/LayerView.js\";import{RefreshableLayerView as w}from\"../../layers/RefreshableLayerView.js\";const v=r.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\");let b=class extends(d(w(h(m)))){constructor(){super(...arguments),this._useWebGLForProcessing=!0,this._useProgressiveUpdate=!0,this.subview=null}initialize(){const e=this.updateFullExtent();this.addResolvingPromise(e)}get useWebGLForProcessing(){return this._useWebGLForProcessing}set useWebGLForProcessing(e){this._useWebGLForProcessing=e,this.subview&&\"useWebGLForProcessing\"in this.subview&&(this.subview.useWebGLForProcessing=e)}get useProgressiveUpdate(){return this._useWebGLForProcessing}set useProgressiveUpdate(e){this._useProgressiveUpdate=e,this.subview&&\"useProgressiveUpdate\"in this.subview&&(this.subview.useProgressiveUpdate=e)}update(e){this.subview.update(e),this.notifyChange(\"updating\")}isUpdating(){return!this.subview||this.subview.updating}attach(){this.layer.increaseRasterJobHandlerUsage(),this._updateSubview(),this.handles.add([t(this.layer,[\"bandIds\",\"renderer\",\"interpolation\",\"multidimensionalDefinition\"],((e,s,r)=>{const t=\"multidimensionalDefinition\"===r,o=\"interpolation\"===r&&(\"majority\"===e||\"majority\"===s)&&c(this.layer),a=\"renderer\"===r&&s.type!==e.type;a&&this._updateSubview();const n=t||o||a;this.subview.redrawOrRefetch(n).catch((e=>{i(e)||v.error(e)})),this.notifyChange(\"updating\")})),o(this,[\"layer.blendMode\"],(e=>{this.subview&&(this.subview.container.blendMode=e)}),!0),o(this,[\"layer.effect\"],(e=>{this.subview&&(this.subview.container.effect=e)}),!0),o(this,\"timeExtent\",(()=>{this.subview.redrawOrRefetch(!0).catch((e=>{i(e)||v.error(e)}))}))],\"attach\")}detach(){this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),this.subview.uninstall()}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.subview.moveEnd()}async hitTest(e,r){return[new s({attributes:{},geometry:e.clone()})]}doRefresh(){return this.subview.doRefresh()}_updateSubview(){const e=\"vector-field\"===this.layer.renderer.type?\"rasterVF\":\"animated-flow\"===this.layer.renderer.type?\"rasterAnimatedFlow\":\"raster\";if(this.subview){if(this.subview.type===e)return;this.subview.uninstall()}const{layer:s}=this;let r;r=\"rasterVF\"===e?new p({layer:s,layerView:this}):\"rasterAnimatedFlow\"===e?new u({layer:s,layerView:this}):new l({layer:s,layerView:this}),\"useWebGLForProcessing\"in r&&(r.useWebGLForProcessing=this._useWebGLForProcessing),\"useProgressiveUpdate\"in r&&(r.useProgressiveUpdate=this._useProgressiveUpdate),\"previousLOD\"in r&&(r.previousLOD=this.subview&&\"previousLOD\"in this.subview&&this.subview.previousLOD),r.attach(),r.install(this.container),r.container.blendMode=s.blendMode,r.container.effect=s.effect,this.subview=r,this.requestUpdate()}};e([a()],b.prototype,\"subview\",void 0),e([a()],b.prototype,\"useWebGLForProcessing\",null),e([a()],b.prototype,\"useProgressiveUpdate\",null),b=e([n(\"esri.views.2d.layers.ImageryTileLayerView2D\")],b);const y=b;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{HandleOwner as t}from\"../../../../core/HandleOwner.js\";import i from\"../../../../core/Logger.js\";import{isSome as s,isNone as r,unwrap as l}from\"../../../../core/maybe.js\";import{debounce as a,isAbortError as o,eachAlways as n}from\"../../../../core/promiseUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import u from\"../../../../geometry/Point.js\";import y from\"../../../../layers/support/PixelBlock.js\";import p from\"../../../../layers/support/TileInfo.js\";import{update as d,unregister as g,register as m,getRasterId as _}from\"../../../../layers/support/rasterDatasets/RawBlockCache.js\";import{extractBands as f}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{computeProjectedScales as w}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import\"../../tiling/PagedTileQueue.js\";import b from\"../../tiling/TileInfoView.js\";import\"../../tiling/TileKey.js\";import P from\"../../tiling/TileQueue.js\";import C from\"../../tiling/TileStrategy.js\";import I from\"../../../webgl/capabilities.js\";import V from\"../../../../geometry/Extent.js\";const v=[0,0],R=i.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\");let T=class extends t{constructor(){super(...arguments),this._emptyTilePixelBlock=null,this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._srcResolutions=null,this.previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._isCustomTilingScheme=!1,this._globalUpdateRequested=!1,this.container=null,this.layer=null,this.redrawOrRefetch=a(((e,t)=>!this.previousLOD||this.layerView.suspended?Promise.resolve():e?this.doRefresh():this._redrawImage(t)))}get useWebGLForProcessing(){var e;return null==(e=this._get(\"useWebGLForProcessing\"))||e}set useWebGLForProcessing(e){this._set(\"useWebGLForProcessing\",e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){this._tileStrategy.destroy(),this.container.removeAllChildren();const t=this._getCacheSize(e);this._tileStrategy=new C({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.layerView.requestUpdate()}}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){var l;if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:V.fromJSON(t);d(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,(null==(l=this.previousLOD)?void 0:l.level)!==r.level&&(this.previousLOD=r,null==this._symbolizerParams||this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}}moveEnd(){!this.layerView.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=new AbortController,0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.layerView.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.layerView.requestUpdate()}get updating(){return this._fetchQueue.length>0||this._globalUpdateRequested||!(!this.updatingHandles||!this.updatingHandles.updating)}attach(){I().supportsTextureFloat||(this.useWebGLForProcessing=!1),this._initializeTileInfo(),this._tileInfoView=new b(this.layerView.tileInfo,this.layerView.fullExtent);const e=this._computeFetchConcurrency();this._fetchQueue=new P({tileInfoView:this._tileInfoView,concurrency:e,process:(e,t)=>this._fetchTile1(e,t)});const t=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new C({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._updateBlockCacheRegistry()}acquireTile(e){const t=this.container.createTile(e);return this._enqueueTileFetch(t),this.layerView.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.layerView.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){this._fetchQueue.abort(e.key.id),this.container.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.layerView.requestUpdate()})),this.layerView.requestUpdate()}uninstall(){this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,this.notifyChange(\"updating\"),g(this._blockCacheRegistryUrl,this._blockCacheRegistryId)}createEmptyTilePixelBlock(e=null){const t=null==e||e.join(\",\")===this._tileInfoView.tileInfo.size.join(\",\");if(t&&s(this._emptyTilePixelBlock))return this._emptyTilePixelBlock;e=e||this._tileInfoView.tileInfo.size;const[i,r]=e,l=new y({width:i,height:r,pixels:[new Uint8Array(i*r)],mask:new Uint8Array(i*r),pixelType:\"u8\"});return t&&(this._emptyTilePixelBlock=l),l}_fetchTile1(e,t){const i=!r(t)&&t.signal,s=this.canUseWebGLForProcessing(),a={allowPartialFill:!0,datumTransformation:this.layerView.datumTransformation,interpolation:s?\"nearest\":this.layer.interpolation,registryId:this._blockCacheRegistryId,requestRawData:s,signal:l(i),srcResolution:this._srcResolutions[e.level],timeExtent:this.layerView.timeExtent,tileInfo:this.layerView.tileInfo};return this.fetchTile(e,a)}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.layerView.view.spatialReference,t=new u({x:this.layerView.fullExtent.xmin,y:this.layerView.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=w(this.layer.rasterInfo,e),l=p.create({spatialReference:e,size:512,scales:i});(0===l.origin.x||l.origin.x>t.x)&&(l.origin=t),this._isCustomTilingScheme=r,this.layerView.set(\"tileInfo\",l),this._srcResolutions=null!=s?s:[]}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.rasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key);this.notifyChange(\"updating\");const{bandIds:s}=this.layer;let r=!this.useProgressiveUpdate||this.layerView.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.layerView.moving&&0===this._fetchQueue.length){r=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(i){o(i)&&R.error(i)}this._globalUpdateRequested=!1}!this.canUseWebGLForProcessing()&&\"rasterVF\"!==this.type||this.layerView.hasTilingEffects||null!=this._symbolizerParams||this._updateSymbolizerParams();const l=this._tileInfoView.getTileCoords(v,e.key),a=this._tileInfoView.getTileResolution(e.key);await this.updateTileSource(e,{source:t,symbolizerParams:this._symbolizerParams,globalSymbolizerParams:this._globalSymbolizerParams,suspended:r,bandIds:s,coords:l,resolution:a}),e.once(\"attach\",(()=>this.layerView.requestUpdate())),this.container.addChild(e)}catch(i){o(i)||R.error(i)}this.layerView.requestUpdate()}}async _redrawImage(e){if(0===this.container.children.length)return;await this.updatingHandles.addPromise(this.layer.updateRenderer()),this.layerView.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const t=this.container.children.map((async e=>this.updateTileSymbolizerParameters(e,{local:this._symbolizerParams,global:this._globalSymbolizerParams})));await n(t),this.container.requestRender()}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this.previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.layerView.view.extent,this.layerView.view.width,this.layerView.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:f(i.pixelBlock,this.layer.bandIds),isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:this.previousLOD.resolution,y:this.previousLOD.resolution},bandIds:this.layer.bandIds});!this.canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:this.previousLOD.resolution,y:this.previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,raster:s}=this.layer,{multidimensionalDefinition:r}=this.layer.normalizeRasterFetchOptions({multidimensionalDefinition:this.layer.multidimensionalDefinition,timeExtent:this.layerView.timeExtent}),l=null!=i&&i.multidimensionalInfo?s.getSliceIndex(r):null,a=_(t,l);if(a!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&g(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=m(a,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.layerView.view.scale),t=this._srcResolutions[e.level];d(a,this._blockCacheRegistryId,this.layerView.view.extent,this.layerView.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=a}}async doRefresh(){await this.updatingHandles.addPromise(this.layer.updateRenderer()),this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset(),this.notifyChange(\"updating\");const e=[];this._tileStrategy.tiles.forEach((t=>e.push(this._enqueueTileFetch(t)))),await n(e)}};e([h()],T.prototype,\"_globalUpdateRequested\",void 0),e([h()],T.prototype,\"container\",void 0),e([h()],T.prototype,\"layer\",void 0),e([h()],T.prototype,\"layerView\",void 0),e([h()],T.prototype,\"type\",void 0),e([h()],T.prototype,\"useWebGLForProcessing\",null),e([h()],T.prototype,\"useProgressiveUpdate\",null),e([h()],T.prototype,\"updating\",null),T=e([c(\"esri.views.2d.layers.imagery.BaseImageryTileSubView2D\")],T);export{T as BaseImageryTileSubView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RasterTileContainer as i}from\"../../engine/RasterTileContainer.js\";import{BaseImageryTileSubView2D as o}from\"./BaseImageryTileSubView2D.js\";import{canUseMajorityInterpolationOnDataSource as l}from\"../support/util.js\";let n=class extends o{constructor(){super(...arguments),this.container=null,this.layer=null,this.type=\"raster\"}canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&l(this.layer))}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}async updateTileSource(e,t){const{bandIds:s}=this.layer,i=this._getLayerInterpolation(),o=this.canUseWebGLForProcessing(),{source:l,symbolizerParams:n,globalSymbolizerParams:a,suspended:c,coords:p,resolution:u}=t,{bitmap:d}=e;if([d.x,d.y]=p,d.resolution=u,l&&r(l)&&r(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};if(d.rawPixelData=e,o)d.source=l.pixelBlock,d.isRendereredSource=!1;else{const r=await this.layer.applyRenderer(e,\"stretch\"===(null==a?void 0:a.type)?a:null);d.source=r,d.isRendereredSource=!0}d.symbolizerParameters=o?n:null,o?d.transformGrid||(d.transformGrid=l.transformGrid):d.transformGrid=null}else{const e=this.createEmptyTilePixelBlock();d.source=e,d.symbolizerParameters=o?n:null,d.transformGrid=null}d.bandIds=o?s:null,d.width=this._tileInfoView.tileInfo.size[0],d.height=this._tileInfoView.tileInfo.size[1],d.interpolation=i,d.suspended=c,d.invalidateTexture()}async updateTileSymbolizerParameters(e,t){const{local:s,global:i}=t,{bandIds:o}=this.layer,l=this._getLayerInterpolation(),n=this.canUseWebGLForProcessing(),{bitmap:a}=e,{rawPixelData:c}=a;!n&&r(c)?(a.source=await this.layer.applyRenderer(c,\"stretch\"===(null==i?void 0:i.type)?i:null),a.isRendereredSource=!0):(a.isRendereredSource&&r(c)&&(a.source=c.pixelBlock),a.isRendereredSource=!1),a.symbolizerParameters=n?i||s:null,a.bandIds=n?o:null,a.interpolation=l,a.suspended=!1}install(e){this.container=new i(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this.container.remove(),super.uninstall()}_getLayerInterpolation(){const e=this.layer.renderer.type;if(\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e)return\"nearest\";const{interpolation:r}=this.layer,{renderer:t}=this.layer;return\"raster-stretch\"===t.type&&null!=t.colorRamp?\"bilinear\"===r||\"cubic\"===r?\"bilinear\":\"nearest\":r}};e([t()],n.prototype,\"container\",void 0),e([t()],n.prototype,\"layer\",void 0),e([t()],n.prototype,\"type\",void 0),n=e([s(\"esri.views.2d.layers.imagery.ImageryTileView2D\")],n);const a=n;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sampleVectorField as s}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFTileContainer as o}from\"../../engine/RasterVFTileContainer.js\";import{BaseImageryTileSubView2D as l}from\"./BaseImageryTileSubView2D.js\";let a=class extends l{constructor(){super(...arguments),this._handle=null,this.container=null,this.layer=null,this.type=\"rasterVF\"}canUseWebGLForProcessing(){return!1}async fetchTile(e,t){const i=await this.layer.fetchTile(e.level,e.row,e.col,t);return\"vector-magdir\"===this.layer.rasterInfo.dataType&&null!=i&&i.pixelBlock&&(i.pixelBlock=await this.layer.convertVectorFieldData(i.pixelBlock,t)),i}updateTileSource(e,i){const r=i.symbolizerParams,{tileData:s}=e;s.key=e.key,s.width=this._tileInfoView.tileInfo.size[0],s.height=this._tileInfoView.tileInfo.size[1];const{symbolTileSize:o}=r,{source:l}=i;if(s.offset=this._getTileSymbolOffset(s.key,o),t(l)&&t(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};s.rawPixelData=e,s.source=this._sampleVectorFieldData(l.pixelBlock,r,s.offset),s.symbolizerParameters=r}else{const e=[Math.round((this._tileInfoView.tileInfo[0]-s.offset[0])/o),Math.round((this._tileInfoView.tileInfo[1]-s.offset[1])/o)],t=this.createEmptyTilePixelBlock(e);s.source=t,s.symbolizerParameters=r}return s.invalidateVAO(),Promise.resolve(null)}updateTileSymbolizerParameters(e,i){var r;const s=i.local,{symbolTileSize:o}=s,{tileData:l}=e;l.offset=this._getTileSymbolOffset(l.key,o);const a=l.symbolizerParameters.symbolTileSize;return l.symbolizerParameters=s,t(null==(r=l.rawPixelData)?void 0:r.pixelBlock)&&a!==o&&(l.source=this._sampleVectorFieldData(l.rawPixelData.pixelBlock,l.symbolizerParameters,l.offset)),Promise.resolve(null)}install(e){this.container=new o(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,this._updateSymbolType(this.layer.renderer),this._handle=this.layer.watch(\"renderer\",(e=>this._updateSymbolType(e))),e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this._handle.remove(),this._handle=null,this.container.remove(),super.uninstall()}_getTileSymbolOffset(e,t){const i=e.col*this._tileInfoView.tileInfo.size[0]%t,r=e.row*this._tileInfoView.tileInfo.size[1]%t;return[i>t/2?t-i:-i,r>t/2?t-r:-r]}_sampleVectorFieldData(e,t,i){const{symbolTileSize:r}=t;return s(e,\"vector-uv\",r,i)}_updateSymbolType(e){\"vector-field\"===e.type&&(this.container.symbolTypes=\"wind-barb\"===e.style?[\"scalar\",\"triangle\"]:\"simple-scalar\"===e.style?[\"scalar\"]:[\"triangle\"])}};e([i()],a.prototype,\"container\",void 0),e([i()],a.prototype,\"layer\",void 0),e([i()],a.prototype,\"type\",void 0),a=e([r(\"esri.views.2d.layers.imagery.VectorFieldTileView2D\")],a);const n=a;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../../core/jsonMap.js\";const o=new t({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\",mesh:\"mesh\"});function e(t){return o.toJSON(t)}function n(t,o,e){const n=[],r=[];let l=0,i=0;for(const s of t){const t=i;let u=s[0][0],c=s[0][1];n[i++]=u,n[i++]=c;let p=0;for(let o=1;o<s.length;++o){const t=u,e=c;u=s[o][0],c=s[o][1],p+=c*t-u*e,n[i++]=u,n[i++]=c}o(p/2),p>0?(t-l>0&&(e(l,t,n,r),l=t),r.length=0):p<0&&t-l>0?r.push(.5*(t-l)):i=t}i-l>0&&e(l,i,n,r)}function r(t){const{bandCount:o,attributeTable:e,colormap:n,pixelType:r}=t.rasterInfo;return 1===o&&(null!=e||null!=n||\"u8\"===r||\"s8\"===r)}export{n as analyzeRings,r as canUseMajorityInterpolationOnDataSource,e as toJSONGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{isSome as i,isNone as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as n}from\"../../layers/support/commonProperties.js\";import{getDefaultDatumTransformationForDataset as l,projectExtent as u}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as p}from\"./support/popupUtils.js\";const m=m=>{let f=class extends m{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.fullExtent=null,this.tileInfo=null,this.datumTransformation=null}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}async fetchPopupFeatures(e,o){const{layer:s}=this;if(!e)return Promise.reject(new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s}));const{popupEnabled:a}=s,n=p(s,o);if(!a||!i(n))throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:n});const l=[],{value:u,magdirValue:m}=await s.identify(e,{timeExtent:this.timeExtent});let f=\"\";if(u&&u.length){var c,h;f=\"imagery-tile\"===s.type&&s.hasStandardTime()&&null!=u[0]?u.map((e=>s.getStandardTimeValue(e))).join(\", \"):u.join(\", \");const e={ObjectId:0},r=\"Raster.ServicePixelValue\";e[r]=this._formatAttributeValue(f,r);const i=null==(c=s.rasterInfo)||null==(h=c.attributeTable)?void 0:h.features;if(i&&i.length>0){const t=i.filter((e=>{const t=e.attributes.value||e.attributes.Value||e.attributes.VALUE;return String(t)===f}));if(t.length>0){const r=t[0];if(r)for(const t in r.attributes)if(r.attributes.hasOwnProperty(t)){const i=this._rasterFieldPrefix+t;e[i]=this._formatAttributeValue(r.attributes[t],i)}}}const o=s.rasterInfo.dataType;\"vector-magdir\"!==o&&\"vector-uv\"!==o||(e[\"Raster.Magnitude\"]=null==m?void 0:m[0],e[\"Raster.Direction\"]=null==m?void 0:m[1]);const a=new t(this.fullExtent.clone(),null,e);a.layer=s,a.sourceLayer=a.layer,l.push(a)}return l}updateFullExtent(){const e=this.layer.tileInfo;if(!(e&&e.spatialReference))return Promise.reject(new r(\"layerview:tiling-information-missing\",\"The layer doesn't provide tiling information\",{layer:this.layer}));if(o(this.layer.fullExtent))return Promise.reject(new r(\"layerview:extent-missing\",\"The layer doesn't provide a full extent.\",{layer:this.layer}));const t=l(this.layer.fullExtent,this.view.spatialReference,!1),i=u(this.layer.fullExtent,this.view.spatialReference,t);return null==i?Promise.reject(new r(\"layerview:projection-not-supported\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})):(this._set(\"fullExtent\",i),this.datumTransformation||(this.datumTransformation=l(this.layer.fullExtent,this.view.spatialReference,!0)),Promise.resolve())}_formatAttributeValue(e,t){if(\"string\"==typeof e){const r=this.layer.popupTemplate&&this.layer.popupTemplate.fieldInfos,i=this._getFieldInfo(r,t),o=i&&i.format;if(o){let t,r;return e.trim().indexOf(\",\")>-1?(t=\",\",r=t+\" \",this._formatDelimitedString(e,t,r,o)):e.trim().indexOf(\" \")>-1?(t=r=\" \",this._formatDelimitedString(e,t,r,o)):this._formatNumberFromString(e,o)}}return e}_getFieldInfo(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some((e=>!(!e.fieldName||e.fieldName.toLowerCase()!==r&&e.fieldName.toLowerCase()!==r.replace(/ /g,\"_\"))&&(i=e,!0))),i}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map((e=>this._formatNumberFromString(e,i))).join(r):e}_formatNumberFromString(e,t){if(!e||!t)return e;const r=Number(e);return isNaN(r)?e:t.format(r)}};return e([s()],f.prototype,\"layer\",void 0),e([s(n)],f.prototype,\"timeExtent\",void 0),e([s()],f.prototype,\"view\",void 0),e([s()],f.prototype,\"fullExtent\",void 0),e([s()],f.prototype,\"tileInfo\",void 0),e([s({readOnly:!0})],f.prototype,\"hasTilingEffects\",null),f=e([a(\"esri.views.layers.ImageryTileLayerView\")],f),f};export{m as ImageryTileLayerView,m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/watchUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o(this,\"layer\",\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as RefreshableLayerView,i as default};\n"],"names":["_","e","s","r","isAbortError","i","watch","t","init","o","property","a","subclass","n","u","LayerView2DMixin","h","l","p","canUseMajorityInterpolationOnDataSource","c","ImageryTileLayerView","d","m","RefreshableLayerView","w","v","getLogger","b","constructor","arguments","_useWebGLForProcessing","_useProgressiveUpdate","subview","initialize","updateFullExtent","addResolvingPromise","useWebGLForProcessing","useProgressiveUpdate","update","notifyChange","isUpdating","updating","attach","layer","increaseRasterJobHandlerUsage","_updateSubview","handles","add","type","redrawOrRefetch","catch","error","container","blendMode","effect","detach","remove","decreaseRasterJobHandlerUsage","uninstall","moveStart","requestUpdate","viewChange","moveEnd","hitTest","attributes","geometry","clone","doRefresh","renderer","layerView","previousLOD","install","prototype","y","default","HandleOwner","isSome","isNone","unwrap","debounce","eachAlways","unregister","g","register","getRasterId","extractBands","f","computeProjectedScales","P","C","I","V","R","T","_emptyTilePixelBlock","_tileStrategy","_tileInfoView","_fetchQueue","_blockCacheRegistryUrl","_blockCacheRegistryId","_srcResolutions","_needBlockCacheUpdate","_globalSymbolizerParams","_symbolizerParams","_abortController","_isCustomTilingScheme","_globalUpdateRequested","suspended","Promise","resolve","_redrawImage","_get","_set","destroy","removeAllChildren","_getCacheSize","cachePolicy","acquireTile","releaseTile","cacheSize","tileInfoView","pause","state","resume","extent","resolution","scale","getClosestInfoForScale","raster","level","toJSON","fromJSON","ioConfig","sampling","hasTilingEffects","_updateSymbolizerParams","updateCacheSize","abort","AbortController","length","signal","then","updatingHandles","supportsTextureFloat","_initializeTileInfo","tileInfo","fullExtent","_computeFetchConcurrency","concurrency","process","_fetchTile1","_updateBlockCacheRegistry","createTile","_enqueueTileFetch","key","id","removeChild","once","clear","createEmptyTilePixelBlock","join","size","width","height","pixels","Uint8Array","mask","pixelType","canUseWebGLForProcessing","allowPartialFill","datumTransformation","interpolation","registryId","requestRawData","srcResolution","timeExtent","fetchTile","view","spatialReference","x","xmin","ymax","scales","srcResolutions","isCustomTilingScheme","rasterInfo","create","origin","set","blockBoundary","storageInfo","maxCol","minCol","maxRow","minRow","has","push","bandIds","moving","getTileCoords","getTileResolution","updateTileSource","source","symbolizerParams","globalSymbolizerParams","coords","addChild","children","addPromise","updateRenderer","_updateGlobalSymbolizerParams","map","updateTileSymbolizerParameters","local","global","requestRender","fetchPixels","pixelBlock","symbolizer","generateWebGLParameters","isGCS","isGeographic","factor","outMin","Math","round","outMax","url","multidimensionalDefinition","normalizeRasterFetchOptions","multidimensionalInfo","getSliceIndex","reset","tiles","forEach","BaseImageryTileSubView2D","RasterTileContainer","canRenderInWebGL","row","col","_getLayerInterpolation","bitmap","rawPixelData","isRendereredSource","applyRenderer","symbolizerParameters","transformGrid","invalidateTexture","colorRamp","sampleVectorField","RasterVFTileContainer","_handle","dataType","convertVectorFieldData","tileData","symbolTileSize","offset","_getTileSymbolOffset","_sampleVectorFieldData","invalidateVAO","_updateSymbolType","symbolTypes","style","combinedViewLayerTimeExtentProperty","getDefaultDatumTransformationForDataset","projectExtent","getFetchPopupTemplate","_rasterFieldPrefix","dynamicRangeAdjustment","fetchPopupFeatures","reject","popupEnabled","popupTemplate","value","magdirValue","identify","hasStandardTime","getStandardTimeValue","ObjectId","_formatAttributeValue","attributeTable","features","filter","Value","VALUE","String","hasOwnProperty","sourceLayer","fieldInfos","_getFieldInfo","format","trim","indexOf","_formatDelimitedString","_formatNumberFromString","toLowerCase","some","fieldName","replace","split","Number","isNaN","readOnly"],"sourceRoot":"webpack:///"}