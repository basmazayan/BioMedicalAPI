{"version":3,"file":"932.d979ea8b6b8016668401.js","mappings":"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","sources":["./node_modules/@arcgis/core/views/2d/layers/GeoRSSLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../PopupTemplate.js\";import s from\"../../../core/Collection.js\";import{init as i}from\"../../../core/watchUtils.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/set.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../renderers/SimpleRenderer.js\";import{fromJSON as p}from\"../../../renderers/support/jsonUtils.js\";import a from\"../../../rest/support/FeatureSet.js\";import{LayerView2DMixin as l}from\"./LayerView2D.js\";import h from\"./graphics/GraphicContainer.js\";import n from\"./graphics/GraphicsView2D.js\";import c from\"../../layers/LayerView.js\";let m=class extends(l(c)){constructor(){super(...arguments),this._graphicsViewMap={},this._popupTemplates=new Map,this.graphicsViews=[]}async hitTest(e,r){if(!this.graphicsViews.length)return null;const s=this.graphicsViews.reverse().map((r=>r.hitTest(e)));return(await Promise.all(s)).flat().filter(((e,r)=>(e&&(e.popupTemplate=this._popupTemplates.get(this.graphicsViews[r]),e.layer=this.layer,e.sourceLayer=this.layer),!!e)))}update(e){if(this.graphicsViews)for(const r of this.graphicsViews)r.processUpdate(e)}attach(){this.handles.add([i(this.layer,\"featureCollections\",(e=>{this._clear();for(const{popupInfo:i,featureSet:t,layerDefinition:o}of e){const e=a.fromJSON(t),l=new s(e.features),c=o.drawingInfo,m=i?r.fromJSON(i):null,y=p(c.renderer),g=new n({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:l,renderer:y,container:new h(this.view.featuresTilingScheme)});this._graphicsViewMap[e.geometryType]=g,this._popupTemplates.set(g,m),\"polygon\"!==e.geometryType||this.layer.polygonSymbol?\"polyline\"!==e.geometryType||this.layer.lineSymbol?\"point\"!==e.geometryType||this.layer.pointSymbol||(this.layer.pointSymbol=y.symbol):this.layer.lineSymbol=y.symbol:this.layer.polygonSymbol=y.symbol,this.graphicsViews.push(g),this.container.addChild(g.container)}})),i(this.layer,\"polygonSymbol\",(e=>{this._graphicsViewMap.polygon.renderer=new o({symbol:e})})),i(this.layer,\"lineSymbol\",(e=>{this._graphicsViewMap.polyline.renderer=new o({symbol:e})})),i(this.layer,\"pointSymbol\",(e=>{this._graphicsViewMap.point.renderer=new o({symbol:e})}))],\"georsslayerview\")}detach(){this.handles.remove(\"georsslayerview\"),this._clear()}moveStart(){}moveEnd(){}viewChange(){for(const e of this.graphicsViews)e.viewChange()}_clear(){this.container.removeAllChildren();for(const e of this.graphicsViews)e.destroy();this._graphicsViewMap={},this._popupTemplates.clear(),this.graphicsViews.length=0}};m=e([t(\"esri.views.2d.layers.GeoRSSLayerView2D\")],m);const y=m;export{y as default};\n"],"names":["_","e","r","s","init","i","subclass","t","o","fromJSON","p","a","LayerView2DMixin","l","h","n","c","m","constructor","arguments","_graphicsViewMap","_popupTemplates","Map","graphicsViews","hitTest","length","reverse","map","Promise","all","flat","filter","popupTemplate","get","layer","sourceLayer","update","processUpdate","attach","handles","add","_clear","popupInfo","featureSet","layerDefinition","features","drawingInfo","y","renderer","g","requestUpdateCallback","requestUpdate","view","graphics","container","featuresTilingScheme","geometryType","set","polygonSymbol","lineSymbol","pointSymbol","symbol","push","addChild","polygon","polyline","point","detach","remove","moveStart","moveEnd","viewChange","removeAllChildren","destroy","clear","default"],"sourceRoot":"webpack:///"}