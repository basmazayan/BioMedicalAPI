"use strict";var C=Object.defineProperty,f=Object.defineProperties,v=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,d=(l,s,e)=>s in l?C(l,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[s]=e,y=(l,s)=>{for(var e in s||(s={}))m.call(s,e)&&d(l,e,s[e]);if(u)for(var e of u(s))j.call(s,e)&&d(l,e,s[e]);return l},E=(l,s)=>f(l,v(s));(self.webpackChunkbio_medical=self.webpackChunkbio_medical||[]).push([[6004],{66004:(l,s,e)=>{e.r(s),e.d(s,{default:()=>b});var c=e(79076),h=e(18502),D=e(11652),O=(e(22345),e(55865),e(45072),e(30627),e(72062),e(96410)),p=e(90589),M=e(93434);let o=class extends M.default{initialize(){this.handles.add([(0,D.S1)(this.view,"viewpoint",()=>this._update())])}_injectOverrides(r){let t=super._injectOverrides(r);const _=this.view.scale,i=this.layer.sublayers.filter(n=>function(r,t){return!r.visible||0!==r.minScale&&t>r.minScale||0!==r.maxScale&&t<r.maxScale}(n,_)).map(n=>n.subtypeCode);if(!i.length)return t;t=(0,h.pC)(t)?t:(new p.Z).toJSON();const a=`NOT ${this.layer.subtypeField} IN (${i.join(",")})`;return t.where=t.where?`(${t.where}) AND (${a})`:a,t}_setLayersForFeature(r){const t=this.layer.fieldsIndex.get(this.layer.subtypeField),_=r.attributes[t.name],i=this.layer.sublayers.find(a=>a.subtypeCode===_);r.layer=i,r.sourceLayer=this.layer}_createSchemaConfig(){const r={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map(a=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:a.labelingInfo,labelsVisible:a.labelsVisible,renderer:a.renderer,subtypeCode:a.subtypeCode,orderBy:null}))},t=this.layer.sublayers.map(a=>a.subtypeCode).join(","),_=this.layer.sublayers.length?`${this.layer.subtypeField} IN (${t})`:"1=2";let i=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return i+=_,E(y(y({},super._createSchemaConfig()),r),{definitionExpression:i})}};o=(0,c._)([(0,O.j)("esri.views.2d.layers.SubtypeGroupLayerView2D")],o);const b=o}}]);
//# sourceMappingURL=6004.eb4529103ec74dfe7c4a.js.map