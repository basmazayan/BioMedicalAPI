{"version":3,"mappings":"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","names":["constructor","this","ue","t","i","get","s","oe","n","h","pe","a","B","ce","where","clause","ge","u","x","missingFields","Se","split","alias","countDistinctValues","getAttributes","getFieldValue","e","getNormalizedValue","getExpressionValue","attributes","validateItem","validateItems","_processAttributesForOutFields","_processAttributesForDistinctValues","items","queryGeometry","definitionExpression","geometryType","hasM","hasZ","objectIdField","spatialReference","fieldsIndex","timeInfo","featureAdapter","aggregateAdapter","length","createQueryResponseForCount","outStatistics","groupByFieldsForStatistics","having","Map","r","o","Set","l","statisticType","onStatisticField","has","_getAttributeValues","push","set","_calculateUniqueValues","returnDistinctValues","data","join","add","size","createQueryResponse","some","_createExceedsLimitQueryResponse","_createStatisticsQueryResponse","_createFeatureQueryResponse","returnQueryGeometry","outSR","d","Pe","createSnappingResponse","R","y","point","distance","candidates","c","getPointCreator","m","getGeometry","coords","lengths","f","types","p","_","g","I","type","objectId","getObjectId","Math","sqrt","target","start","end","sort","z","executeAttributesQuery","Promise","resolve","isStandardized","testFeature","S","reject","TypeError","executeAggregateIdsQuery","aggregateIds","getFeatureObjectIds","forEach","filter","executeObjectIdsQuery","objectIds","executeTimeQuery","timeExtent","filterLatest","trackIdField","startTimeField","endTimeField","getAttribute","Array","from","values","project","map","cloneWithGeometry","createSummaryStatisticsResponse","field","valueExpression","normalizationField","normalizationType","normalizationTotal","minValue","maxValue","scale","isDateField","_getDataValues","value","fieldType","T","supportsNullCount","percentileParams","useSampleStdDev","createUniqueValuesResponse","domain","returnAllCodedValues","createClassBreaksResponse","classificationMethod","standardDeviationInterval","numClasses","V","F","createHistogramResponse","numBins","b","_sortFeatures","reverse","toLowerCase","outFields","quantizationParameters","resultRecordCount","resultOffset","returnZ","returnM","includes","fields","exceededTransferLimit","features","_createFeatures","objectIdFieldName","transform","orderByFields","returnGeometry","returnCentroid","maxAllowableOffset","geometry","centroid","getCentroid","slice","min","Number","POSITIVE_INFINITY","maxPointCount","maxRecordCount","maxVertexCount","reduce","name","sqlType","defaultValue","exceedslimit","outStatisticFieldName","count","itemPositions","_getPercentileValue","_getStatisticValue","returnDistinct","statisticParameters","orderBy","isDiscrete","v","_getAttributeNormalizedValues","fieldInfo","normalizationFieldInfo","_getAttributeExpressionValues","arcadeUtils","A","createFunction","getViewInfo","compiledFunc","viewInfo","viewingMode","max","N","H","D","J","capabilities","query","k","featureStore","_changeHandle","events","on","clearCache","cacheSpatialQueries","_geometryQueryCache","q","scheduler","priority","_frameTask","registerTask","destroy","fullBounds","xmin","ymin","xmax","ymax","O","_timeExtent","clear","_allItems","executeQuery","_schedule","_reschedule","_checkQuerySupport","_executeGeometryQuery","P","executeQueryForCount","executeQueryForExtent","extent","$","forEachBounds","isFinite","zmin","zmax","j","executeQueryForIds","executeQueryForIdSet","then","executeQueryForSnapping","w","signal","_searchFeatures","_getQueryBBoxes","toJSON","Ge","executeQueryForLatestObservations","executeQueryForSummaryStatistics","_getQueryEngineResultForStats","executeQueryForUniqueValues","executeQueryForClassBreaks","executeQueryForHistogram","schedule","M","reschedule","_getAll","spatialRel","Q","JSON","stringify","spatialRelationship","outSpatialReference","put","_runSpatialFilter","_canExecuteSoloPass","madeProgress","done","C","rings","forEachInBounds","_checkStatisticsSupport","geometryPrecision","multipatchOption","pixelSize","relationParam","text","all","_checkAttributesQuerySupport","_checkStatisticsParamsSupport","G","extractFieldNames","params","_checkStatisticsQuerySupport","indexOf","aggregateType","every","E","definition","supportsStatistics","W","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","te","bind","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","U","Object","freeze","trim","Z","test","units","fromJSON","geodesicBuffer","parse","classBreaksDef","L","super","json","write","read","reader","esriClassifyEqualInterval","de","esriNormalizeByLog","ye","ie","uniqueValues","mean","sbMean","be","Re","Ve","avg","xe","uniqueValueInfos","classBreaks","le","bins"],"sources":["./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js","./node_modules/@arcgis/core/core/sql/WhereClauseCache.js","./node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js","./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js","./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js","./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","./node_modules/@arcgis/core/layers/graphics/contains.js","./node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js","./node_modules/@arcgis/core/geometry/support/intersects.js","./node_modules/@arcgis/core/layers/graphics/data/timeSupport.js","./node_modules/@arcgis/core/layers/graphics/data/utils.js","./node_modules/@arcgis/core/rest/support/ClassificationDefinition.js","./node_modules/@arcgis/core/rest/support/ClassBreaksDefinition.js","./node_modules/@arcgis/core/rest/support/generateRendererUtils.js","./node_modules/@arcgis/core/statistics/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{WhereClauseCache as i}from\"../../../core/sql/WhereClauseCache.js\";const s=new i(50,500),n=\"feature-store:unsupported-query\",t=\" as \",r=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\",\"esriFieldTypeDate\"]);function o(i,t){if(!t)return!0;const r=s.get(t,i);if(!r)throw new e(n,\"invalid SQL expression\",{where:t});if(!r.isStandardized)throw new e(n,\"where clause is not standard\",{where:t});return c(i,r.fieldNames,\"where clause contains missing fields\"),!0}function a(i,t,r){if(!t)return!0;const o=s.get(t,i);if(!o)throw new e(n,\"invalid SQL expression\",{having:t});if(!o.isAggregate)throw new e(n,\"having does not contain a valid aggregate function\",{having:t});const a=o.fieldNames;c(i,a,\"having contains missing fields\");if(!o.getExpressions().every((e=>{const{aggregateType:s,field:n}=e,t=i.has(n)&&i.get(n).name;return r.some((e=>{const{onStatisticField:n,statisticType:r}=e;return(i.has(n)&&i.get(n).name)===t&&r.toLowerCase().trim()===s}))})))throw new e(n,\"expressions in having should also exist in outStatistics\",{having:t});return!0}function l(e,i){return e?s.get(e,i):null}function c(i,s,t,r=!0){const o=[];for(const u of s)if(\"*\"!==u&&!i.has(u))if(r){const s=d(u);try{const t=l(s,i);if(!t)throw new e(n,\"invalid SQL expression\",{where:s});if(!t.isStandardized)throw new e(n,\"expression is not standard\",{clause:t});c(i,t.fieldNames,\"expression contains missing fields\")}catch(a){const e=a&&a.details;if(e&&(e.clause||e.where))throw a;e&&e.missingFields?o.push(...e.missingFields):o.push(u)}}else o.push(u);if(o.length)throw new e(n,t,{missingFields:o})}function d(e){return e.split(t)[0]}function u(e){return e.split(t)[1]}function f(e,i){const s=i.get(e);return!!s&&!r.has(s.type)}export{u as getAliasFromFieldName,d as getExpressionFromFieldName,l as getWhereClause,f as hasInvalidFieldType,c as validateFields,a as validateHaving,o as validateWhere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../ItemCache.js\";import{WhereClause as e}from\"./WhereClause.js\";class c{constructor(e,c){this._cache=new t(e),this._invalidCache=new t(c)}get(t,c){const i=`${c.uid}:${t}`,r=this._cache.get(i);if(r)return r;if(void 0!==this._invalidCache.get(i))return null;try{const r=e.create(t,c);return this._cache.put(i,r),r}catch{return this._invalidCache.put(i,null),null}}}export{c as WhereClauseCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{getExpressionFromFieldName as e,getWhereClause as s,getAliasFromFieldName as i}from\"./attributeSupport.js\";import{getNormalizedValue as a}from\"../../../statistics/utils.js\";class r{constructor(t,a,r){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=t.returnDistinctValues,this.fieldsIndex=r,this.featureAdapter=a;const l=t.outFields;if(l&&-1===l.indexOf(\"*\")){this.outFields=l;let t=0;for(const a of l){const l=e(a),u=this.fieldsIndex.get(l),n=u?null:s(l,r),c=u?u.name:i(a)||\"FIELD_EXP_\"+t++;this._fieldDataCache.set(a,{alias:c,clause:n})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,e,i){const a=i?i.name:e;let r=null;return this._fieldDataCache.has(a)?r=this._fieldDataCache.get(a).clause:i||(r=s(e,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:r})),i?this.featureAdapter.getAttribute(t,a):r.calculateValue(t,this.featureAdapter)}getNormalizedValue(t,e){const s=e.normalizationType,i=e.normalizationTotal;let r=this.getFieldValue(t,e.field,e.fieldInfo);if(s&&Number.isFinite(r)){const l=this.getFieldValue(t,e.normalizationField,e.normalizationFieldInfo);r=a(r,s,l,i)}return r}getExpressionValue(t,e,s){const i={attributes:this.featureAdapter.getAttributes(t)},a=s.createExecContext(i,e.viewInfo);return s.executeFunction(e.compiledFunc,a)}validateItem(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:s(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testFeature(t,this.featureAdapter)}validateItems(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:s(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testSet(t,this.featureAdapter)}_processAttributesForOutFields(t){const e=this.outFields;if(!e||!e.length)return this.featureAdapter.getAttributes(t);const s={};for(const i of e){const{alias:e,clause:a}=this._fieldDataCache.get(i);s[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return s}_processAttributesForDistinctValues(e){if(t(e)||!this.returnDistinctValues)return e;const s=this.outFields,i=[];if(s)for(const t of s){const{alias:s}=this._fieldDataCache.get(t);i.push(e[s])}else for(const t in e)i.push(e[t]);const a=`${(s||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let r=this._returnDistinctMap.get(a)||0;return this._returnDistinctMap.set(a,++r),r>1?null:e}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../core/maybe.js\";import{toQuantizationTransform as i}from\"../../../geometry/support/quantizationUtils.js\";import{isValid as s,equals as a}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as r}from\"../featureConversionUtils.js\";import n from\"./AttributesBuilder.js\";import{getWhereClause as o}from\"./attributeSupport.js\";import{project as l,projectMany as u}from\"./projectionSupport.js\";import{getTimeOperator as c}from\"./timeSupport.js\";import{cleanFromGeometryEngine as d,getGeometry as m,transformCentroid as h}from\"./utils.js\";import{isStringField as f}from\"../../support/fieldUtils.js\";import{isNullCountSupported as p,calculateStringStatistics as y,calculateStatistics as g,processSummaryStatisticsResult as I,calculateUniqueValuesCount as x,createUVResult as T,calculateClassBreaks as V,resolveCBResult as F,calculateHistogram as b,getAttributeComparator as z,calculatePercentile as v}from\"../../../statistics/utils.js\";import{loadArcade as A}from\"../../../support/arcadeOnDemand.js\";class S{constructor(e,t,i){this.items=e,this.queryGeometry=t,this.definitionExpression=i.definitionExpression,this.geometryType=i.geometryType,this.hasM=i.hasM,this.hasZ=i.hasZ,this.objectIdField=i.objectIdField,this.spatialReference=i.spatialReference,this.fieldsIndex=i.fieldsIndex,this.timeInfo=i.timeInfo,this.featureAdapter=i.featureAdapter,this.aggregateAdapter=i.aggregateAdapter}get size(){return this.items.length}createQueryResponseForCount(e){const t=new n(e,this.featureAdapter,this.fieldsIndex);if(!e.outStatistics)return t.countDistinctValues(this.items);const{groupByFieldsForStatistics:i,having:s}=e;if(!!!(null==i?void 0:i.length))return 1;const a=new Map,r=new Map,o=new Set,l=e.outStatistics;for(const n of l){const{statisticType:e}=n,l=\"exceedslimit\"!==e?n.onStatisticField:void 0;if(!r.has(l)){const e=[];for(const s of i){const i=this._getAttributeValues(t,s,a);e.push(i)}r.set(l,this._calculateUniqueValues(e,t.returnDistinctValues))}const u=r.get(l);for(const i in u){const{data:e,items:a}=u[i],r=e.join(\",\");s&&!t.validateItems(a,s)||o.add(r)}}return o.size}createQueryResponse(e){let t;if(e.outStatistics){t=e.outStatistics.some((e=>\"exceedslimit\"===e.statisticType))?this._createExceedsLimitQueryResponse(e):this._createStatisticsQueryResponse(e)}else t=this._createFeatureQueryResponse(e);return e.returnQueryGeometry&&(s(e.outSR)&&!a(this.queryGeometry.spatialReference,e.outSR)?t.queryGeometry=d({spatialReference:e.outSR,...l(this.queryGeometry,this.queryGeometry.spatialReference,e.outSR)}):t.queryGeometry=d({spatialReference:e.outSR,...this.queryGeometry})),t}createSnappingResponse(t,i){const s=this.featureAdapter,a=R(this.hasZ,this.hasM),{x:r,y:n}=t.point,o=\"number\"==typeof t.distance?t.distance:t.distance.x,l=\"number\"==typeof t.distance?t.distance:t.distance.y,u={candidates:[]},c=\"esriGeometryPolygon\"===this.geometryType,d=this.getPointCreator(t.point,this.spatialReference,i);for(const m of this.items){const i=s.getGeometry(m);if(e(i))continue;const{coords:h,lengths:f}=i;if(1&t.types){let e=0;for(let t=0;t<f.length;t++){const i=f[t];for(let t=0;t<i;t++,e+=a){const c=h[e],f=h[e+1];if(t!==i-1){const t=h[e+a],i=h[e+a+1],{x:p,y}=_(r,n,c,f,t,i),g=(r-p)/o,I=(n-y)/l,x=g*g+I*I;x<=1&&u.candidates.push({type:\"edge\",objectId:s.getObjectId(m),distance:Math.sqrt(x),target:d(p,y),start:d(c,f),end:d(t,i)})}}}}if(2&t.types){const e=c?h.length-a:h.length;for(let t=0;t<e;t+=a){const e=h[t],i=h[t+1],a=(r-e)/o,c=(n-i)/l,f=a*a+c*c;f<=1&&u.candidates.push({type:\"vertex\",objectId:s.getObjectId(m),distance:Math.sqrt(f),target:d(e,i)})}}}return u.candidates.sort(((e,t)=>e.distance-t.distance)),u}getPointCreator(e,i,s){const r=t(s)&&!a(i,s)?e=>l(e,i,s):e=>e;return null!=e.z&&null!=e.m?(t,i)=>r({x:t,y:i,z:e.z,m:e.m}):null!=e.z?(t,i)=>r({x:t,y:i,z:e.z}):null!=e.m?(t,i)=>r({x:t,y:i,m:e.m}):(e,t)=>r({x:e,y:t})}executeAttributesQuery(e){const t=o(e.where,this.fieldsIndex);if(!t)return Promise.resolve(this);if(t.isStandardized){let i=0;const s=[];for(const e of this.items)t.testFeature(e,this.featureAdapter)&&(s[i++]=e);const a=new S(s,this.queryGeometry,this);return a.definitionExpression=e.where,Promise.resolve(a)}return Promise.reject(new TypeError(\"Where clause is not standardized\"))}executeAggregateIdsQuery(t){if(!t.aggregateIds||!t.aggregateIds.length||e(this.aggregateAdapter))return Promise.resolve(this);const i=new Set;for(const e of t.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(e).forEach((e=>i.add(e)))}const s=this.featureAdapter.getObjectId;return Promise.resolve(new S(this.items.filter((e=>i.has(s(e)))),this.queryGeometry,this))}executeObjectIdsQuery(e){if(!e.objectIds||!e.objectIds.length)return Promise.resolve(this);const t=new Set(e.objectIds),i=this.featureAdapter.getObjectId;return Promise.resolve(new S(this.items.filter((e=>t.has(i(e)))),this.queryGeometry,this))}executeTimeQuery(e){const i=c(this.timeInfo,e.timeExtent,this.featureAdapter);if(!t(i))return Promise.resolve(this);const s=this.items.filter(i);return Promise.resolve(new S(s,this.queryGeometry,this))}filterLatest(){const{trackIdField:e,startTimeField:t,endTimeField:i}=this.timeInfo,s=i||t,a=new Map,r=this.featureAdapter.getAttribute;for(const o of this.items){const t=r(o,e),i=r(o,s),n=a.get(t);(!n||i>r(n,s))&&a.set(t,o)}const n=Array.from(a.values());return Promise.resolve(new S(n,this.queryGeometry,this))}async project(e){if(!e||a(this.spatialReference,e))return this;const t=this.featureAdapter,i=(await u(this.items.map((e=>m(this.geometryType,this.hasZ,this.hasM,t.getGeometry(e)))),this.spatialReference,e)).map(((e,i)=>t.cloneWithGeometry(this.items[i],r(e,this.hasZ,this.hasM))));return new S(i,this.queryGeometry,{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:e,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})}async createSummaryStatisticsResponse(e,t){const{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,minValue:o,maxValue:l,scale:u}=t,c=this.fieldsIndex.isDateField(i),d=await this._getDataValues(e,{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,scale:u}),m=p({normalizationType:r,normalizationField:a,minValue:o,maxValue:l}),h=this.fieldsIndex.get(i),x={value:.5,fieldType:null==h?void 0:h.type},T=f(h)?y({values:d,supportsNullCount:m,percentileParams:x}):g({values:d,minValue:o,maxValue:l,useSampleStdDev:!r,supportsNullCount:m,percentileParams:x});return I(T,c)}async createUniqueValuesResponse(e,t){const{field:i,valueExpression:s,domain:a,returnAllCodedValues:r,scale:n}=t,o=await this._getDataValues(e,{field:i,valueExpression:s,scale:n}),l=x(o);return T(l,a,r)}async createClassBreaksResponse(e,t){const{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,classificationMethod:o,standardDeviationInterval:l,minValue:u,maxValue:c,numClasses:d,scale:m}=t,h=await this._getDataValues(e,{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,scale:m}),f=V(h,{field:i,normalizationField:a,normalizationType:r,normalizationTotal:n,classificationMethod:o,standardDeviationInterval:l,minValue:u,maxValue:c,numClasses:d});return F(f,o)}async createHistogramResponse(e,t){const{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,classificationMethod:o,standardDeviationInterval:l,minValue:u,maxValue:c,numBins:d,scale:m}=t,h=await this._getDataValues(e,{field:i,valueExpression:s,normalizationField:a,normalizationType:r,normalizationTotal:n,scale:m});return b(h,{field:i,normalizationField:a,normalizationType:r,normalizationTotal:n,classificationMethod:o,standardDeviationInterval:l,minValue:u,maxValue:c,numBins:d})}_sortFeatures(e,t,i){if(e.length>1&&t&&t.length)for(const s of t.reverse()){const t=s.split(\" \"),a=t[0],r=this.fieldsIndex.get(a),n=t[1]&&\"desc\"===t[1].toLowerCase(),o=z(null==r?void 0:r.type,n);e.sort(((e,t)=>{const s=i(e,a,r),n=i(t,a,r);return o(s,n)}))}}_createFeatureQueryResponse(e){const t=this.items,{geometryType:s,hasM:a,hasZ:r,objectIdField:n,spatialReference:o}=this,{outFields:l,outSR:u,quantizationParameters:c,resultRecordCount:m,resultOffset:h,returnZ:f,returnM:p}=e,y=null!=m&&t.length>(h||0)+m,g=l&&(l.includes(\"*\")?[...this.fieldsIndex.fields]:l.map((e=>this.fieldsIndex.get(e))));return{exceededTransferLimit:y,features:this._createFeatures(e,t),fields:g,geometryType:s,hasM:a&&p,hasZ:r&&f,objectIdFieldName:n,spatialReference:d(u||o),transform:c&&i(c)||null}}_createFeatures(e,t){const s=new n(e,this.featureAdapter,this.fieldsIndex),{hasM:a,hasZ:r}=this,{orderByFields:o,quantizationParameters:l,returnGeometry:u,returnCentroid:c,maxAllowableOffset:d,resultOffset:f,resultRecordCount:p,returnZ:y=!1,returnM:g=!1}=e,I=r&&y,x=a&&g;let T=[],V=0;const F=[...t];if(this._sortFeatures(F,o,((e,t,i)=>s.getFieldValue(e,t,i))),u||c){const e=i(l);if(u&&!c)for(const t of F)T[V++]={attributes:s.getAttributes(t),geometry:m(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),d,e,I,x)};else if(!u&&c)for(const t of F)T[V++]={attributes:s.getAttributes(t),centroid:h(this,this.featureAdapter.getCentroid(t,this),e)};else for(const t of F)T[V++]={attributes:s.getAttributes(t),centroid:h(this,this.featureAdapter.getCentroid(t,this),e),geometry:m(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),d,e,I,x)}}else for(const i of F){const e=s.getAttributes(i);e&&(T[V++]={attributes:e})}const b=f||0;if(null!=p){const e=b+p;T=T.slice(b,Math.min(T.length,e))}return T}_createExceedsLimitQueryResponse(e){let i=!1,s=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const t of e.outStatistics)if(\"exceedslimit\"===t.statisticType){s=null!=t.maxPointCount?t.maxPointCount:Number.POSITIVE_INFINITY,a=null!=t.maxRecordCount?t.maxRecordCount:Number.POSITIVE_INFINITY,r=null!=t.maxVertexCount?t.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)i=this.items.length>s;else if(this.items.length>a)i=!0;else{const e=this.hasZ?this.hasM?4:3:this.hasM?3:2,s=this.featureAdapter;i=this.items.reduce(((e,i)=>{const a=s.getGeometry(i);return e+(t(a)&&a.coords.length||0)}),0)/e>r}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(i)}}]}}_createStatisticsQueryResponse(e){const t={attributes:{}},i=[],s=new Map,a=new Map,r=new Map,o=new Map,l=new n(e,this.featureAdapter,this.fieldsIndex),u=e.outStatistics,{groupByFieldsForStatistics:c,having:d,orderByFields:m}=e,h=c&&c.length,f=!!h,p=f&&c[0],y=f&&!this.fieldsIndex.get(p);for(const n of u){const{outStatisticFieldName:e,statisticType:u}=n,m=n,g=\"exceedslimit\"!==u?n.onStatisticField:void 0,I=\"percentile_disc\"===u||\"percentile_cont\"===u,x=f&&1===h&&(g===p||y)&&\"count\"===u;if(f){if(!r.has(g)){const e=[];for(const t of c){const i=this._getAttributeValues(l,t,s);e.push(i)}r.set(g,this._calculateUniqueValues(e,l.returnDistinctValues))}const t=r.get(g);for(const i in t){const{count:a,data:r,items:n,itemPositions:u}=t[i],h=r.join(\",\");if(!d||l.validateItems(n,d)){const t=o.get(h)||{attributes:{}};let i=null;if(x)i=a;else{const e=this._getAttributeValues(l,g,s),t=u.map((t=>e[t]));i=I&&\"statisticParameters\"in m?this._getPercentileValue(m,t):this._getStatisticValue(m,t,null,l.returnDistinctValues)}t.attributes[e]=i,c.forEach(((e,i)=>t.attributes[this.fieldsIndex.get(e)?e:`EXPR_${i+1}`]=r[i])),o.set(h,t)}}}else{const i=this._getAttributeValues(l,g,s);t.attributes[e]=I&&\"statisticParameters\"in m?this._getPercentileValue(m,i):this._getStatisticValue(m,i,a,l.returnDistinctValues)}i.push({name:e,alias:e,type:\"esriFieldTypeDouble\"})}const g=f?Array.from(o.values()):[t];return this._sortFeatures(g,m,((e,t)=>e.attributes[t])),{fields:i,features:g}}_getStatisticValue(e,t,i,s){const{onStatisticField:a,statisticType:r}=e;let n=null;n=null!=i&&i.has(a)?i.get(a):f(this.fieldsIndex.get(a))?y({values:t,returnDistinct:s}):g({values:t,minValue:null,maxValue:null,useSampleStdDev:!0}),i&&i.set(a,n);return n[\"var\"===r?\"variance\":r]}_getPercentileValue(e,t){const{onStatisticField:i,statisticParameters:s,statisticType:a}=e,{value:r,orderBy:n}=s,o=this.fieldsIndex.get(i),l={value:r,orderBy:n,fieldType:null==o?void 0:o.type,isDiscrete:\"percentile_disc\"===a};return v(t,l)}_getAttributeValues(e,t,i){if(i.has(t))return i.get(t);const s=this.fieldsIndex.get(t),a=this.items.map((i=>e.getFieldValue(i,t,s)));return i.set(t,a),a}_getAttributeNormalizedValues(e,t){return this.items.map((i=>e.getNormalizedValue(i,{field:t.field,fieldInfo:this.fieldsIndex.get(t.field),normalizationField:t.normalizationField,normalizationFieldInfo:this.fieldsIndex.get(t.normalizationField),normalizationType:t.normalizationType,normalizationTotal:t.normalizationTotal})))}async _getAttributeExpressionValues(e,t,i){const{arcadeUtils:s}=await A(),a=s.createFunction(t),r=i&&s.getViewInfo(i);return this.items.map((t=>e.getExpressionValue(t,{compiledFunc:a,viewInfo:r},s)))}_calculateUniqueValues(e,t){const i={},s=this.items,a=s.length;for(let r=0;r<a;r++){const a=s[r],n=[];for(const t of e)n.push(t[r]);const o=n.join(\",\");t?null==i[o]&&(i[o]={count:1,data:n,items:[a],itemPositions:[r]}):null==i[o]?i[o]={count:1,data:n,items:[a],itemPositions:[r]}:(i[o].count++,i[o].items.push(a),i[o].itemPositions.push(r))}return i}async _getDataValues(e,t){const i=new n(e,this.featureAdapter,this.fieldsIndex),{valueExpression:s,field:a,normalizationField:r,normalizationType:o,normalizationTotal:l,scale:u}=t,c=s?{viewingMode:\"map\",scale:u,spatialReference:e.outSR||this.spatialReference}:null;return s?this._getAttributeExpressionValues(i,s,c):this._getAttributeNormalizedValues(i,{field:a,normalizationField:r,normalizationType:o,normalizationTotal:l})}}function _(e,t,i,s,a,r){const n=a-i,o=r-s,l=n*n+o*o,u=(e-i)*n+(t-s)*o,c=Math.min(1,Math.max(0,u/l));return{x:i+n*c,y:s+o*c}}function R(e,t){return e?t?4:3:t?3:2}export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{clone as t}from\"../../../core/lang.js\";import{removeMaybe as i,destroyMaybe as s,isNone as r,isSome as a,isUndefined as n}from\"../../../core/maybe.js\";import{MemCacheStorage as u,MemCache as o}from\"../../../core/MemCache.js\";import{getMetersPerUnitForSR as c}from\"../../../core/unitUtils.js\";import{create as h,set as l,NEGATIVE_INFINITY as p,expandWithAABB as d}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as y,create as m}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as f}from\"../../../geometry/support/boundsUtils.js\";import{fromJSON as x,isExtent as _,isPolygon as g}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as w}from\"../../../geometry/support/normalizeUtils.js\";import{equals as S,isValid as Q}from\"../../../geometry/support/spatialReferenceUtils.js\";import{validateFields as R,validateWhere as F,validateHaving as I,hasInvalidFieldType as E}from\"./attributeSupport.js\";import{project as j,checkProjectionSupport as b}from\"./projectionSupport.js\";import{queryCapabilities as k}from\"./QueryEngineCapabilities.js\";import A from\"./QueryEngineResult.js\";import{getSpatialQueryOperator as z,canQueryWithRBush as C,checkSpatialQuerySupport as T}from\"./spatialQuerySupport.js\";import{getTimeExtent as B}from\"./timeSupport.js\";import{cleanFromGeometryEngine as O,normalizeQuery as v,QUERY_ENGINE_EMPTY_RESULT as P}from\"./utils.js\";import q from\"../../support/FieldsIndex.js\";import{loadArcade as G}from\"../../../support/arcadeOnDemand.js\";import{noBudget as M}from\"../../../views/support/Scheduler.js\";function U(e){return e.every((e=>\"exceedslimit\"!==e.statisticType))}const N=\"feature-store:unsupported-query\";class Z{constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const H=new Set,D=new u(2e6);let J=0;class L{constructor(e){this.capabilities={query:k},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new o(J+++\"$$\",D)),this.fieldsIndex=new q(e.fields),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._frameTask=i(this._frameTask),this.clearCache(),s(this._geometryQueryCache),this._changeHandle=i(this._changeHandle),s(this.fieldsIndex)}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return e?{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:O(this.spatialReference)}:null}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=B(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache&&this._geometryQueryCache.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(e={},i){let s,r=t(e);try{r=await this._schedule((()=>v(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i)}catch(a){if(a!==P)throw a;s=new A([],null,this)}return s.createQueryResponse(r)}async executeQueryForCount(e={},i){let s=t(e);s.returnGeometry=!1,s.returnCentroid=!1,s.outSR=null;try{s=await this._schedule((()=>v(s,this.definitionExpression,this.spatialReference)),i),s=await this._reschedule((()=>this._checkQuerySupport(s)),i);let e=await this._reschedule((()=>this._executeGeometryQuery(s,i)),i);return e=await this._reschedule((()=>e.executeAggregateIdsQuery(s)),i),e=await this._reschedule((()=>e.executeObjectIdsQuery(s)),i),e=await this._reschedule((()=>e.executeTimeQuery(s)),i),e=await this._reschedule((()=>e.executeAttributesQuery(s)),i),e.createQueryResponseForCount(s)}catch(r){if(r!==P)throw r;return 0}}async executeQueryForExtent(e={},i){let s,r=t(e);const a=r.outSR;try{r=await this._schedule((()=>v(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),r.returnGeometry=!0,r.returnCentroid=!1,r.outSR=null,s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.size;if(!e)return{count:e,extent:null};l($,p),this.featureStore.forEachBounds(s.items,(e=>d($,e)),V);const t={xmin:$[0],ymin:$[1],xmax:$[3],ymax:$[4],spatialReference:O(this.spatialReference)};this.hasZ&&isFinite($[2])&&isFinite($[5])&&(t.zmin=$[2],t.zmax=$[5]);const n=j(t,s.spatialReference,a);if(n.spatialReference=O(a||this.spatialReference),n.xmax-n.xmin==0){const e=c(n.spatialReference);n.xmin-=e,n.xmax+=e}if(n.ymax-n.ymin==0){const e=c(n.spatialReference);n.ymin-=e,n.ymax+=e}if(this.hasZ&&null!=n.zmin&&null!=n.zmax&&n.zmax-n.zmin==0){const e=c(n.spatialReference);n.zmin-=e,n.zmax+=e}return{count:e,extent:n}}catch(n){if(n===P)return{count:0,extent:null};throw n}}async executeQueryForIds(e={},t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e={},i){let s,r=t(e);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>v(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.items,t=new Set;return await this._reschedule((()=>{for(const i of e)t.add(s.featureAdapter.getObjectId(i))}),i),t}catch(a){if(a===P)return new Set;throw a}}async executeQueryForSnapping(e,t){const{point:i,distance:s,types:a}=e;if(0===a)return{candidates:[]};const n=await this._reschedule((()=>this._checkQuerySupport(e.query)),t),u=!S(i.spatialReference,this.spatialReference);u&&await b(i.spatialReference,this.spatialReference);const o=\"number\"==typeof s?s:s.x,c=\"number\"==typeof s?s:s.y,h={xmin:i.x-o,xmax:i.x+o,ymin:i.y-c,ymax:i.y+c,spatialReference:i.spatialReference},l=u?j(h,this.spatialReference):h;if(!l)return{candidates:[]};const p=(await w(x(i),null,{signal:t}))[0],d=(await w(x(l),null,{signal:t}))[0];if(r(p)||r(d))return{candidates:[]};let y=new A(this._searchFeatures(this._getQueryBBoxes(d.toJSON())),null,this);y=await this._reschedule((()=>y.executeObjectIdsQuery(n)),t),y=await this._reschedule((()=>y.executeTimeQuery(n)),t),y=await this._reschedule((()=>y.executeAttributesQuery(n)),t);const m=p.toJSON(),f=u?j(m,this.spatialReference):m,_=u?Math.max(l.xmax-l.xmin,l.ymax-l.ymin)/2:s;return y.createSnappingResponse({...e,point:f,distance:_},i.spatialReference)}async executeQueryForLatestObservations(i={},s){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new e(N,\"Missing timeInfo or timeInfo.trackIdField\",{query:i,timeInfo:this.timeInfo});let r,a=t(i);try{a=await this._schedule((()=>v(a,this.definitionExpression,this.spatialReference)),s),a=await this._reschedule((()=>this._checkQuerySupport(a)),s),r=await this._reschedule((()=>this._executeGeometryQuery(a,s)),s),r=await this._reschedule((()=>r.executeAggregateIdsQuery(a)),s),r=await this._reschedule((()=>r.executeObjectIdsQuery(a)),s),r=await this._reschedule((()=>r.executeTimeQuery(a)),s),r=await this._reschedule((()=>r.executeAttributesQuery(a)),s),r=await this._reschedule((()=>r.filterLatest()),s)}catch(n){if(n!==P)throw n;r=new A([],null,this)}return r.createQueryResponse(a)}async executeQueryForSummaryStatistics(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createSummaryStatisticsResponse(e,t)}async executeQueryForUniqueValues(e={},t,i){const{field:s,valueExpression:r}=t;return(await this._getQueryEngineResultForStats(e,{field:s,valueExpression:r},i)).createUniqueValuesResponse(e,t)}async executeQueryForClassBreaks(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createClassBreaksResponse(e,t)}async executeQueryForHistogram(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createHistogramResponse(e,t)}async _schedule(e,t){return a(this._frameTask)?this._frameTask.schedule(e,t):e(M)}async _reschedule(e,t){return a(this._frameTask)?this._frameTask.reschedule(e,t):e(M)}_getAll(){if(!this._allItems){const e=[];this.featureStore.forEach((t=>e.push(t))),this._allItems=new A(e,null,this)}return this._allItems}async _executeGeometryQuery(e,t){const{geometry:i,outSR:s,spatialRel:r,returnGeometry:a,returnCentroid:u}=e,o=a||u,c=Q(s)&&!S(this.spatialReference,s),h=this._geometryQueryCache?c&&o?JSON.stringify({geometry:i,spatialRelationship:r,outSpatialReference:s}):JSON.stringify({geometry:i,spatialRelationship:r}):null;if(h){const e=this._geometryQueryCache.get(h);if(!n(e))return e}const l=async e=>{if(c&&o){const t=await e.project(s);return h&&this._geometryQueryCache.put(h,t,t.size||1),t}return h&&this._geometryQueryCache.put(h,e,e.size||1),e};if(!i)return l(this._getAll());const p=this.featureAdapter;if(\"esriSpatialRelDisjoint\"===r){const e=this._searchFeatures(this._getQueryBBoxes(i));if(!e.length)return l(this._getAll());let s,a;const n=new Set;for(const t of e)n.add(p.getObjectId(t));await this._reschedule((()=>{let e=0;s=new Array(n.size),this.featureStore.forEach((t=>s[e++]=t)),a=n}),t);const u=await this._reschedule((async()=>{const e=await z(r,i,this.geometryType,this.hasZ,this.hasM),n=t=>!a.has(p.getObjectId(t))||e(p.getGeometry(t));return new A(await this._runSpatialFilter(s,n,t),i,this)}),t);return l(u)}const d=this._searchFeatures(this._getQueryBBoxes(i));if(!d.length){const e=new A([],i,this);return h&&this._geometryQueryCache.put(h,e,e.size||1),e}if(this._canExecuteSoloPass(i,e))return l(new A(d,i,this));const y=await z(r,i,this.geometryType,this.hasZ,this.hasM),m=await this._runSpatialFilter(d,(e=>y(p.getGeometry(e))),t);return l(new A(m,i,this))}async _runSpatialFilter(e,t,i){if(!t)return e;if(r(this._frameTask))return e.filter((e=>t(e)));let s=0;const a=new Array,n=async r=>{for(;s<e.length;){const u=e[s++];t(u)&&(a.push(u),r.madeProgress()),r.done&&await this._reschedule((e=>n(e)),i)}};return this._reschedule((e=>n(e)),i).then((()=>a))}_canExecuteSoloPass(e,t){const{geometryType:i}=this,{spatialRel:s}=t;return C(e)&&(\"esriSpatialRelEnvelopeIntersects\"===s||\"esriGeometryPoint\"===i&&(\"esriSpatialRelIntersects\"===s||\"esriSpatialRelContains\"===s||\"esriSpatialRelWithin\"===s))}_getQueryBBoxes(e){if(C(e)){if(_(e))return[y(e.xmin,e.ymin,e.xmax,e.ymax)];if(g(e))return e.rings.map((e=>y(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[f(m(),e)]}_searchFeatures(e){for(const s of e)this.featureStore.forEachInBounds(s,(e=>{H.add(e)}));const t=new Array(H.size);let i=0;return H.forEach((e=>t[i++]=e)),H.clear(),t}async _checkStatisticsSupport(t,i){if(t.distance<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new e(N,\"Unsupported query options\",{query:t});return Promise.all([this._checkAttributesQuerySupport(t),this._checkStatisticsParamsSupport(i),T(t,this.geometryType,this.spatialReference),b(this.spatialReference,t.outSR)]).then((()=>t))}async _checkStatisticsParamsSupport(t){let i=[];if(t.valueExpression){const{arcadeUtils:e}=await G();i=e.extractFieldNames(t.valueExpression)}if(t.field&&i.push(t.field),t.normalizationField&&i.push(t.normalizationField),!i.length)throw new e(N,\"params should have at least a field or valueExpression\",{params:t});R(this.fieldsIndex,i,\"params contains missing fields\")}async _checkQuerySupport(t){if(t.distance<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new e(N,\"Unsupported query options\",{query:t});return Promise.all([this._checkAttributesQuerySupport(t),this._checkStatisticsQuerySupport(t),T(t,this.geometryType,this.spatialReference),b(this.spatialReference,t.outSR)]).then((()=>t))}_checkAttributesQuerySupport(t){const{outFields:i,orderByFields:s,returnDistinctValues:r,outStatistics:a}=t,n=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())):[];if(s&&s.length>0){const e=\" asc\",t=\" desc\",i=s.map((i=>{const s=i.toLowerCase();return s.indexOf(e)>-1?s.split(e)[0]:s.indexOf(t)>-1?s.split(t)[0]:i})).filter((e=>-1===n.indexOf(e)));R(this.fieldsIndex,i,\"orderByFields contains missing fields\")}if(i&&i.length>0)R(this.fieldsIndex,i,\"outFields contains missing fields\");else if(r)throw new e(N,\"outFields should be specified for returnDistinctValues\",{query:t});F(this.fieldsIndex,t.where)}async _checkStatisticsQuerySupport(t){const{outStatistics:i,groupByFieldsForStatistics:s,having:r}=t,a=s&&s.length,n=i&&i.length;if(r){if(!a||!n)throw new e(N,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:t});I(this.fieldsIndex,r,i)}if(n){if(!U(i))return;const r=i.map((e=>e.onStatisticField));R(this.fieldsIndex,r,\"onStatisticFields contains missing fields\"),a&&R(this.fieldsIndex,s,\"groupByFieldsForStatistics contains missing fields\");for(const s of i){const{onStatisticField:i,statisticType:r}=s;if((\"percentile_disc\"===r||\"percentile_cont\"===r)&&\"statisticParameters\"in s){const{statisticParameters:i}=s;if(!i)throw new e(N,\"statisticParamters should be set for percentile type\",{definition:s,query:t})}else if(\"count\"!==r&&i&&E(i,this.fieldsIndex))throw new e(N,\"outStatistics contains non-numeric fields\",{definition:s,query:t})}}}async _getQueryEngineResultForStats(e={},i,s){let r;e=t(e);try{e=await this._schedule((()=>v(e,this.definitionExpression,this.spatialReference)),s),e=await this._reschedule((()=>this._checkStatisticsSupport(e,i)),s),r=await this._reschedule((()=>this._executeGeometryQuery(e,s)),s),r=await this._reschedule((()=>r.executeAggregateIdsQuery(e)),s),r=await this._reschedule((()=>r.executeObjectIdsQuery(e)),s),r=await this._reschedule((()=>r.executeTimeQuery(e)),s),r=await this._reschedule((()=>r.executeAttributesQuery(e)),s)}catch(a){if(a!==P)throw a;r=new A([],null,this)}return r}}const V=h(),$=h();export{Z as Feature,L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction n(n,t){return n?t?4:3:t?3:2}function t(n,t,r,e){return o(n,t,r,e.coords[0],e.coords[1])}function r(t,r,e,c,u,f){const s=n(u,f),{coords:i,lengths:l}=c;if(!l)return!1;for(let n=0,d=0;n<l.length;n++,d+=s)if(!o(t,r,e,i[d],i[d+1]))return!1;return!0}function o(t,r,o,c,u){if(!t)return!1;const f=n(r,o),{coords:s,lengths:i}=t;let l=!1,d=0;for(const n of i)l=e(l,s,f,d,n,c,u),d+=n*f;return l}function e(n,t,r,o,e,c,u){let f=n,s=o;for(let i=o,l=o+e*r;i<l;i+=r){s=i+r,s===l&&(s=o);const n=t[i],e=t[i+1],d=t[s],g=t[s+1];(e<u&&g>=u||g<u&&e>=u)&&n+(u-e)/(g-e)*(d-n)<c&&(f=!f)}return f}export{o as polygonContainsCoords,r as polygonContainsMultipoint,t as polygonContainsPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{extentContainsPoint as r,extentContainsMultipoint as t}from\"../../../geometry/support/contains.js\";import{getExtentIntersector as i}from\"../../../geometry/support/intersects.js\";import{isPolygon as s,isExtent as o,getJsonType as n}from\"../../../geometry/support/jsonUtils.js\";import{isValid as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{polygonContainsPoint as a,polygonContainsMultipoint as p}from\"../contains.js\";import{convertFromPolygon as m}from\"../featureConversionUtils.js\";import u from\"../OptimizedGeometry.js\";import{checkProjectionSupport as y}from\"./projectionSupport.js\";import{getGeometry as f}from\"./utils.js\";const c=\"feature-store:unsupported-query\",R={esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"intersects\",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:null},S={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function G(e){return!0===S.spatialRelationship[e]}function g(e){return!0===S.queryGeometry[n(e)]}function j(e){return!0===S.layerGeometry[e]}function h(){return import(\"../../../geometry/geometryEngineJSON.js\")}function v(e,n,l,y,c){if(s(n)&&\"esriGeometryPoint\"===l&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e)){const e=m(new u,n,!1,!1);return Promise.resolve((r=>a(e,!1,!1,r)))}if(s(n)&&\"esriGeometryMultipoint\"===l){const r=m(new u,n,!1,!1);if(\"esriSpatialRelContains\"===e)return Promise.resolve((e=>p(r,!1,!1,e,y,c)))}if(o(n)&&\"esriGeometryPoint\"===l&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e))return Promise.resolve((e=>r(n,f(l,y,c,e))));if(o(n)&&\"esriGeometryMultipoint\"===l&&\"esriSpatialRelContains\"===e)return Promise.resolve((e=>t(n,f(l,y,c,e))));if(o(n)&&\"esriSpatialRelIntersects\"===e){const e=i(l);return Promise.resolve((r=>e(n,f(l,y,c,r))))}return h().then((r=>{const t=r[R[e]].bind(null,n.spatialReference,n);return e=>t(f(l,y,c,e))}))}async function P(r,t,i){const{spatialRel:s,geometry:o}=r;if(o){if(!G(s))throw new e(c,\"Unsupported query spatial relationship\",{query:r});if(l(o.spatialReference)&&l(i)){if(!g(o))throw new e(c,\"Unsupported query geometry type\",{query:r});if(!j(t))throw new e(c,\"Unsupported layer geometry type\",{query:r});if(r.outSR)return y(r.geometry&&r.geometry.spatialReference,r.outSR)}}}function I(e){if(o(e))return!0;if(s(e)){for(const r of e.rings){if(5!==r.length)return!1;if(r[0][0]!==r[1][0]||r[0][0]!==r[4][0]||r[2][0]!==r[3][0]||r[0][1]!==r[3][1]||r[0][1]!==r[4][1]||r[1][1]!==r[2][1])return!1}return!0}return!1}export{I as canQueryWithRBush,P as checkSpatialQuerySupport,v as getSpatialQueryOperator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{extentIntersectsExtent as e,getFeatureExtentIntersector as t}from\"./intersectsBase.js\";export{extentIntersectsExtent,extentIntersectsMultipoint,extentIntersectsPoint,extentIntersectsPolygon,extentIntersectsPolyline,getFeatureExtentIntersector,isSelfIntersecting,segmentIntersects}from\"./intersectsBase.js\";function n(n){return\"mesh\"===n?e:t(n)}export{n as getExtentIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction t(t,n){if(!t)return null;const e=n.featureAdapter,{startTimeField:u,endTimeField:l}=t;let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(u&&l)n.forEach((t=>{const n=e.getAttribute(t,u),o=e.getAttribute(t,l);null==n||isNaN(n)||(r=Math.min(r,n)),null==o||isNaN(o)||(i=Math.max(i,o))}));else{const t=u||l;n.forEach((n=>{const u=e.getAttribute(n,t);null==u||isNaN(u)||(r=Math.min(r,u),i=Math.max(i,u))}))}return{start:r,end:i}}function n(t,n,r){if(!n||!t)return null;const{startTimeField:i,endTimeField:o}=t;if(!i&&!o)return null;const{start:s,end:a}=n;return null===s&&null===a?null:void 0===s&&void 0===a?l():i&&o?e(r,i,o,s,a):u(r,i||o,s,a)}function e(t,n,e,u,l){return null!=u&&null!=l?r=>{const i=t.getAttribute(r,n),o=t.getAttribute(r,e);return(null==i||i<=l)&&(null==o||o>=u)}:null!=u?n=>{const l=t.getAttribute(n,e);return null==l||l>=u}:null!=l?e=>{const u=t.getAttribute(e,n);return null==u||u<=l}:void 0}function u(t,n,e,u){return null!=e&&null!=u&&e===u?u=>t.getAttribute(u,n)===e:null!=e&&null!=u?l=>{const r=t.getAttribute(l,n);return r>=e&&r<=u}:null!=e?u=>t.getAttribute(u,n)>=e:null!=u?e=>t.getAttribute(e,n)<=u:void 0}function l(){return()=>!1}export{t as getTimeExtent,n as getTimeOperator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{JSONMap as e}from\"../../../core/jsonMap.js\";import{isNone as t,isSome as r}from\"../../../core/maybe.js\";import{getUnitString as i}from\"../../../core/unitUtils.js\";import{getGeometryExtent as o}from\"../../../geometry/support/extentUtils.js\";import{fromJSON as n}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as s}from\"../../../geometry/support/normalizeUtils.js\";import{isGeographic as l,isWebMercator as a,WGS84 as m}from\"../../../geometry/support/spatialReferenceUtils.js\";import{getCentroidOptimizedGeometry as c}from\"../centroid.js\";import{quantizeOptimizedGeometry as u,convertToPoint as f,generalizeOptimizedGeometry as p,removeZMValues as y,convertToPolyline as g,convertToPolygon as S,convertToMultipoint as R}from\"../featureConversionUtils.js\";import d from\"../OptimizedGeometry.js\";import{checkProjectionSupport as h,project as w}from\"./projectionSupport.js\";const j=new e({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"}),U=Object.freeze({}),M=new d,F=new d,G=new d,N={esriGeometryPoint:f,esriGeometryPolyline:g,esriGeometryPolygon:S,esriGeometryMultipoint:R};function O(e,r,i,o=e.hasZ,n=e.hasM){if(t(r))return null;const s=e.hasZ&&o,l=e.hasM&&n;if(i){const t=u(G,r,e.hasZ,e.hasM,\"esriGeometryPoint\",i,o,n);return f(t,s,l)}return f(r,s,l)}function _(e,t,r){return\"esriGeometryPolygon\"===e.geometryType&&t&&(t.centroid||t.geometry)?(t.centroid||(t.centroid=c(new d,t.geometry,e.hasZ,e.hasM)),O(e,t.centroid,r)):null}function J(e,i,o,n,s,l,a=i,m=o){const c=i&&a,f=o&&m,g=r(n)?\"coords\"in n?n:n.geometry:null;if(t(g))return null;if(s){let t=p(F,g,i,o,e,s,a,m);return l&&(t=u(G,t,c,f,e,l)),N[e](t,c,f)}if(l){const t=u(G,g,i,o,e,l,a,m);return N[e](t,c,f)}return y(M,g,i,o,a,m),N[e](M,c,f)}async function P(e,t,r){const{outFields:i,orderByFields:o,groupByFieldsForStatistics:n,outStatistics:s}=e;if(i)for(let l=0;l<i.length;l++)i[l]=i[l].trim();if(o)for(let l=0;l<o.length;l++)o[l]=o[l].trim();if(n)for(let l=0;l<n.length;l++)n[l]=n[l].trim();if(s)for(let l=0;l<s.length;l++)s[l].onStatisticField&&(s[l].onStatisticField=s[l].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),Z(e,t,r)}async function v(e,t,r){return Z(e,t,r)}async function Z(e,r,i){if(!e)return null;let{where:l}=e;if(e.where=l=l&&l.trim(),(!l||/^1 *= *1$/.test(l)||r&&r===l)&&(e.where=null),!e.geometry)return e;let a=await b(e);if(e.distance=0,e.units=null,\"esriSpatialRelEnvelopeIntersects\"===e.spatialRel){const{spatialReference:t}=e.geometry;a=o(a),a.spatialReference=t}e.geometry=a,await h(a.spatialReference,i);const m=(await s(n(a)))[0];if(t(m))throw U;const c=m.toJSON(),u=await w(c,c.spatialReference,i);if(!u)throw U;return u.spatialReference=i,e.geometry=u,e}async function b(e){const{geometry:t,distance:r,units:o}=e;if(null==r||\"vertexAttributes\"in t)return t;const n=t.spatialReference,s=o?j.fromJSON(o):i(n),c=n&&(l(n)||a(n))?t:await h(n,m).then((()=>w(t,m)));return(await x())(c.spatialReference,c,r,s)}async function x(){return(await import(\"../../../geometry/geometryEngineJSON.js\")).geodesicBuffer}function z(e){return e&&B in e?JSON.parse(JSON.stringify(e,E)):e}const B=\"_geVersion\",E=(e,t)=>e!==B?t:void 0;export{U as QUERY_ENGINE_EMPTY_RESULT,z as cleanFromGeometryEngine,_ as getCentroid,J as getGeometry,v as normalizeFilter,P as normalizeQuery,Z as normalizeQueryLike,O as transformCentroid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{JSONMap as r}from\"../../core/jsonMap.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{types as p,fromJSON as i}from\"./colorRamps.js\";import a from\"../../symbols/Symbol.js\";const c=new r({classBreaksDef:\"class-breaks-definition\",uniqueValueDef:\"unique-value-definition\"});let l=class extends s{constructor(){super(...arguments),this.baseSymbol=null,this.colorRamp=null,this.type=null}};o([e({type:a,json:{write:!0}})],l.prototype,\"baseSymbol\",void 0),o([e({types:p,json:{read:{reader:i},write:!0}})],l.prototype,\"colorRamp\",void 0),o([e({json:{read:c.read,write:c.write}})],l.prototype,\"type\",void 0),l=o([t(\"esri.rest.support.ClassificationDefinition\")],l);const m=l;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"./ClassificationDefinition.js\";const o=new i({esriClassifyEqualInterval:\"equal-interval\",esriClassifyManual:\"manual\",esriClassifyNaturalBreaks:\"natural-breaks\",esriClassifyQuantile:\"quantile\",esriClassifyStandardDeviation:\"standard-deviation\",esriClassifyDefinedInterval:\"defined-interval\"}),a=new i({esriNormalizeByLog:\"log\",esriNormalizeByPercentOfTotal:\"percent-of-total\",esriNormalizeByField:\"field\"});let n=class extends r{constructor(){super(...arguments),this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null,this.type=\"class-breaks-definition\"}set standardDeviationInterval(e){\"standard-deviation\"===this.classificationMethod&&this._set(\"standardDeviationInterval\",e)}set definedInterval(e){\"defined-interval\"===this.classificationMethod&&this._set(\"definedInterval\",e)}};e([t({json:{write:!0}})],n.prototype,\"breakCount\",void 0),e([t({json:{write:!0}})],n.prototype,\"classificationField\",void 0),e([t({type:String,json:{read:o.read,write:o.write}})],n.prototype,\"classificationMethod\",void 0),e([t({json:{write:!0}})],n.prototype,\"normalizationField\",void 0),e([t({json:{read:a.read,write:a.write}})],n.prototype,\"normalizationType\",void 0),e([t({value:null,json:{write:!0}})],n.prototype,\"standardDeviationInterval\",null),e([t({value:null,json:{write:!0}})],n.prototype,\"definedInterval\",null),e([t()],n.prototype,\"type\",void 0),n=e([s(\"esri.rest.support.ClassBreaksDefinition\")],n);const l=n;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e,l){return Number(e.toFixed(l))}function l(e){const l=u(e),t=[],n=l.uniqueValues.length;for(let a=0;a<n;a++){const e=l.uniqueValues[a],n=l.valueFrequency[a],u=e.toString();t.push({value:e,count:n,label:u})}return{uniqueValues:t}}function t(e){const{normalizationTotal:l}=e;return{classBreaks:n(e),normalizationTotal:l}}function n(l){const t=l.definition,{classificationMethod:n,breakCount:o,normalizationType:r,definedInterval:h}=t,m=[];let b=l.values;if(0===b.length)return[];b=b.sort(((e,l)=>e-l));const V=b[0],p=b[b.length-1];if(\"equal-interval\"===n)if(b.length>=o){const l=(p-V)/o;let t=V;for(let n=1;n<o;n++){const u=e(V+n*l,6);m.push({minValue:t,maxValue:u,label:a(t,u,r)}),t=u}m.push({minValue:t,maxValue:p,label:a(t,p,r)})}else b.forEach((e=>{m.push({minValue:e,maxValue:e,label:a(e,e,r)})}));else if(\"natural-breaks\"===n){const t=u(b),n=l.valueFrequency||t.valueFrequency,i=s(t.uniqueValues,n,o);let c=V;for(let l=1;l<o;l++)if(t.uniqueValues.length>l){const n=e(t.uniqueValues[i[l]],6);m.push({minValue:c,maxValue:n,label:a(c,n,r)}),c=n}m.push({minValue:c,maxValue:p,label:a(c,p,r)})}else if(\"quantile\"===n)if(b.length>=o&&V!==p){let e=V,l=Math.ceil(b.length/o),t=0;for(let n=1;n<o;n++){let u=l+t-1;u>b.length&&(u=b.length-1),u<0&&(u=0),m.push({minValue:e,maxValue:b[u],label:a(e,b[u],r)}),e=b[u],t+=l,l=Math.ceil((b.length-t)/(o-n))}m.push({minValue:e,maxValue:p,label:a(e,p,r)})}else{let e=-1;for(let l=0;l<b.length;l++){const t=b[l];t!==e&&(e=t,m.push({minValue:e,maxValue:t,label:a(e,t,r)}),e=t)}}else if(\"standard-deviation\"===n){const l=c(b),t=f(b,l);if(0===t)m.push({minValue:b[0],maxValue:b[0],label:a(b[0],b[0],r)});else{const n=i(V,p,o,l,t)*t;let u=0,s=V;for(let t=o;t>=1;t--){const o=e(l-(t-.5)*n,6);m.push({minValue:s,maxValue:o,label:a(s,o,r)}),s=o,u++}let c=e(l+.5*n,6);m.push({minValue:s,maxValue:c,label:a(s,c,r)}),s=c,u++;for(let t=1;t<=o;t++)c=u===2*o?p:e(l+(t+.5)*n,6),m.push({minValue:s,maxValue:c,label:a(s,c,r)}),s=c,u++}}else if(\"defined-interval\"===n){if(!h)return m;const l=b[0],t=b[b.length-1],n=Math.ceil((t-l)/h);let u=l;for(let s=1;s<n;s++){const t=e(l+s*h,6);m.push({minValue:u,maxValue:t,label:a(u,t,r)}),u=t}m.push({minValue:u,maxValue:t,label:a(u,t,r)})}return m}function a(e,l,t){let n=null;return n=e===l?t&&\"percent-of-total\"===t?e+\"%\":e.toString():t&&\"percent-of-total\"===t?e+\"% - \"+l+\"%\":e+\" - \"+l,n}function u(e){const l=[],t=[];let n=Number.MIN_VALUE,a=1,u=-1;for(let s=0;s<e.length;s++){const o=e[s];o===n?(a++,t[u]=a):null!==o&&(l.push(o),n=o,a=1,t.push(a),u++)}return{uniqueValues:l,valueFrequency:t}}function s(e,l,t){const n=e.length,a=[];t>n&&(t=n);for(let s=0;s<t;s++)a.push(Math.round(s*n/t-1));a.push(n-1);let u=o(a,e,l,t);return r(u.mean,u.sdcm,a,e,l,t)&&(u=o(a,e,l,t)),a}function o(e,l,t,n){let a=[],u=[],s=[],o=0;const r=[],i=[];for(let b=0;b<n;b++){const n=h(b,e,l,t);r.push(n.sbMean),i.push(n.sbSdcm),o+=i[b]}let c,f=o,m=!0;for(;m||o<f;){m=!1,a=[];for(let l=0;l<n;l++)a.push(e[l]);for(let t=0;t<n;t++)for(let a=e[t]+1;a<=e[t+1];a++)if(c=l[a],t>0&&a!==e[t+1]&&Math.abs(c-r[t])>Math.abs(c-r[t-1]))e[t]=a;else if(t<n-1&&e[t]!==a-1&&Math.abs(c-r[t])>Math.abs(c-r[t+1])){e[t+1]=a-1;break}f=o,o=0,u=[],s=[];for(let a=0;a<n;a++){u.push(r[a]),s.push(i[a]);const n=h(a,e,l,t);r[a]=n.sbMean,i[a]=n.sbSdcm,o+=i[a]}}if(o>f){for(let l=0;l<n;l++)e[l]=a[l],r[l]=u[l],i[l]=s[l];o=f}return{mean:r,sdcm:i}}function r(e,l,t,n,a,u){let s=0,o=0,r=0,i=0,c=!0;for(let f=0;f<2&&c;f++){0===f&&(c=!1);for(let f=0;f<u-1;f++)for(;t[f+1]+1!==t[f+2];){t[f+1]=t[f+1]+1;const u=h(f,t,n,a);r=u.sbMean,s=u.sbSdcm;const m=h(f+1,t,n,a);if(i=m.sbMean,o=m.sbSdcm,!(s+o<l[f]+l[f+1])){t[f+1]=t[f+1]-1;break}l[f]=s,l[f+1]=o,e[f]=r,e[f+1]=i,c=!0}for(let f=u-1;f>0;f--)for(;t[f]!==t[f-1]+1;){t[f]=t[f]-1;const u=h(f-1,t,n,a);r=u.sbMean,s=u.sbSdcm;const m=h(f,t,n,a);if(i=m.sbMean,o=m.sbSdcm,!(s+o<l[f-1]+l[f])){t[f]=t[f]+1;break}l[f-1]=s,l[f]=o,e[f-1]=r,e[f]=i,c=!0}}return c}function i(e,l,t,n,a){let u=Math.max(n-e,l-n)/a/t;return u=u>=1?1:u>=.5?.5:.25,u}function c(e){let l=0;for(let t=0;t<e.length;t++)l+=e[t];return l/=e.length,l}function f(e,l){let t=0;for(let n=0;n<e.length;n++){const a=e[n];t+=(a-l)*(a-l)}t/=e.length;return Math.sqrt(t)}function h(e,l,t,n){let a=0,u=0;for(let r=l[e]+1;r<=l[e+1];r++){const e=n[r];a+=t[r]*e,u+=e}u<=0&&console.log(\"Exception in Natural Breaks calculation\");const s=a/u;let o=0;for(let r=l[e]+1;r<=l[e+1];r++)o+=n[r]*(t[r]-s)**2;return{sbMean:s,sbSdcm:o}}export{t as createGenerateRendererClassBreaks,l as createGenerateRendererUniqueValues};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../rest/support/ClassBreaksDefinition.js\";import{createGenerateRendererClassBreaks as n}from\"../rest/support/generateRendererUtils.js\";const t=\"equal-interval\",l=1,i=5,a=10,r=/\\s*(\\+|-)?((\\d+(\\.\\d+)?)|(\\.\\d+))\\s*/gi,o=new Set([\"esriFieldTypeInteger\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\"]),u=[\"min\",\"max\",\"avg\",\"stddev\",\"count\",\"sum\",\"variance\",\"nullcount\",\"median\"];function s(e){const n=null!=e.normalizationField||null!=e.normalizationType,t=null!=e.minValue||null!=e.maxValue,l=!!e.sqlExpression&&e.supportsSQLExpression;return!n&&!t&&!l}function m(e){const n=e.returnDistinct?[...new Set(e.values)]:e.values,t=n.filter((e=>null!=e)).length,l={count:t};return e.supportsNullCount&&(l.nullcount=n.length-t),e.percentileParams&&(l.median=d(n,e.percentileParams)),l}function c(e){const{values:n,useSampleStdDev:t,supportsNullCount:l}=e;let i=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,r=null,o=null,u=null,s=null,m=0;const c=null==e.minValue?-1/0:e.minValue,f=null==e.maxValue?1/0:e.maxValue;for(const d of n)Number.isFinite(d)?d>=c&&d<=f&&(r+=d,i=Math.min(i,d),a=Math.max(a,d),m++):\"string\"==typeof d&&m++;if(m&&null!=r){o=r/m;let e=0;for(const t of n)Number.isFinite(t)&&t>=c&&t<=f&&(e+=(t-o)**2);s=t?m>1?e/(m-1):0:m>0?e/m:0,u=Math.sqrt(s)}else i=null,a=null;const p={avg:o,count:m,max:a,min:i,stddev:u,sum:r,variance:s};return l&&(p.nullcount=n.length-m),e.percentileParams&&(p.median=d(n,e.percentileParams)),p}function d(e,n){const{fieldType:t,value:l,orderBy:i,isDiscrete:a}=n,r=f(t,\"desc\"===i);if(0===(e=[...e].filter((e=>null!=e)).sort(((e,n)=>r(e,n)))).length)return null;if(l<=0)return e[0];if(l>=1)return e[e.length-1];const o=(e.length-1)*l,u=Math.floor(o),s=u+1,m=o%1,c=e[u],d=e[s];return s>=e.length||a||\"string\"==typeof c||\"string\"==typeof d?c:c*(1-m)+d*m}function f(e,n){const t=n?1:-1,l=v(n),i=p(n);if(!(!!e&&[\"esriFieldTypeDate\",\"esriFieldTypeString\",\"esriFieldTypeGUID\",\"esriFieldTypeGlobalID\",...o].includes(e)))return(e,n)=>\"number\"==typeof e&&\"number\"==typeof n?l(e,n):\"string\"==typeof e&&\"string\"==typeof n?i(e,n):t;if(\"esriFieldTypeDate\"===e)return(e,n)=>{const i=new Date(e).getTime(),a=new Date(n).getTime();return isNaN(i)||isNaN(a)?t:l(i,a)};if(o.has(e))return(e,n)=>l(e,n);if(\"esriFieldTypeString\"===e)return(e,n)=>i(e,n);if(\"esriFieldTypeGUID\"===e||\"esriFieldTypeGlobalID\"===e){const e=p(n);return(n,t)=>e(b(n),b(t))}return n?(e,n)=>1:(e,n)=>-1}function p(e){return e?(e,n)=>(e=e.toUpperCase())>(n=n.toUpperCase())?-1:e<n?1:0:(e,n)=>(e=e.toUpperCase())<(n=n.toUpperCase())?-1:e>n?1:0}function v(e){return e?(e,n)=>n-e:(e,n)=>e-n}function b(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function V(e,n){let t;for(t in e)u.indexOf(t)>-1&&(Number.isFinite(e[t])||(e[t]=null));return n?([\"avg\",\"stddev\",\"variance\"].forEach((n=>{null!=e[n]&&(e[n]=Math.ceil(e[n]))})),e):e}function g(e){const n={};for(let t of e)(null==t||\"string\"==typeof t&&\"\"===t.trim())&&(t=null),null==n[t]?n[t]={count:1,data:t}:n[t].count++;return{count:n}}function h(e,n,t){const l=e.count,i=[];if(t&&n&&\"coded-value\"===n.type){n.codedValues.forEach((e=>{const n=e.code;l.hasOwnProperty(n)||(l[n]={data:n,count:0})}))}for(const a in l){const e=l[a];i.push({value:e.data,count:e.count,label:e.label})}return{uniqueValueInfos:i}}function T(e,n,t,l){let i=null;switch(n){case\"log\":0!==e&&(i=Math.log(e)*Math.LOG10E);break;case\"percent-of-total\":Number.isFinite(l)&&0!==l&&(i=e/l*100);break;case\"field\":Number.isFinite(t)&&0!==t&&(i=e/t);break;case\"natural-log\":e>0&&(i=Math.log(e));break;case\"square-root\":e>0&&(i=e**.5)}return i}function y(e,t){const l=F({field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,breakCount:t.numClasses||i});return e=x(e,t.minValue,t.maxValue),n({definition:l,values:e,normalizationTotal:t.normalizationTotal})}function x(e,n,t){return n=null==n?-1/0:n,t=null==t?1/0:t,e.filter((e=>Number.isFinite(e)&&e>=n&&e<=t))}function F(n){const i=n.field,a=n.classificationMethod||t,r=n.normalizationType,o=n.normalizationField,u=new e;return u.classificationField=i,u.breakCount=n.breakCount,u.classificationMethod=a,u.standardDeviationInterval=\"standard-deviation\"===a?n.standardDeviationInterval||l:void 0,u.normalizationType=r,u.normalizationField=\"field\"===r?o:void 0,u}function D(e,n){let t=e.classBreaks;const l=t.length,i=t[0].minValue,a=t[l-1].maxValue,o=\"standard-deviation\"===n,u=r;return t=t.map((e=>{const n=e.label,t={minValue:e.minValue,maxValue:e.maxValue,label:n};if(o&&n){const e=n.match(u).map((e=>+e.trim()));2===e.length?(t.minStdDev=e[0],t.maxStdDev=e[1],e[0]<0&&e[1]>0&&(t.hasAvg=!0)):1===e.length&&(n.includes(\"<\")?(t.minStdDev=null,t.maxStdDev=e[0]):n.includes(\">\")&&(t.minStdDev=e[0],t.maxStdDev=null))}return t})),{minValue:i,maxValue:a,classBreakInfos:t,normalizationTotal:e.normalizationTotal}}function z(e,n){const{min:t,max:l,intervals:i}=I(e,n),a=i.map(((e,n)=>({minValue:i[n][0],maxValue:i[n][1],count:0})));for(const r of e)if(null!=r&&r>=t&&r<=l){const e=N(i,r);e>-1&&a[e].count++}return{bins:a,minValue:t,maxValue:l,normalizationTotal:n.normalizationTotal}}function I(e,n){const{field:t,classificationMethod:l,standardDeviationInterval:i,normalizationType:r,normalizationField:o,normalizationTotal:u,minValue:m,maxValue:d}=n,f=n.numBins||a;let p=null,v=null,b=null;if((!l||\"equal-interval\"===l)&&!r){if(null!=m&&null!=d)p=m,v=d;else{const n=c({values:e,minValue:m,maxValue:d,useSampleStdDev:!r,supportsNullCount:s({normalizationType:r,normalizationField:o,minValue:m,maxValue:d})});p=n.min,v=n.max}b=S(p,v,f)}else{const{classBreaks:n}=y(e,{field:t,normalizationType:r,normalizationField:o,normalizationTotal:u,classificationMethod:l,standardDeviationInterval:i,minValue:m,maxValue:d,numClasses:f});p=n[0].minValue,v=n[n.length-1].maxValue,b=n.map((e=>[e.minValue,e.maxValue]))}return{min:p,max:v,intervals:b}}function N(e,n){let t=-1;for(let l=e.length-1;l>=0;l--){if(n>=e[l][0]){t=l;break}}return t}function S(e,n,t){const l=(n-e)/t,i=[];let a,r=e;for(let o=1;o<=t;o++)a=r+l,a=Number(a.toFixed(16)),i.push([r,o===t?n:a]),r=a;return i}export{y as calculateClassBreaks,z as calculateHistogram,d as calculatePercentile,c as calculateStatistics,m as calculateStringStatistics,g as calculateUniqueValuesCount,F as createClassBreaksDefinition,h as createUVResult,f as getAttributeComparator,S as getEqualIntervalBins,T as getNormalizedValue,s as isNullCountSupported,V as processSummaryStatisticsResult,D as resolveCBResult,u as statisticTypes};\n"],"sourceRoot":"webpack:///","file":"4740.bec9aede283c3cbc8cb2.js"}