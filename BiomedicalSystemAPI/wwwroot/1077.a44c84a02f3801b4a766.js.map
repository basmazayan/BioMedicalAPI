{"version":3,"file":"1077.a44c84a02f3801b4a766.js","mappings":"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","sources":["./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js","./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js","./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js","./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js","./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js","./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js","./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js","./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js","./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js","./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst n=8388607,t=8388608,r=254,o=255,u=0,c=1,e=n=>(n&t)>>>23,f=t=>t&n,i=n=>e(n)===c?r:o;function p(n){return e(n)===c}function s(n,r){return((r?t:0)|n)>>>0}export{r as AGGREGATE_VALID_FILTERS_MASK,n as DISPLAY_ID_TEXEL_MASK,c as DISPLAY_ID_TYPE_AGGREGATE,u as DISPLAY_ID_TYPE_FEATURE,t as DISPLAY_ID_TYPE_MASK,o as NONAGGREGATE_VALID_FILTERS_MASK,s as createDisplayId,i as getDisplayIdFilterMask,f as getDisplayIdTexel,e as getDisplayIdType,p as isAggregateId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst n=(n,l)=>n&&((...n)=>l.warn(\"DEBUG:\",...n))||(()=>null),l=!1;export{l as DEBUG_ATTR_UPDATES,n as createDebugLogger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import s from\"../../../../core/Logger.js\";import{WGLVVFlag as i}from\"./enums.js\";import{isNumber as r}from\"./Utils.js\";const l=s.getLogger(\"esri.views.2d.engine.webgl\");function o(s){return r(s.minDataValue)&&r(s.maxDataValue)&&null!=s.minSize&&null!=s.maxSize?i.SIZE_MINMAX_VALUE:(s.expression&&\"view.scale\"===s.expression||s.valueExpression&&\"$view.scale\"===s.valueExpression)&&Array.isArray(s.stops)?i.SIZE_SCALE_STOPS:(null!=s.field||s.expression&&\"view.scale\"!==s.expression||s.valueExpression&&\"$view.scale\"!==s.valueExpression)&&(Array.isArray(s.stops)||\"levels\"in s&&s.levels)?i.SIZE_FIELD_STOPS:(null!=s.field||s.expression&&\"view.scale\"!==s.expression||s.valueExpression&&\"$view.scale\"!==s.valueExpression)&&null!=s.valueUnit?i.SIZE_UNIT_VALUE:(l.error(new e(\"mapview-bad-type\",\"Found invalid size VisualVariable\",s)),i.NONE)}export{o as getTypeOfSizeVisualVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Error.js\";import e from\"../../../../../core/has.js\";import i from\"../../../../../core/Logger.js\";import{clamp as s}from\"../../../../../core/mathUtils.js\";import{isNone as r,isSome as a,mapMany as o,forEachSome as n,andThen as l,unwrap as h}from\"../../../../../core/maybe.js\";import{createResolver as c,isAbortError as u}from\"../../../../../core/promiseUtils.js\";import{diff as d}from\"../../../../../core/accessorSupport/diffUtils.js\";import p from\"../../../../../layers/support/FieldsIndex.js\";import{MAX_FILTERS as _,HIGHLIGHT_FLAG as g,ATTRIBUTE_DATA_VV as f,NAN_MAGIC_NUMBER as m,ATTRIBUTE_DATA_ANIMATION as y}from\"../../../engine/webgl/definitions.js\";import{DISPLAY_ID_TYPE_AGGREGATE as x,DISPLAY_ID_TYPE_FEATURE as b,getDisplayIdTexel as z,getDisplayIdType as T,getDisplayIdFilterMask as S}from\"../../../engine/webgl/DisplayId.js\";import{getPixelArrayCtor as w}from\"../../../engine/webgl/Utils.js\";import{createDebugLogger as A,DEBUG_ATTR_UPDATES as k}from\"../../../engine/webgl/util/debug.js\";import{getVisualVariableSizeValueRepresentationRatio as D}from\"../tileRenderers/support/visualVariablesUtils.js\";const E=i.getLogger(\"esri.views.layers.2d.features.support.AttributeStore\"),F=A(k,E),U={sharedArrayBuffer:e(\"esri-shared-array-buffer\"),atomics:e(\"esri-atomics\")};function C(t,e){return i=>e(t(i))}class R{constructor(t,e,i,s){this.size=0,this.texelSize=4;const{pixelType:r,layout:a,textureOnly:o}=s;this.textureOnly=o||!1,this.pixelType=r,this._ctype=e,this.layout=a,this._resetRange(),this._shared=t,this.size=i,o||(this.data=this._initData(r,i,t,e))}get buffer(){return l(this.data,(t=>t.buffer))}unsetComponentAllTexels(t,e){const i=h(this.data);for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]&=~e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponentAllTexels(t,e){const i=h(this.data);for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]|=255&e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponent(t,e,i){const s=h(this.data);for(const r of i)s[r*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,r),this.dirtyEnd=Math.max(this.dirtyEnd,r)}setComponentTexel(t,e,i){h(this.data)[i*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}unsetComponentTexel(t,e,i){h(this.data)[i*this.texelSize+t]&=~e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}getData(t,e){const i=z(t);return h(this.data)[i*this.texelSize+e]}setData(t,e,i){const s=z(t),r=1<<e;0!=(this.layout&r)?(this.data[s*this.texelSize+e]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s)):E.error(\"mapview-attributes-store\",\"Tried to set a value for a texel's readonly component\")}lock(){5121===this.pixelType&&this._shared&&U.atomics&&\"local\"!==this._ctype&&Atomics.store(this.data,0,1)}unlock(){5121===this.pixelType&&this._shared&&U.atomics&&\"local\"!==this._ctype&&Atomics.store(this.data,0,0)}expand(t){if(this.size=t,!this.textureOnly){const e=this._initData(this.pixelType,t,this._shared,this._ctype),i=h(this.data);e.set(i),this.data=e}}toMessage(){const t=this.dirtyStart,e=this.dirtyEnd,i=this.texelSize;if(t>e)return null;this._resetRange();const s=!(this._shared||\"local\"===this._ctype),r=this.pixelType,a=this.layout,o=h(this.data);return{start:t,end:e,data:s&&o.slice(t*i,(e+1)*i)||null,pixelType:r,layout:a}}_initData(t,e,i,s){const r=i&&\"local\"!==s?SharedArrayBuffer:ArrayBuffer,a=w(t),o=new a(new r(e*e*4*a.BYTES_PER_ELEMENT));for(let n=0;n<o.length;n+=4)o[n+1]=255;return o}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}}class M{constructor(t,e){this._client=t,this.config=e,this._attributeComputeMap=new Map,this._blocks=new Array,this._filters=new Array(_),this._targetType=0,this._abortController=new AbortController,this._hasScaleExpr=!1,this._size=32,this._idsToHighlight=new Set;const i=e.supportsTextureFloat?5126:5121;F(`Creating AttributeStore ${U.sharedArrayBuffer?\"with\":\"without\"} shared memory`),this._blockDescriptors=[{pixelType:5121,layout:1},{pixelType:5121,layout:15,textureOnly:!0},{pixelType:i,layout:15},{pixelType:i,layout:15}],this._blocks=this._blockDescriptors.map((()=>null))}destroy(){this._abortController.abort()}get hasScaleExpr(){return this._hasScaleExpr}get _signal(){return this._abortController.signal}update(t,i){this.config=i;const s=i.schema.processors[0].storage,o=d(this._schema,s);if((t.targets.feature||t.targets.aggregate)&&(t.storage.data=!0),o&&(e(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - AttributeStore:\",o),t.storage.data=!0,this._schema=s,this._attributeComputeMap.clear(),!r(s))){switch(s.target){case\"feature\":this._targetType=b;break;case\"aggregate\":this._targetType=x}if(\"subtype\"===s.type)for(const t in s.mapping){const e=s.mapping[t];if(a(e))for(const t of e.mapping)this._bindAttribute(t)}else for(const t of s.mapping)this._bindAttribute(t)}}onTileData(t,e){if(r(e.addOrUpdate))return;const i=e.addOrUpdate.getCursor();for(;i.next();){const t=i.getDisplayId();this.setAttributeData(t,i)}}invalidateResources(){this._createResourcesPromise=null,this._abortController.abort(),this._abortController=new AbortController}async setHighlight(t,e){const i=1,s=this._getBlock(0),r=e.map((t=>z(t)));s.lock(),s.unsetComponentAllTexels(0,i),s.setComponent(0,i,r),s.unlock(),this._idsToHighlight.clear();for(const a of t)this._idsToHighlight.add(a);await this.sendUpdates()}async updateFilters(t,i){const{config:s,service:r,spatialReference:a}=i,{filters:o}=s,n=o.map(((t,e)=>this._updateFilter(t,e,r,a)));(await Promise.all(n)).some((t=>t))&&(t.storage.filters=!0,e(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - AttributeStore:\",\"Filters changed\"))}setData(t,e,i,s){const r=z(t);this._ensureSizeForTexel(r),this._getBlock(e).setData(t,i,s)}getData(t,e,i){return this._getBlock(e).getData(t,i)}getHighlightFlag(t){return this._idsToHighlight.has(t)?g:0}unsetAttributeData(t){const e=z(t);this._getBlock(0).setData(e,0,0)}setAttributeData(t,e){const i=z(t);if(this._ensureSizeForTexel(i),this._getBlock(0).setData(i,0,this.getFilterFlags(e)),this._targetType!==T(t))return;const r=this._attributeComputeMap,a=this.config.supportsTextureFloat?1:2,o=4;r.size&&r.forEach(((t,r)=>{const n=r*a%o,l=Math.floor(r*a/o),h=this._getBlock(l+f),c=t(e);if(this.config.supportsTextureFloat)h.setData(i,n,c);else if(c===m)h.setData(i,n,255),h.setData(i,n+1,255);else{const t=s(Math.round(c),-32767,32766)+32768,e=255&t,r=(65280&t)>>8;h.setData(i,n,e),h.setData(i,n+1,r)}}))}sendUpdates(){if(this._nextUpdate)return this._nextUpdate.promise;if(this._currUpdate)return this._nextUpdate=c(),this._nextUpdate.promise;const e={blocks:this._blocks.map((t=>a(t)?t.toMessage():null))};return this._currUpdate=this._createResources().then((()=>{const t=()=>{if(this._currUpdate=null,this._nextUpdate){const t=this._nextUpdate;this._nextUpdate=null,this.sendUpdates().then((()=>t.resolve()))}},i=this._client.update(e,this._signal).then(t).catch(t);return this._client.render(this._signal),i})).catch((e=>u(e)?(this._createResourcesPromise=null,this._createResources()):(E.error(new t(\"mapview-attribute-store\",\"Encountered an error during client update\",e)),Promise.resolve()))),this._currUpdate}_ensureSizeForTexel(t){for(;t>=this._size*this._size;)if(this._expand())return}_bindAttribute(t){function e(){return t.normalizationField?e=>{const i=e.readAttribute(t.normalizationField);if(!i)return null;return e.readAttribute(t.field)/i}:e=>e.readAttribute(t.field)}function i(){return t.normalizationField&&E.warn(\"mapview-arcade\",\"Ignoring normalizationField specified with an arcade expression which is not supported.\"),e=>e.getComputedNumericAtIndex(t.fieldIndex)}let s;if(null!=t.fieldIndex)s=i();else{if(!t.field)return;s=e()}if(t.valueRepresentation){s=C(s,(e=>D(e,t.valueRepresentation)))}const r=t=>null===t||isNaN(t)||t===1/0?m:t;this._attributeComputeMap.set(t.binding,C(s,r))}_createResources(){if(a(this._createResourcesPromise))return this._createResourcesPromise;this._getBlock(y),F(\"Initializing AttributeStore\");const e={shared:U.sharedArrayBuffer&&!(\"local\"===this._client.type),size:this._size,blocks:o(this._blocks,(t=>({textureOnly:t.textureOnly,buffer:t.buffer,pixelType:t.pixelType})))},i=this._client.initialize(e,this._signal).catch((e=>{u(e)?this._createResourcesPromise=null:E.error(new t(\"mapview-attribute-store\",\"Encountered an error during client initialization\",e))}));return this._createResourcesPromise=i,i.then((()=>r(this._createResourcesPromise)?this._createResources():void 0)),i}_getBlock(t){const e=this._blocks[t];if(a(e))return e;F(`Initializing AttributeBlock at index ${t}`);const i=U.sharedArrayBuffer,s=this._client.type,r=new R(i,s,this._size,this._blockDescriptors[t]);return this._blocks[t]=r,this._createResourcesPromise=null,r}_expand(){if(this._size<this.config.maxTextureSize){const t=this._size<<=1;return F(\"Expanding block size to\",t,this._blocks),n(this._blocks,(e=>e.expand(t))),this._createResourcesPromise=null,this._size=t,0}return E.error(new t(\"mapview-limitations\",\"Maximum number of onscreen features exceeded.\")),-1}async _updateFilter(t,e,i,s){const o=this._filters[e],n=a(o)&&o.hash;if(!o&&!t)return!1;if(n===JSON.stringify(t))return!1;if(r(t)){if(!o)return!1;const t=1<<e+1,i=this._getBlock(0);return this._filters[e]=null,i.setComponentAllTexels(0,t),this.sendUpdates(),!0}const l=await this._getFilter(e,i);return await l.update(t,s),!0}async _getFilter(t,e){const i=this._filters[t];if(a(i))return i;const{default:s}=await import(\"./FeatureFilter.js\"),r=new s({geometryType:e.geometryType,hasM:!1,hasZ:!1,timeInfo:e.timeInfo,fieldsIndex:new p(e.fields)});return this._filters[t]=r,r}isVisible(t){return!!(2&this._getBlock(0).getData(t,0))}getFilterFlags(t){let e=0;const i=S(t.getDisplayId());for(let a=0;a<this._filters.length;a++){const s=!!(i&1<<a),o=this._filters[a];e|=(!s||r(o)||o.check(t)?1:0)<<a}let s=0;if(this._idsToHighlight.size){const e=t.getObjectId();s=this.getHighlightFlag(e)}return e<<1|s}}export{M as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{DISPLAY_ID_TEXEL_MASK as t,createDisplayId as e}from\"../../../engine/webgl/DisplayId.js\";import{DisplayIdGenerator as s}from\"./DisplayIdGenerator.js\";import{StaticBitSet as i}from\"./StaticBitSet.js\";function n(t,e,s){if(!(t.length>e))for(;t.length<=e;)t.push(s)}class r{constructor(){this._numerics=[],this._strings=[],this._idGenerator=new s,this._allocatedSize=256,this._bitsets=[],this._instanceIds=[],this._bounds=[]}createBitset(){const e=this._bitsets.length;return this._bitsets.push(i.create(this._allocatedSize,t)),e+1}getBitset(t){return this._bitsets[t-1]}_expand(){this._allocatedSize<<=1;for(const t of this._bitsets)t.resize(this._allocatedSize)}_ensureNumeric(t,e){this._numerics[t]||(this._numerics[t]=[]);n(this._numerics[t],e,0)}_ensureInstanceId(t){n(this._instanceIds,t,0)}_ensureString(t,e){this._strings[t]||(this._strings[t]=[]);n(this._strings[t],e,null)}createDisplayId(t=!1){const s=this._idGenerator.createId();return s>this._allocatedSize&&this._expand(),e(s,t)}releaseDisplayId(e){for(const t of this._bitsets)t.unset(e);return this._idGenerator.releaseId(e&t)}getComputedNumeric(e,s){return this.getComputedNumericAtIndex(e&t,0)}setComputedNumeric(e,s,i){return this.setComputedNumericAtIndex(e&t,i,0)}getComputedString(e,s){return this.getComputedStringAtIndex(e&t,0)}setComputedString(e,s,i){return this.setComputedStringAtIndex(e&t,0,i)}getComputedNumericAtIndex(e,s){const i=e&t;return this._ensureNumeric(s,i),this._numerics[s][i]}setComputedNumericAtIndex(e,s,i){const n=e&t;this._ensureNumeric(s,n),this._numerics[s][n]=i}getInstanceId(e){const s=e&t;return this._ensureInstanceId(s),this._instanceIds[s]}setInstanceId(e,s){const i=e&t;this._ensureInstanceId(i),this._instanceIds[i]=s}getComputedStringAtIndex(e,s){const i=e&t;return this._ensureString(s,i),this._strings[s][i]}setComputedStringAtIndex(e,s,i){const n=e&t;this._ensureString(s,n),this._strings[s][n]=i}getXMin(e){return this._bounds[4*(e&t)]}getYMin(e){return this._bounds[4*(e&t)+1]}getXMax(e){return this._bounds[4*(e&t)+2]}getYMax(e){return this._bounds[4*(e&t)+3]}setBounds(e,s){const i=s.readHydratedGeometry();if(!i||!i.coords.length)return!1;let r=1/0,u=1/0,o=-1/0,h=-1/0;i.forEachVertex(((t,e)=>{r=Math.min(r,t),u=Math.min(u,e),o=Math.max(o,t),h=Math.max(h,e)}));const d=e&t;return n(this._bounds,4*d+4,0),this._bounds[4*d]=r,this._bounds[4*d+1]=u,this._bounds[4*d+2]=o,this._bounds[4*d+3]=h,!0}}export{r as ComputedAttributeStorage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{createDisplayId as e}from\"../../../engine/webgl/DisplayId.js\";class r{constructor(){this._freeIds=[],this._idCounter=1}createId(r=!1){return e(this._getFreeId(),r)}releaseId(e){this._freeIds.push(e)}_getFreeId(){return this._freeIds.length?this._freeIds.pop():this._idCounter++}}export{r as DisplayIdGenerator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../../geometry.js\";import e from\"../../../../../core/has.js\";import{isSome as t,isNone as r,unwrapOr as s}from\"../../../../../core/maybe.js\";import{getCentroidOptimizedGeometry as i}from\"../../../../../layers/graphics/centroid.js\";import{convertToGeometry as o}from\"../../../../../layers/graphics/featureConversionUtils.js\";import n from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{StaticBitSet as d}from\"./StaticBitSet.js\";import{fromJSON as a}from\"../../../../../geometry/support/jsonUtils.js\";var h,u,l;let c=0;const m=null!=(h=e(\"featurelayer-simplify-thresholds\"))?h:[.5,.5,.5,.5],_=m[0],g=m[1],p=m[2],y=m[3],f=null!=(u=e(\"featurelayer-simplify-payload-size-factors\"))?u:[1,2,4],I=f[0],x=f[1],A=f[2],j=null!=(l=e(\"featurelayer-simplify-mobile-factor\"))?l:2,S=e(\"esri-mobile\");class b{constructor(e){this.type=\"FeatureSetReader\",this.seen=!1,this.instance=0,this._tx=0,this._ty=0,this._sx=1,this._sy=1,this._deleted=null,this._joined=[],this._objectIdToIndex=null,this._level=0,this.instance=e}static createInstance(){return c++,c=c>65535?0:c,c}get isEmpty(){return t(this._deleted)&&this._deleted.countSet()===this.getSize()}set level(e){this._level=e}getAreaSimplificationThreshold(e,t){let r=1;const s=S?j:1;t>4e6?r=A*s:t>1e6?r=x*s:t>5e5?r=I*s:t>1e5&&(r=s);let i=0;e>4e3?i=y*r:e>2e3?i=p*r:e>100?i=g:e>15&&(i=_);let o=8;return this._level<4?o=1:this._level<5?o=2:this._level<6&&(o=4),i*o}setArcadeSpatialReference(e){this._arcadeSpatialReference=e}attachStorage(e){this._storage=e}getQuantizationTransform(){throw new Error(\"Unable to find transform for featureSet\")}getStorage(){return this._storage}getComputedNumeric(e){return this.getComputedNumericAtIndex(0)}setComputedNumeric(e,t){return this.setComputedNumericAtIndex(t,0)}getComputedString(e){return this.getComputedStringAtIndex(0)}setComputedString(e,t){return this.setComputedStringAtIndex(0,t)}getComputedNumericAtIndex(e){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),e)}setComputedNumericAtIndex(e,t){this._storage.setComputedNumericAtIndex(this.getDisplayId(),e,t)}getComputedStringAtIndex(e){return this._storage.getComputedStringAtIndex(this.getDisplayId(),e)}setComputedStringAtIndex(e,t){return this._storage.setComputedStringAtIndex(this.getDisplayId(),e,t)}transform(e,t,r,s){const i=this.copy();return i._tx+=e,i._ty+=t,i._sx*=r,i._sy*=s,i}readAttribute(e,t=!1){const r=this._readAttribute(e,t);if(void 0!==r)return r;for(const s of this._joined){s.setIndex(this.getIndex());const r=s._readAttribute(e,t);if(void 0!==r)return r}}readAttributes(){const e=this._readAttributes();for(const t of this._joined){t.setIndex(this.getIndex());const r=t._readAttributes();for(const t of Object.keys(r))e[t]=r[t]}return e}joinAttributes(e){this._joined.push(e)}readArcadeFeature(){return this}geometry(){const e=this.readHydratedGeometry(),t=o(e,this.geometryType,this.hasZ,this.hasM),r=a(t);return r&&(r.spatialReference=this._arcadeSpatialReference),r}field(e){return this.readAttribute(e,!0)}hasField(e){return!0}setField(e,t){}keys(){return[]}castToText(){return\"\"}removeIds(e){if(r(this._objectIdToIndex)){const e=new Map,t=this.getCursor();for(;t.next();)e.set(t.getObjectId(),t.getIndex());this._objectIdToIndex=e}const t=this._objectIdToIndex;for(const r of e)t.has(r)&&this.removeAtIndex(t.get(r))}removeAtIndex(e){r(this._deleted)&&(this._deleted=d.create(this.getSize())),this._deleted.set(e)}readGeometryForDisplay(){return this.readUnquantizedGeometry(!0)}readLegacyGeometryForDisplay(){return this.readLegacyGeometry(!0)}*features(){const e=this.getCursor();for(;e.next();)yield e.readOptimizedFeature()}_getExists(){return r(this._deleted)||!this._deleted.has(this.getIndex())}_computeCentroid(){if(\"esriGeometryPolygon\"!==this.geometryType)return null;const e=this.readUnquantizedGeometry();if(!e||e.hasIndeterminateRingOrder)return null;const t=s(this.getQuantizationTransform(),null);return i(new n,e,this.hasM,this.hasZ,t)}copyInto(e){e.seen=this.seen,e._storage=this._storage,e._arcadeSpatialReference=this._arcadeSpatialReference,e._joined=this._joined,e._tx=this._tx,e._ty=this._ty,e._sx=this._sx,e._sy=this._sy,e._deleted=this._deleted,e._objectIdToIndex=this._objectIdToIndex}}export{b as FeatureSetReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../../../../../core/maybe.js\";import{convertFromFeatures as r,convertFromFeatureSet as s,convertToFeature as i,convertToGeometry as n,getQuantizedArea as o,unquantizeOptimizedGeometry as a}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{hasGeometry as u}from\"../../../../../layers/graphics/OptimizedFeature.js\";import{FeatureSetReader as h}from\"./FeatureSetReader.js\";function c({coords:t,lengths:e}){let r=0;for(const s of e){for(let e=1;e<s;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=s}}class d extends h{constructor(t,e,r){super(t),this._featureIndex=-1,this._dateFields=new Set,this._geometryType=r,this._features=e}static fromFeatures(t,e,s){const i=r([],t,e,!1,!1,s);for(let r=0;r<i.length;r++)i[r].displayId=t[r].displayId;return d.fromOptimizedFeatures(i,e)}static fromFeatureSet(t,e){const r=s(t,e);return d.fromOptimizedFeatureSet(r)}static fromOptimizedFeatureSet(t){const{features:e,geometryType:r}=t,s=d.fromOptimizedFeatures(e,r);s._exceededTransferLimit=t.exceededTransferLimit,s._transform=t.transform;for(const i of t.fields)\"esriFieldTypeDate\"===i.type&&s._dateFields.add(i.name);return s}static fromOptimizedFeatures(t,e,r){const s=h.createInstance(),i=new d(s,t,e);return i._transform=r,i}get _current(){return this._features[this._featureIndex]}get geometryType(){return this._geometryType}get hasFeatures(){return!!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return!1}get hasM(){return!1}removeIds(t){const e=new Set(t);this._features=this._features.filter((t=>!e.has(t.objectId)))}append(t){for(const e of t)this._features.push(e)}getSize(){return this._features.length}getCursor(){return this.copy()}getQuantizationTransform(){return this._transform}getAttributeHash(){let t=\"\";for(const e in this._current.attributes)t+=this._current.attributes[e];return t}getIndex(){return this._featureIndex}setIndex(t){this._featureIndex=t}getObjectId(){return this._current.objectId}getDisplayId(){return this._current.displayId}setDisplayId(t){this._current.displayId=t}getGroupId(){return this._current.groupId}setGroupId(t){this._current.groupId=t}copy(){const t=new d(this.instance,this._features,this.geometryType);return this.copyInto(t),t}next(){for(;++this._featureIndex<this._features.length&&!this._getExists(););return this._featureIndex<this._features.length}readLegacyFeature(){return i(this._current,this.geometryType,this.hasZ,this.hasM)}readOptimizedFeature(){return this._current}readLegacyPointGeometry(){return this.readGeometry()?{x:this.getX(),y:this.getY()}:null}readLegacyGeometry(){const t=this.readGeometry();return n(t,this.geometryType,this.hasZ,this.hasM)}readLegacyCentroid(){const e=this.readCentroid();return t(e)?null:{x:e.coords[0]*this._sx+this._tx,y:e.coords[1]*this._sy+this._ty}}readGeometryArea(){return u(this._current)?o(this._current.geometry,2):0}readUnquantizedGeometry(){const t=this.readGeometry();if(\"esriGeometryPoint\"===this.geometryType||!t)return t;const e=t.clone();return c(e),e}readHydratedGeometry(){const r=this._current.geometry;if(t(r))return null;const s=r.clone();return e(this._transform)&&a(s,s,this.hasZ,this.hasM,this._transform),s}getXHydrated(){if(!u(this._current))return 0;const e=this._current.geometry.coords[0],r=this.getQuantizationTransform();return t(r)?e:e*r.scale[0]+r.translate[0]}getYHydrated(){if(!u(this._current))return 0;const e=this._current.geometry.coords[1],r=this.getQuantizationTransform();return t(r)?e:r.translate[1]-e*r.scale[1]}getX(){return u(this._current)?this._current.geometry.coords[0]*this._sx+this._tx:0}getY(){return u(this._current)?this._current.geometry.coords[1]*this._sy+this._ty:0}readGeometry(){if(!u(this._current))return null;const t=this._current.geometry.clone();if(t.isPoint)return t.coords[0]=t.coords[0]*this._sx+this._tx,t.coords[1]=t.coords[1]*this._sy+this._ty,t;let e=0;for(const r of t.lengths)t.coords[2*e]=t.coords[2*e]*this._sx+this._tx,t.coords[2*e+1]=t.coords[2*e+1]*this._sy+this._ty,e+=r;return t}readCentroid(){if(!u(this._current))return null;if(!this._current.centroid){const t=this._computeCentroid();if(!t)return null;t.coords[0]=(t.coords[0]-this._tx)/this._sx,t.coords[1]=(t.coords[1]-this._ty)/this._sy,this._current.centroid=t}const t=this._current.centroid.clone();return t.coords[0]=t.coords[0]*this._sx+this._tx,t.coords[1]=t.coords[1]*this._sx+this._ty,t}_readAttribute(t,e){const r=this._current.attributes[t];if(void 0!==r)return null!=r&&e&&this._dateFields.has(t)?new Date(r):r;const s=this.readAttributes(),i=t.toLocaleLowerCase().trim();for(const n in s)if(n.toLocaleLowerCase().trim()===i){const t=this._current.attributes[n];return null!=t&&e&&this._dateFields.has(n)?new Date(t):t}}copyInto(t){super.copyInto(t),t._featureIndex=this._featureIndex,t._transform=this._transform,t._dateFields=this._dateFields}_readAttributes(){return this._current.attributes}}export{d as FeatureSetReaderJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e){this._mask=0,this._buf=t,this._mask=e}static fromBuffer(e,s){return new t(e,s)}static create(e,s=4294967295){const r=new Uint32Array(Math.ceil(e/32));return new t(r,s)}_getIndex(t){return Math.floor(t/32)}has(t){const e=this._mask&t;return!!(this._buf[this._getIndex(e)]&1<<e%32)}hasRange(t,e){let s=t,r=e;for(;s%32&&s!==r;){if(this.has(s))return!0;s++}for(;r%32&&s!==r;){if(this.has(s))return!0;r--}if(s===r)return!1;for(let h=s/32;h!==r/32;h++){if(this._buf[h])return!0}return!1}set(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]|=r}setRange(t,e){let s=t,r=e;for(;s%32&&s!==r;)this.set(s++);for(;r%32&&s!==r;)this.set(r--);if(s!==r)for(let h=s/32;h!==r/32;h++)this._buf[h]=4294967295}unset(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]&=4294967295^r}resize(t){const e=this._buf,s=new Uint32Array(Math.ceil(t/32));s.set(e),this._buf=s}or(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=t._buf[e];return this}and(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=t._buf[e];return this}xor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=t._buf[e];return this}ior(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=~t._buf[e];return this}iand(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=~t._buf[e];return this}ixor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=~t._buf[e];return this}any(){for(let t=0;t<this._buf.length;t++)if(this._buf[t])return!0;return!1}copy(t){for(let e=0;e<this._buf.length;e++)this._buf[e]=t._buf[e];return this}clone(){return new t(this._buf.slice(),this._mask)}clear(){for(let t=0;t<this._buf.length;t++)this._buf[t]=0}forEachSet(t){for(let e=0;e<this._buf.length;e++){let s=this._buf[e],r=32*e;if(s)for(;s;){1&s&&t(r),s>>>=1,r++}}}countSet(){let t=0;return this.forEachSet((e=>{t++})),t}}export{t as StaticBitSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../../core/maybe.js\";import{toPt as t,pt2px as s}from\"../../../../../../core/screenUtils.js\";import{premultiplyAlpha as n}from\"../../../../engine/webgl/color.js\";import{NAN_MAGIC_NUMBER as o}from\"../../../../engine/webgl/definitions.js\";import{WGLVVFlag as i}from\"../../../../engine/webgl/enums.js\";import{getTypeOfSizeVisualVariable as l}from\"../../../../engine/webgl/visualVariablesUtils.js\";function r(e,t){if(!e||!t)return e;switch(t){case\"radius\":case\"distance\":return 2*e;case\"diameter\":case\"width\":return e;case\"area\":return Math.sqrt(e)}return e}function a(e){return{value:e.value,size:t(e.size)}}function u(e){return e.map((e=>a(e)))}function c(e){if(\"string\"==typeof e||\"number\"==typeof e)return t(e);const s=e;return{type:\"size\",expression:s.expression,stops:u(s.stops)}}function p(e){const t=e&&e.length>0?{}:null;return t&&e.forEach((e=>{const s=e.type;e.field&&(t[s]=e.field)})),t}const f=e=>{const t=[],n=[],i=u(e),l=i.length;for(let r=0;r<6;r++){const e=i[Math.min(r,l-1)];t.push(e.value),n.push(null==e.size?o:s(e.size))}return{values:new Float32Array(t),sizes:new Float32Array(n)}};function m(e){const t=e&&e.length>0?{}:null,s=t?{}:null;if(!t)return{vvFields:t,vvRanges:s};for(const n of e)if(n.field&&(t[n.type]=n.field),\"size\"===n.type){s.size||(s.size={});const e=n;switch(l(e)){case i.SIZE_MINMAX_VALUE:s.size.minMaxValue={minDataValue:e.minDataValue,maxDataValue:e.maxDataValue,minSize:c(e.minSize),maxSize:c(e.maxSize)};break;case i.SIZE_SCALE_STOPS:s.size.scaleStops={stops:u(e.stops)};break;case i.SIZE_FIELD_STOPS:if(e.levels){const t={};for(const s in e.levels)t[s]=f(e.levels[s]);s.size.fieldStops={type:\"level-dependent\",levels:t}}else s.size.fieldStops={type:\"static\",...f(e.stops)};break;case i.SIZE_UNIT_VALUE:s.size.unitValue={unit:e.valueUnit,valueRepresentation:e.valueRepresentation}}}else if(\"color\"===n.type)s.color=y(n);else if(\"opacity\"===n.type)s.opacity=v(n);else if(\"rotation\"===n.type){const e=n;s.rotation={type:e.rotationType}}return{vvFields:t,vvRanges:s}}function v(e){const t={values:[0,0,0,0,0,0,0,0],opacities:[0,0,0,0,0,0,0,0]};if(\"string\"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,t.opacities[e]=n.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0&&e.stops[0].opacity;for(let e=0;e<8;e++)t.values[e]=1/0,t.opacities[e]=s}}return t}function g(e,t,s){e[4*t+0]=s.r/255,e[4*t+1]=s.g/255,e[4*t+2]=s.b/255,e[4*t+3]=s.a}function y(t){if(e(t))return null;if(t.normalizationField)return null;const s={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};if(\"string\"==typeof t.field){if(!t.stops)return null;{if(t.stops.length>8)return null;s.field=t.field;const e=t.stops;for(let t=0;t<8;++t){const n=e[Math.min(t,e.length-1)];s.values[t]=n.value,g(s.colors,t,n.color)}}}else{if(!(t.stops&&t.stops.length>=0))return null;{const e=t.stops&&t.stops.length>=0&&t.stops[0].color;for(let t=0;t<8;t++)s.values[t]=1/0,g(s.colors,t,e)}}for(let e=0;e<32;e+=4)n(s.colors,e,!0);return s}export{y as convertColorVariable,m as convertVisualVariables,r as getVisualVariableSizeValueRepresentationRatio,p as getVisualVariablesFields,c as normalizeSizeElement,u as normalizeSizeStops,a as stopToSizeStop};\n"],"names":["t","e","i","clamp","s","isNone","r","isSome","a","mapMany","o","forEachSome","n","andThen","l","unwrap","h","createResolver","c","isAbortError","u","diff","d","p","MAX_FILTERS","_","HIGHLIGHT_FLAG","g","ATTRIBUTE_DATA_VV","f","NAN_MAGIC_NUMBER","m","ATTRIBUTE_DATA_ANIMATION","y","DISPLAY_ID_TYPE_AGGREGATE","x","DISPLAY_ID_TYPE_FEATURE","b","getDisplayIdTexel","z","getDisplayIdType","T","getDisplayIdFilterMask","S","getPixelArrayCtor","w","createDebugLogger","A","DEBUG_ATTR_UPDATES","k","getVisualVariableSizeValueRepresentationRatio","D","E","getLogger","F","U","sharedArrayBuffer","atomics","C","R","constructor","size","texelSize","pixelType","layout","textureOnly","_ctype","_resetRange","_shared","data","_initData","buffer","unsetComponentAllTexels","dirtyStart","dirtyEnd","setComponentAllTexels","setComponent","Math","min","max","setComponentTexel","unsetComponentTexel","getData","setData","error","lock","Atomics","store","unlock","expand","set","toMessage","start","end","slice","SharedArrayBuffer","ArrayBuffer","BYTES_PER_ELEMENT","length","M","_client","config","_attributeComputeMap","Map","_blocks","Array","_filters","_targetType","_abortController","AbortController","_hasScaleExpr","_size","_idsToHighlight","Set","supportsTextureFloat","_blockDescriptors","map","destroy","abort","hasScaleExpr","_signal","signal","update","schema","processors","storage","_schema","targets","feature","aggregate","console","debug","clear","target","type","mapping","_bindAttribute","onTileData","addOrUpdate","getCursor","next","getDisplayId","setAttributeData","invalidateResources","_createResourcesPromise","setHighlight","_getBlock","add","sendUpdates","updateFilters","service","spatialReference","filters","_updateFilter","Promise","all","some","_ensureSizeForTexel","getHighlightFlag","has","unsetAttributeData","getFilterFlags","forEach","floor","round","_nextUpdate","promise","_currUpdate","blocks","_createResources","then","resolve","catch","render","_expand","normalizationField","readAttribute","field","warn","getComputedNumericAtIndex","fieldIndex","valueRepresentation","isNaN","binding","shared","initialize","maxTextureSize","hash","JSON","stringify","_getFilter","default","geometryType","hasM","hasZ","timeInfo","fieldsIndex","fields","isVisible","check","getObjectId"],"sourceRoot":"webpack:///"}