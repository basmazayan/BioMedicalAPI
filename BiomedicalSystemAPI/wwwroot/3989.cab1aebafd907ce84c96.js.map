{"version":3,"mappings":"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","names":["i","e","r","a","properties","customParameters","t","d","url","l","U","sublayerIds","layerOrTableId","layerId","sourceJSON","Constructor","n","default","title","parsedUrl","c","find","id","sublayerTitleMode","forEach","y","sublayerInfos","add","tableIds","tableInfos","tables","s","f","serverType","sublayer","o","u","FeatureServer","StreamServer","VectorTileServer","S","then","w","tileInfo","format","toUpperCase","cacheType","toLowerCase","path","layerType","layers","Array","isArray","length","Point","IntegratedMesh","PointCloud","Building","p","FeatureLayer","SceneLayer","v","layerInfos","layerIds","I","b","m","type","hasOwnProperty","name","serviceUrl","layersJSON","serviceJSON","map","reverse","filter","currentVersion","responseType","query","data","BingMapsLayer","BuildingSceneLayer","Promise","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","GeoJSONLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OGCFeatureLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","VoxelLayer","WebTileLayer","WFSLayer","WMSLayer","WMTSLayer"],"sources":["./node_modules/@arcgis/core/layers/support/arcgisLayers.js","./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isNone as a,isSome as t}from\"../../core/maybe.js\";import{getFilename as l,urlToObject as n}from\"../../core/urlUtils.js\";import{parse as s,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function i(e){var r;const a=null==(r=e.properties)?void 0:r.customParameters,t=await d(e.url,a),l={...e.properties,url:e.url};if(!t.sublayerIds)return null!=t.layerOrTableId&&(l.layerId=t.layerOrTableId,l.sourceJSON=t.sourceJSON),new t.Constructor(l);const n=new(0,(await import(\"../GroupLayer.js\")).default)({title:t.parsedUrl.title});return c(n,t,l),n}function y(e,r){return e?e.find((e=>e.id===r)):null}function c(e,r,a){function l(e,l){const n={...a,layerId:e,sublayerTitleMode:\"service-name\"};return t(l)&&(n.sourceJSON=l),new r.Constructor(n)}r.sublayerIds.forEach((a=>{const t=l(a,y(r.sublayerInfos,a));e.add(t)})),r.tableIds.forEach((a=>{const t=l(a,y(r.tableInfos,a));e.tables.add(t)}))}async function d(e,t){let l=s(e);if(a(l)&&(l=await f(e,t)),a(l))throw new r(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:e});const{serverType:n,sublayer:o}=l;let u;const i={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":S(e,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=w(e,t).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||\"LERC\"!==r.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=w(l.url.path,t).then((e=>{if(e){if(\"Voxel\"===(null==e?void 0:e.layerType))return\"VoxelLayer\";if(null!=e&&e.layers&&Array.isArray(e.layers)&&e.layers.length>0){var r;const a={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"},t=null==(r=e.layers[0])?void 0:r.layerType;if(null!=a[t])return a[t]}}return\"SceneLayer\"}));break;default:u=i[n]}const y={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,d={parsedUrl:l,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},p=await u;if(y[p]&&null==o){const r=await v(e,n,t);c&&(d.sublayerInfos=r.layerInfos,d.tableInfos=r.tableInfos);if(1!==r.layerIds.length+r.tableIds.length)d.sublayerIds=r.layerIds,d.tableIds=r.tableIds;else if(c){var I,b;d.layerOrTableId=null!=(I=r.layerIds[0])?I:r.tableIds[0],d.sourceJSON=null!=(b=r.layerInfos[0])?b:r.tableInfos[0]}}return d.Constructor=await m(p),d}async function f(e,r){var a;const s=await w(e,r);let u=null,i=null;const y=s.type;if(\"Feature Layer\"===y||\"Table\"===y?(u=\"FeatureServer\",i=s.id):\"indexedVector\"===y?u=\"VectorTileServer\":s.hasOwnProperty(\"mapName\")?u=\"MapServer\":s.hasOwnProperty(\"bandCount\")&&s.hasOwnProperty(\"pixelSizeX\")?u=\"ImageServer\":s.hasOwnProperty(\"maxRecordCount\")&&s.hasOwnProperty(\"allowGeometryUpdates\")?u=\"FeatureServer\":s.hasOwnProperty(\"streamUrls\")?u=\"StreamServer\":p(s)?(u=\"SceneServer\",i=s.id):s.hasOwnProperty(\"layers\")&&p(null==(a=s.layers)?void 0:a[0])&&(u=\"SceneServer\"),!u)return null;const c=null!=i?o(e):null;return{title:t(c)&&s.name||l(e),serverType:u,sublayer:i,url:{path:t(c)?c.serviceUrl:n(e).path}}}function p(e){return(null==e?void 0:e.hasOwnProperty(\"store\"))&&e.hasOwnProperty(\"id\")&&\"number\"==typeof e.id}async function v(e,r,a){var t,l;let n,s=!1;if(\"FeatureServer\"===r){const r=await b(e,a);s=!!r.layersJSON,n=r.layersJSON||r.serviceJSON}else n=await w(e,a);const o=null==(t=n)?void 0:t.layers,u=null==(l=n)?void 0:l.tables;return{layerIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],tableIds:(null==u?void 0:u.map((e=>e.id)).reverse())||[],layerInfos:s?o:[],tableInfos:s?u:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function b(e,r){var a,t;let l=await w(e,r);l=l||{},l.layers=(null==(a=l.layers)?void 0:a.filter(I))||[];const n={serviceJSON:l};if(l.currentVersion<10.5)return n;const s=await w(e+\"/layers\",r);return n.layersJSON={layers:(null==s||null==(t=s.layers)?void 0:t.filter(I))||[],tables:(null==s?void 0:s.tables)||[]},n}async function m(e){return(0,u[e])()}async function S(e,r){return(await w(e,r)).tileInfo}async function w(r,a){return(await e(r,{responseType:\"json\",query:{f:\"json\",...a}})).data}export{i as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,GeoJSONLayer:async()=>(await import(\"../GeoJSONLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OGCFeatureLayer:async()=>(await import(\"../OGCFeatureLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,VoxelLayer:async()=>(await import(\"../VoxelLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WFSLayer:async()=>(await import(\"../WFSLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n"],"sourceRoot":"webpack:///","file":"3989.cab1aebafd907ce84c96.js"}