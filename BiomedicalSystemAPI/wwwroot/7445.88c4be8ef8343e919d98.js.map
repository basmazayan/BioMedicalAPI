{"version":3,"mappings":"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","names":["e","t","n","r","o","i","layerType","url","featureCollectionType","itemId","id","portal","load","type","a","y","d","push","G","value","filter","add","l","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","PointCloudLayer","ArcGISSceneServiceLayer","IntegratedMeshLayer","OGCFeatureLayer","BuildingSceneLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","GroupLayer","GeoJSON","WebTiledLayer","CSV","VectorTileLayer","WFS","WMS","DefaultTileLayer","KML","RasterDataLayer","Voxel","c","RasterDataElevationLayer","s","OpenStreetMap","p","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsRoad","BingMapsHybrid","GeoRSS","SubtypeGroupLayer","u","S","I","T","read","context","m","M","g","defaultLayerType","f","L","className","wmtsInfo","layerIdentifier","wfsInfo","version","featureCollection","layers","length","origin","layerContainerType","Array","isArray","addMany","showLegend","map","O","ignoreDefaults","visibility","visibleLayers","includes"],"sources":["./node_modules/@arcgis/core/portal/support/featureCollectionUtils.js","./node_modules/@arcgis/core/layers/support/layersCreator.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../PortalItem.js\";import{hasTypeKeyword as t}from\"./portalItemUtils.js\";function r(e,t){return n(e,t,\"notes\",\"Map Notes\")}function o(e,t){return n(e,t,\"route\",\"Route Layer\")}async function n(r,o,n,i){if(!r.layerType||\"ArcGISFeatureLayer\"!==r.layerType)return!1;if(r.url)return!1;if(r.featureCollectionType&&r.featureCollectionType===n)return!0;if(r.itemId){const n=new e({id:r.itemId,portal:o});return await n.load(),\"Feature Collection\"===n.type&&t(n,i)}return!1}export{r as isMapNotesLayer,o as isRouteLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Collection.js\";import\"../../core/has.js\";import{eachAlways as r}from\"../../core/promiseUtils.js\";import{layerLookupMap as a}from\"./lazyLayerLoader.js\";import y from\"../../portal/PortalItem.js\";import{isMapNotesLayer as t,isRouteLayer as i}from\"../../portal/support/featureCollectionUtils.js\";import{selectLayerClassPath as L}from\"../../portal/support/portalLayers.js\";import{loadStyleRenderer as o}from\"../../renderers/support/styleUtils.js\";async function n(e,a,y){if(!a)return;const t=[];for(const r of a){const e=d(r,y);\"GroupLayer\"===r.layerType?t.push(G(e,r,y)):t.push(e)}const i=await r(t);for(const r of i)!r.value||y.filter&&!y.filter(r.value)||e.add(r.value)}const l={ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",PointCloudLayer:\"PointCloudLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",IntegratedMeshLayer:\"IntegratedMeshLayer\",OGCFeatureLayer:\"OGCFeatureLayer\",BuildingSceneLayer:\"BuildingSceneLayer\",ArcGISTiledElevationServiceLayer:\"ElevationLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",GroupLayer:\"GroupLayer\",GeoJSON:\"GeoJSONLayer\",WebTiledLayer:\"WebTileLayer\",CSV:\"CSVLayer\",VectorTileLayer:\"VectorTileLayer\",WFS:\"WFSLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\",KML:\"KMLLayer\",RasterDataLayer:\"UnsupportedLayer\",Voxel:\"UnsupportedLayer\"},c={ArcGISTiledElevationServiceLayer:\"ElevationLayer\",DefaultTileLayer:\"ElevationLayer\",RasterDataElevationLayer:\"UnsupportedLayer\"},s={ArcGISTiledMapServiceLayer:\"TileLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",WebTiledLayer:\"WebTileLayer\",VectorTileLayer:\"VectorTileLayer\",ArcGISImageServiceLayer:\"UnsupportedLayer\",WMS:\"UnsupportedLayer\",ArcGISMapServiceLayer:\"UnsupportedLayer\",DefaultTileLayer:\"TileLayer\"},p={ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISStreamLayer:\"StreamLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",CSV:\"CSVLayer\",DefaultTileLayer:\"TileLayer\",GeoRSS:\"GeoRSSLayer\",GeoJSON:\"GeoJSONLayer\",GroupLayer:\"GroupLayer\",KML:\"KMLLayer\",OGCFeatureLayer:\"OGCFeatureLayer\",SubtypeGroupLayer:\"UnsupportedLayer\",VectorTileLayer:\"VectorTileLayer\",WFS:\"WFSLayer\",WMS:\"WMSLayer\",WebTiledLayer:\"WebTileLayer\"},u={ArcGISFeatureLayer:\"FeatureLayer\"},S={ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",VectorTileLayer:\"VectorTileLayer\",WebTiledLayer:\"WebTileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\"};async function d(e,r){return I(await T(e,r),e,r)}async function I(e,r,a){const y=new e;return y.read(r,a.context),\"group\"===y.type&&m(r)&&await M(y,r,a.context),await o(y,a.context),y}async function T(e,r){const o=r.context,n=g(o);let l=e.layerType||e.type;!l&&r&&r.defaultLayerType&&(l=r.defaultLayerType);const c=n[l];let s=c?a[c]:a.UnknownLayer;const p=o&&o.portal;if(f(e)){if(e.itemId){const r=new y({id:e.itemId,portal:p});await r.load();const t=(await L(r)).className||\"UnknownLayer\";s=a[t]}}else\"ArcGISFeatureLayer\"===l?await t(e,p)?s=a.MapNotesLayer:await i(e,p)?s=a.RouteLayer:m(e)&&(s=a.GroupLayer):e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier?s=a.WMTSLayer:\"WFS\"===l&&\"2.0.0\"!==e.wfsInfo.version&&(s=a.UnsupportedLayer);return s()}function m(e){if(\"ArcGISFeatureLayer\"!==e.layerType||f(e))return!1;const r=e.featureCollection;return!!(r&&r.layers&&r.layers.length>1)}function f(e){return\"Feature Collection\"===e.type}function g(e){let r;if(\"web-scene\"===e.origin)switch(e.layerContainerType){case\"basemap\":r=s;break;case\"ground\":r=c;break;default:r=l}else switch(e.layerContainerType){case\"basemap\":r=S;break;case\"tables\":r=u;break;default:r=p}return r}async function G(r,a,y){const t=new e,i=n(t,Array.isArray(a.layers)?a.layers:[],y),L=await r;if(await i,\"group\"===L.type)return L.layers.addMany(t),L}async function M(e,r,y){const t=a.FeatureLayer,i=await t(),L=r.featureCollection,o=L.showLegend,n=L.layers.map(((a,t)=>{var L,n;const l=new i;l.read(a,y);const c={...y,ignoreDefaults:!0};return l.read({id:`${e.id}-sublayer-${t}`,visibility:null==(L=null==(n=r.visibleLayers)?void 0:n.includes(t))||L},c),null!=o&&l.read({showLegend:o},c),l}));e.layers.addMany(n)}export{n as populateOperationalLayers};\n"],"sourceRoot":"webpack:///","file":"7445.88c4be8ef8343e919d98.js"}